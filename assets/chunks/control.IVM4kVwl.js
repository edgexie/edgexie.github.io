var Sa=Object.defineProperty;var Aa=(e,n,t)=>n in e?Sa(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var je=(e,n,t)=>(Aa(e,typeof n!="symbol"?n+"":n,t),t),Hr=(e,n,t)=>{if(!n.has(e))throw TypeError("Cannot "+t)};var B=(e,n,t)=>(Hr(e,n,"read from private field"),t?t.call(e):n.get(e)),Ce=(e,n,t)=>{if(n.has(e))throw TypeError("Cannot add the same private member more than once");n instanceof WeakSet?n.add(e):n.set(e,t)},Te=(e,n,t,l)=>(Hr(e,n,"write to private field"),l?l.call(e,t):n.set(e,t),t);var vr=(e,n,t,l)=>({set _(h){Te(e,n,h,t)},get _(){return B(e,n,l)}}),Ie=(e,n,t)=>(Hr(e,n,"access private method"),t);import{a as Ia}from"./utils.9vjwtJc9.js";import{d as Ta,h as Vn,A as ka,D as _r,o as Oa,c as Ca,k as Ra,a as zr,I as ur,w as Er,t as Pa,F as Ba}from"./framework.OAYPKiJ5.js";var Cn=Object.defineProperty,xa=Object.getOwnPropertyDescriptor,Ma=Object.getOwnPropertyNames,Ua=Object.prototype.hasOwnProperty,Qe=(e,n)=>()=>(e&&(n=e(e=0)),n),ye=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),Zt=(e,n)=>{for(var t in n)Cn(e,t,{get:n[t],enumerable:!0})},La=(e,n,t,l)=>{if(n&&typeof n=="object"||typeof n=="function")for(let h of Ma(n))!Ua.call(e,h)&&h!==t&&Cn(e,h,{get:()=>n[h],enumerable:!(l=xa(n,h))||l.enumerable});return e},Me=e=>La(Cn({},"__esModule",{value:!0}),e),at,ne=Qe(()=>{at={deviceMemory:8,hardwareConcurrency:8,language:"en-US"}}),ze={};Zt(ze,{_debugEnd:()=>Di,_debugProcess:()=>ji,_events:()=>en,_eventsCount:()=>tn,_exiting:()=>Ai,_fatalExceptions:()=>Ui,_getActiveHandles:()=>Fo,_getActiveRequests:()=>Do,_kill:()=>ki,_linkedBinding:()=>No,_maxListeners:()=>Zi,_preload_modules:()=>Ji,_rawDebug:()=>_i,_startProfilerIdleNotifier:()=>Fi,_stopProfilerIdleNotifier:()=>Wi,_tickCallback:()=>Ni,abort:()=>Hi,addListener:()=>rn,allowedNodeEnvironmentFlags:()=>xi,arch:()=>li,argv:()=>ci,argv0:()=>Qi,assert:()=>Wo,binding:()=>bi,chdir:()=>wi,config:()=>Ii,cpuUsage:()=>pr,cwd:()=>yi,debugPort:()=>Yi,default:()=>Pn,dlopen:()=>jo,domain:()=>Si,emit:()=>ln,emitWarning:()=>gi,env:()=>hi,execArgv:()=>fi,execPath:()=>Gi,exit:()=>Pi,features:()=>Mi,hasUncaughtExceptionCaptureCallback:()=>$o,hrtime:()=>Or,kill:()=>Ri,listeners:()=>Vo,memoryUsage:()=>Ci,moduleLoadList:()=>Ei,nextTick:()=>Uo,off:()=>on,on:()=>vt,once:()=>nn,openStdin:()=>Bi,pid:()=>zi,platform:()=>ui,ppid:()=>Ki,prependListener:()=>un,prependOnceListener:()=>hn,reallyExit:()=>Ti,release:()=>vi,removeAllListeners:()=>an,removeListener:()=>sn,resourceUsage:()=>Oi,setSourceMapsEnabled:()=>Xi,setUncaughtExceptionCaptureCallback:()=>Li,stderr:()=>qi,stdin:()=>Vi,stdout:()=>$i,title:()=>ai,umask:()=>mi,uptime:()=>qo,version:()=>di,versions:()=>pi});function Rn(e){throw new Error("Node.js process "+e+" is not supported by JSPM core outside of Node.js")}function Na(){!Qt||!Gt||(Qt=!1,Gt.length?mt=Gt.concat(mt):mr=-1,mt.length&&Mo())}function Mo(){if(!Qt){var e=setTimeout(Na,0);Qt=!0;for(var n=mt.length;n;){for(Gt=mt,mt=[];++mr<n;)Gt&&Gt[mr].run();mr=-1,n=mt.length}Gt=null,Qt=!1,clearTimeout(e)}}function Uo(e){var n=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)n[t-1]=arguments[t];mt.push(new Lo(e,n)),mt.length===1&&!Qt&&setTimeout(Mo,0)}function Lo(e,n){this.fun=e,this.array=n}function Xe(){}function No(e){Rn("_linkedBinding")}function jo(e){Rn("dlopen")}function Do(){return[]}function Fo(){return[]}function Wo(e,n){if(!e)throw new Error(n||"assertion error")}function $o(){return!1}function qo(){return At.now()/1e3}function Or(e){var n=Math.floor((Date.now()-At.now())*.001),t=At.now()*.001,l=Math.floor(t)+n,h=Math.floor(t%1*1e9);return e&&(l=l-e[0],h=h-e[1],h<0&&(l--,h+=Cr)),[l,h]}function vt(){return Pn}function Vo(e){return[]}var mt,Qt,Gt,mr,ai,li,ui,hi,ci,fi,di,pi,gi,bi,mi,yi,wi,vi,_i,Ei,Si,Ai,Ii,Ti,ki,pr,Oi,Ci,Ri,Pi,Bi,xi,Mi,Ui,Li,Ni,ji,Di,Fi,Wi,$i,qi,Vi,Hi,zi,Ki,Gi,Yi,Qi,Ji,Xi,At,Kr,Cr,Zi,en,tn,rn,nn,on,sn,an,ln,un,hn,Pn,ja=Qe(()=>{se(),oe(),ne(),mt=[],Qt=!1,mr=-1,Lo.prototype.run=function(){this.fun.apply(null,this.array)},ai="browser",li="x64",ui="browser",hi={PATH:"/usr/bin",LANG:at.language+".UTF-8",PWD:"/",HOME:"/home",TMP:"/tmp"},ci=["/usr/bin/node"],fi=[],di="v16.8.0",pi={},gi=function(e,n){console.warn((n?n+": ":"")+e)},bi=function(e){Rn("binding")},mi=function(e){return 0},yi=function(){return"/"},wi=function(e){},vi={name:"node",sourceUrl:"",headersUrl:"",libUrl:""},_i=Xe,Ei=[],Si={},Ai=!1,Ii={},Ti=Xe,ki=Xe,pr=function(){return{}},Oi=pr,Ci=pr,Ri=Xe,Pi=Xe,Bi=Xe,xi={},Mi={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},Ui=Xe,Li=Xe,Ni=Xe,ji=Xe,Di=Xe,Fi=Xe,Wi=Xe,$i=void 0,qi=void 0,Vi=void 0,Hi=Xe,zi=2,Ki=1,Gi="/bin/usr/node",Yi=9229,Qi="node",Ji=[],Xi=Xe,At={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},At.now===void 0&&(Kr=Date.now(),At.timing&&At.timing.navigationStart&&(Kr=At.timing.navigationStart),At.now=()=>Date.now()-Kr),Cr=1e9,Or.bigint=function(e){var n=Or(e);return typeof BigInt>"u"?n[0]*Cr+n[1]:BigInt(n[0]*Cr)+BigInt(n[1])},Zi=10,en={},tn=0,rn=vt,nn=vt,on=vt,sn=vt,an=vt,ln=Xe,un=vt,hn=vt,Pn={version:di,versions:pi,arch:li,platform:ui,release:vi,_rawDebug:_i,moduleLoadList:Ei,binding:bi,_linkedBinding:No,_events:en,_eventsCount:tn,_maxListeners:Zi,on:vt,addListener:rn,once:nn,off:on,removeListener:sn,removeAllListeners:an,emit:ln,prependListener:un,prependOnceListener:hn,listeners:Vo,domain:Si,_exiting:Ai,config:Ii,dlopen:jo,uptime:qo,_getActiveRequests:Do,_getActiveHandles:Fo,reallyExit:Ti,_kill:ki,cpuUsage:pr,resourceUsage:Oi,memoryUsage:Ci,kill:Ri,exit:Pi,openStdin:Bi,allowedNodeEnvironmentFlags:xi,assert:Wo,features:Mi,_fatalExceptions:Ui,setUncaughtExceptionCaptureCallback:Li,hasUncaughtExceptionCaptureCallback:$o,emitWarning:gi,nextTick:Uo,_tickCallback:Ni,_debugProcess:ji,_debugEnd:Di,_startProfilerIdleNotifier:Fi,_stopProfilerIdleNotifier:Wi,stdout:$i,stdin:Vi,stderr:qi,abort:Hi,umask:mi,chdir:wi,cwd:yi,env:hi,title:ai,argv:ci,execArgv:fi,pid:zi,ppid:Ki,execPath:Gi,debugPort:Yi,hrtime:Or,argv0:Qi,_preload_modules:Ji,setSourceMapsEnabled:Xi}}),oe=Qe(()=>{ja()}),Ze={};Zt(Ze,{Buffer:()=>sr,INSPECT_MAX_BYTES:()=>Ho,default:()=>_t,kMaxLength:()=>zo});function Da(){if(cn)return nr;cn=!0,nr.byteLength=o,nr.toByteArray=a,nr.fromByteArray=g;for(var e=[],n=[],t=typeof Uint8Array<"u"?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=0,s=l.length;h<s;++h)e[h]=l[h],n[l.charCodeAt(h)]=h;n[45]=62,n[95]=63;function r(b){var m=b.length;if(m%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=b.indexOf("=");y===-1&&(y=m);var T=y===m?0:4-y%4;return[y,T]}function o(b){var m=r(b),y=m[0],T=m[1];return(y+T)*3/4-T}function i(b,m,y){return(m+y)*3/4-y}function a(b){var m,y=r(b),T=y[0],L=y[1],C=new t(i(b,T,L)),k=0,U=L>0?T-4:T,v;for(v=0;v<U;v+=4)m=n[b.charCodeAt(v)]<<18|n[b.charCodeAt(v+1)]<<12|n[b.charCodeAt(v+2)]<<6|n[b.charCodeAt(v+3)],C[k++]=m>>16&255,C[k++]=m>>8&255,C[k++]=m&255;return L===2&&(m=n[b.charCodeAt(v)]<<2|n[b.charCodeAt(v+1)]>>4,C[k++]=m&255),L===1&&(m=n[b.charCodeAt(v)]<<10|n[b.charCodeAt(v+1)]<<4|n[b.charCodeAt(v+2)]>>2,C[k++]=m>>8&255,C[k++]=m&255),C}function c(b){return e[b>>18&63]+e[b>>12&63]+e[b>>6&63]+e[b&63]}function p(b,m,y){for(var T,L=[],C=m;C<y;C+=3)T=(b[C]<<16&16711680)+(b[C+1]<<8&65280)+(b[C+2]&255),L.push(c(T));return L.join("")}function g(b){for(var m,y=b.length,T=y%3,L=[],C=16383,k=0,U=y-T;k<U;k+=C)L.push(p(b,k,k+C>U?U:k+C));return T===1?(m=b[y-1],L.push(e[m>>2]+e[m<<4&63]+"==")):T===2&&(m=(b[y-2]<<8)+b[y-1],L.push(e[m>>10]+e[m>>4&63]+e[m<<2&63]+"=")),L.join("")}return nr}function Fa(){return fn?gr:(fn=!0,gr.read=function(e,n,t,l,h){var s,r,o=h*8-l-1,i=(1<<o)-1,a=i>>1,c=-7,p=t?h-1:0,g=t?-1:1,b=e[n+p];for(p+=g,s=b&(1<<-c)-1,b>>=-c,c+=o;c>0;s=s*256+e[n+p],p+=g,c-=8);for(r=s&(1<<-c)-1,s>>=-c,c+=l;c>0;r=r*256+e[n+p],p+=g,c-=8);if(s===0)s=1-a;else{if(s===i)return r?NaN:(b?-1:1)*(1/0);r=r+Math.pow(2,l),s=s-a}return(b?-1:1)*r*Math.pow(2,s-l)},gr.write=function(e,n,t,l,h,s){var r,o,i,a=s*8-h-1,c=(1<<a)-1,p=c>>1,g=h===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=l?0:s-1,m=l?1:-1,y=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(o=isNaN(n)?1:0,r=c):(r=Math.floor(Math.log(n)/Math.LN2),n*(i=Math.pow(2,-r))<1&&(r--,i*=2),r+p>=1?n+=g/i:n+=g*Math.pow(2,1-p),n*i>=2&&(r++,i/=2),r+p>=c?(o=0,r=c):r+p>=1?(o=(n*i-1)*Math.pow(2,h),r=r+p):(o=n*Math.pow(2,p-1)*Math.pow(2,h),r=0));h>=8;e[t+b]=o&255,b+=m,o/=256,h-=8);for(r=r<<h|o,a+=h;a>0;e[t+b]=r&255,b+=m,r/=256,a-=8);e[t+b-m]|=y*128},gr)}function Wa(){if(dn)return Mt;dn=!0;let e=Da(),n=Fa(),t=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Mt.Buffer=r,Mt.SlowBuffer=L,Mt.INSPECT_MAX_BYTES=50;let l=2147483647;Mt.kMaxLength=l,r.TYPED_ARRAY_SUPPORT=h(),!r.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function h(){try{let f=new Uint8Array(1),u={foo:function(){return 42}};return Object.setPrototypeOf(u,Uint8Array.prototype),Object.setPrototypeOf(f,u),f.foo()===42}catch{return!1}}Object.defineProperty(r.prototype,"parent",{enumerable:!0,get:function(){if(r.isBuffer(this))return this.buffer}}),Object.defineProperty(r.prototype,"offset",{enumerable:!0,get:function(){if(r.isBuffer(this))return this.byteOffset}});function s(f){if(f>l)throw new RangeError('The value "'+f+'" is invalid for option "size"');let u=new Uint8Array(f);return Object.setPrototypeOf(u,r.prototype),u}function r(f,u,d){if(typeof f=="number"){if(typeof u=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return c(f)}return o(f,u,d)}r.poolSize=8192;function o(f,u,d){if(typeof f=="string")return p(f,u);if(ArrayBuffer.isView(f))return b(f);if(f==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f);if(H(f,ArrayBuffer)||f&&H(f.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(H(f,SharedArrayBuffer)||f&&H(f.buffer,SharedArrayBuffer)))return m(f,u,d);if(typeof f=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let _=f.valueOf&&f.valueOf();if(_!=null&&_!==f)return r.from(_,u,d);let A=y(f);if(A)return A;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof f[Symbol.toPrimitive]=="function")return r.from(f[Symbol.toPrimitive]("string"),u,d);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f)}r.from=function(f,u,d){return o(f,u,d)},Object.setPrototypeOf(r.prototype,Uint8Array.prototype),Object.setPrototypeOf(r,Uint8Array);function i(f){if(typeof f!="number")throw new TypeError('"size" argument must be of type number');if(f<0)throw new RangeError('The value "'+f+'" is invalid for option "size"')}function a(f,u,d){return i(f),f<=0?s(f):u!==void 0?typeof d=="string"?s(f).fill(u,d):s(f).fill(u):s(f)}r.alloc=function(f,u,d){return a(f,u,d)};function c(f){return i(f),s(f<0?0:T(f)|0)}r.allocUnsafe=function(f){return c(f)},r.allocUnsafeSlow=function(f){return c(f)};function p(f,u){if((typeof u!="string"||u==="")&&(u="utf8"),!r.isEncoding(u))throw new TypeError("Unknown encoding: "+u);let d=C(f,u)|0,_=s(d),A=_.write(f,u);return A!==d&&(_=_.slice(0,A)),_}function g(f){let u=f.length<0?0:T(f.length)|0,d=s(u);for(let _=0;_<u;_+=1)d[_]=f[_]&255;return d}function b(f){if(H(f,Uint8Array)){let u=new Uint8Array(f);return m(u.buffer,u.byteOffset,u.byteLength)}return g(f)}function m(f,u,d){if(u<0||f.byteLength<u)throw new RangeError('"offset" is outside of buffer bounds');if(f.byteLength<u+(d||0))throw new RangeError('"length" is outside of buffer bounds');let _;return u===void 0&&d===void 0?_=new Uint8Array(f):d===void 0?_=new Uint8Array(f,u):_=new Uint8Array(f,u,d),Object.setPrototypeOf(_,r.prototype),_}function y(f){if(r.isBuffer(f)){let u=T(f.length)|0,d=s(u);return d.length===0||f.copy(d,0,0,u),d}if(f.length!==void 0)return typeof f.length!="number"||we(f.length)?s(0):g(f);if(f.type==="Buffer"&&Array.isArray(f.data))return g(f.data)}function T(f){if(f>=l)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+l.toString(16)+" bytes");return f|0}function L(f){return+f!=f&&(f=0),r.alloc(+f)}r.isBuffer=function(f){return f!=null&&f._isBuffer===!0&&f!==r.prototype},r.compare=function(f,u){if(H(f,Uint8Array)&&(f=r.from(f,f.offset,f.byteLength)),H(u,Uint8Array)&&(u=r.from(u,u.offset,u.byteLength)),!r.isBuffer(f)||!r.isBuffer(u))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(f===u)return 0;let d=f.length,_=u.length;for(let A=0,w=Math.min(d,_);A<w;++A)if(f[A]!==u[A]){d=f[A],_=u[A];break}return d<_?-1:_<d?1:0},r.isEncoding=function(f){switch(String(f).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.concat=function(f,u){if(!Array.isArray(f))throw new TypeError('"list" argument must be an Array of Buffers');if(f.length===0)return r.alloc(0);let d;if(u===void 0)for(u=0,d=0;d<f.length;++d)u+=f[d].length;let _=r.allocUnsafe(u),A=0;for(d=0;d<f.length;++d){let w=f[d];if(H(w,Uint8Array))A+w.length>_.length?(r.isBuffer(w)||(w=r.from(w)),w.copy(_,A)):Uint8Array.prototype.set.call(_,w,A);else if(r.isBuffer(w))w.copy(_,A);else throw new TypeError('"list" argument must be an Array of Buffers');A+=w.length}return _};function C(f,u){if(r.isBuffer(f))return f.length;if(ArrayBuffer.isView(f)||H(f,ArrayBuffer))return f.byteLength;if(typeof f!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof f);let d=f.length,_=arguments.length>2&&arguments[2]===!0;if(!_&&d===0)return 0;let A=!1;for(;;)switch(u){case"ascii":case"latin1":case"binary":return d;case"utf8":case"utf-8":return D(f).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return d*2;case"hex":return d>>>1;case"base64":return Y(f).length;default:if(A)return _?-1:D(f).length;u=(""+u).toLowerCase(),A=!0}}r.byteLength=C;function k(f,u,d){let _=!1;if((u===void 0||u<0)&&(u=0),u>this.length||((d===void 0||d>this.length)&&(d=this.length),d<=0)||(d>>>=0,u>>>=0,d<=u))return"";for(f||(f="utf8");;)switch(f){case"hex":return q(this,u,d);case"utf8":case"utf-8":return $(this,u,d);case"ascii":return ge(this,u,d);case"latin1":case"binary":return Z(this,u,d);case"base64":return I(this,u,d);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return be(this,u,d);default:if(_)throw new TypeError("Unknown encoding: "+f);f=(f+"").toLowerCase(),_=!0}}r.prototype._isBuffer=!0;function U(f,u,d){let _=f[u];f[u]=f[d],f[d]=_}r.prototype.swap16=function(){let f=this.length;if(f%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let u=0;u<f;u+=2)U(this,u,u+1);return this},r.prototype.swap32=function(){let f=this.length;if(f%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let u=0;u<f;u+=4)U(this,u,u+3),U(this,u+1,u+2);return this},r.prototype.swap64=function(){let f=this.length;if(f%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let u=0;u<f;u+=8)U(this,u,u+7),U(this,u+1,u+6),U(this,u+2,u+5),U(this,u+3,u+4);return this},r.prototype.toString=function(){let f=this.length;return f===0?"":arguments.length===0?$(this,0,f):k.apply(this,arguments)},r.prototype.toLocaleString=r.prototype.toString,r.prototype.equals=function(f){if(!r.isBuffer(f))throw new TypeError("Argument must be a Buffer");return this===f?!0:r.compare(this,f)===0},r.prototype.inspect=function(){let f="",u=Mt.INSPECT_MAX_BYTES;return f=this.toString("hex",0,u).replace(/(.{2})/g,"$1 ").trim(),this.length>u&&(f+=" ... "),"<Buffer "+f+">"},t&&(r.prototype[t]=r.prototype.inspect),r.prototype.compare=function(f,u,d,_,A){if(H(f,Uint8Array)&&(f=r.from(f,f.offset,f.byteLength)),!r.isBuffer(f))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof f);if(u===void 0&&(u=0),d===void 0&&(d=f?f.length:0),_===void 0&&(_=0),A===void 0&&(A=this.length),u<0||d>f.length||_<0||A>this.length)throw new RangeError("out of range index");if(_>=A&&u>=d)return 0;if(_>=A)return-1;if(u>=d)return 1;if(u>>>=0,d>>>=0,_>>>=0,A>>>=0,this===f)return 0;let w=A-_,R=d-u,V=Math.min(w,R),fe=this.slice(_,A),re=f.slice(u,d);for(let me=0;me<V;++me)if(fe[me]!==re[me]){w=fe[me],R=re[me];break}return w<R?-1:R<w?1:0};function v(f,u,d,_,A){if(f.length===0)return-1;if(typeof d=="string"?(_=d,d=0):d>2147483647?d=2147483647:d<-2147483648&&(d=-2147483648),d=+d,we(d)&&(d=A?0:f.length-1),d<0&&(d=f.length+d),d>=f.length){if(A)return-1;d=f.length-1}else if(d<0)if(A)d=0;else return-1;if(typeof u=="string"&&(u=r.from(u,_)),r.isBuffer(u))return u.length===0?-1:P(f,u,d,_,A);if(typeof u=="number")return u=u&255,typeof Uint8Array.prototype.indexOf=="function"?A?Uint8Array.prototype.indexOf.call(f,u,d):Uint8Array.prototype.lastIndexOf.call(f,u,d):P(f,[u],d,_,A);throw new TypeError("val must be string, number or Buffer")}function P(f,u,d,_,A){let w=1,R=f.length,V=u.length;if(_!==void 0&&(_=String(_).toLowerCase(),_==="ucs2"||_==="ucs-2"||_==="utf16le"||_==="utf-16le")){if(f.length<2||u.length<2)return-1;w=2,R/=2,V/=2,d/=2}function fe(me,Se){return w===1?me[Se]:me.readUInt16BE(Se*w)}let re;if(A){let me=-1;for(re=d;re<R;re++)if(fe(f,re)===fe(u,me===-1?0:re-me)){if(me===-1&&(me=re),re-me+1===V)return me*w}else me!==-1&&(re-=re-me),me=-1}else for(d+V>R&&(d=R-V),re=d;re>=0;re--){let me=!0;for(let Se=0;Se<V;Se++)if(fe(f,re+Se)!==fe(u,Se)){me=!1;break}if(me)return re}return-1}r.prototype.includes=function(f,u,d){return this.indexOf(f,u,d)!==-1},r.prototype.indexOf=function(f,u,d){return v(this,f,u,d,!0)},r.prototype.lastIndexOf=function(f,u,d){return v(this,f,u,d,!1)};function M(f,u,d,_){d=Number(d)||0;let A=f.length-d;_?(_=Number(_),_>A&&(_=A)):_=A;let w=u.length;_>w/2&&(_=w/2);let R;for(R=0;R<_;++R){let V=parseInt(u.substr(R*2,2),16);if(we(V))return R;f[d+R]=V}return R}function F(f,u,d,_){return N(D(u,f.length-d),f,d,_)}function W(f,u,d,_){return N(j(u),f,d,_)}function Q(f,u,d,_){return N(Y(u),f,d,_)}function ae(f,u,d,_){return N(te(u,f.length-d),f,d,_)}r.prototype.write=function(f,u,d,_){if(u===void 0)_="utf8",d=this.length,u=0;else if(d===void 0&&typeof u=="string")_=u,d=this.length,u=0;else if(isFinite(u))u=u>>>0,isFinite(d)?(d=d>>>0,_===void 0&&(_="utf8")):(_=d,d=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let A=this.length-u;if((d===void 0||d>A)&&(d=A),f.length>0&&(d<0||u<0)||u>this.length)throw new RangeError("Attempt to write outside buffer bounds");_||(_="utf8");let w=!1;for(;;)switch(_){case"hex":return M(this,f,u,d);case"utf8":case"utf-8":return F(this,f,u,d);case"ascii":case"latin1":case"binary":return W(this,f,u,d);case"base64":return Q(this,f,u,d);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ae(this,f,u,d);default:if(w)throw new TypeError("Unknown encoding: "+_);_=(""+_).toLowerCase(),w=!0}},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function I(f,u,d){return u===0&&d===f.length?e.fromByteArray(f):e.fromByteArray(f.slice(u,d))}function $(f,u,d){d=Math.min(f.length,d);let _=[],A=u;for(;A<d;){let w=f[A],R=null,V=w>239?4:w>223?3:w>191?2:1;if(A+V<=d){let fe,re,me,Se;switch(V){case 1:w<128&&(R=w);break;case 2:fe=f[A+1],(fe&192)===128&&(Se=(w&31)<<6|fe&63,Se>127&&(R=Se));break;case 3:fe=f[A+1],re=f[A+2],(fe&192)===128&&(re&192)===128&&(Se=(w&15)<<12|(fe&63)<<6|re&63,Se>2047&&(Se<55296||Se>57343)&&(R=Se));break;case 4:fe=f[A+1],re=f[A+2],me=f[A+3],(fe&192)===128&&(re&192)===128&&(me&192)===128&&(Se=(w&15)<<18|(fe&63)<<12|(re&63)<<6|me&63,Se>65535&&Se<1114112&&(R=Se))}}R===null?(R=65533,V=1):R>65535&&(R-=65536,_.push(R>>>10&1023|55296),R=56320|R&1023),_.push(R),A+=V}return X(_)}let G=4096;function X(f){let u=f.length;if(u<=G)return String.fromCharCode.apply(String,f);let d="",_=0;for(;_<u;)d+=String.fromCharCode.apply(String,f.slice(_,_+=G));return d}function ge(f,u,d){let _="";d=Math.min(f.length,d);for(let A=u;A<d;++A)_+=String.fromCharCode(f[A]&127);return _}function Z(f,u,d){let _="";d=Math.min(f.length,d);for(let A=u;A<d;++A)_+=String.fromCharCode(f[A]);return _}function q(f,u,d){let _=f.length;(!u||u<0)&&(u=0),(!d||d<0||d>_)&&(d=_);let A="";for(let w=u;w<d;++w)A+=_e[f[w]];return A}function be(f,u,d){let _=f.slice(u,d),A="";for(let w=0;w<_.length-1;w+=2)A+=String.fromCharCode(_[w]+_[w+1]*256);return A}r.prototype.slice=function(f,u){let d=this.length;f=~~f,u=u===void 0?d:~~u,f<0?(f+=d,f<0&&(f=0)):f>d&&(f=d),u<0?(u+=d,u<0&&(u=0)):u>d&&(u=d),u<f&&(u=f);let _=this.subarray(f,u);return Object.setPrototypeOf(_,r.prototype),_};function ie(f,u,d){if(f%1!==0||f<0)throw new RangeError("offset is not uint");if(f+u>d)throw new RangeError("Trying to access beyond buffer length")}r.prototype.readUintLE=r.prototype.readUIntLE=function(f,u,d){f=f>>>0,u=u>>>0,d||ie(f,u,this.length);let _=this[f],A=1,w=0;for(;++w<u&&(A*=256);)_+=this[f+w]*A;return _},r.prototype.readUintBE=r.prototype.readUIntBE=function(f,u,d){f=f>>>0,u=u>>>0,d||ie(f,u,this.length);let _=this[f+--u],A=1;for(;u>0&&(A*=256);)_+=this[f+--u]*A;return _},r.prototype.readUint8=r.prototype.readUInt8=function(f,u){return f=f>>>0,u||ie(f,1,this.length),this[f]},r.prototype.readUint16LE=r.prototype.readUInt16LE=function(f,u){return f=f>>>0,u||ie(f,2,this.length),this[f]|this[f+1]<<8},r.prototype.readUint16BE=r.prototype.readUInt16BE=function(f,u){return f=f>>>0,u||ie(f,2,this.length),this[f]<<8|this[f+1]},r.prototype.readUint32LE=r.prototype.readUInt32LE=function(f,u){return f=f>>>0,u||ie(f,4,this.length),(this[f]|this[f+1]<<8|this[f+2]<<16)+this[f+3]*16777216},r.prototype.readUint32BE=r.prototype.readUInt32BE=function(f,u){return f=f>>>0,u||ie(f,4,this.length),this[f]*16777216+(this[f+1]<<16|this[f+2]<<8|this[f+3])},r.prototype.readBigUInt64LE=Ae(function(f){f=f>>>0,J(f,"offset");let u=this[f],d=this[f+7];(u===void 0||d===void 0)&&he(f,this.length-8);let _=u+this[++f]*2**8+this[++f]*2**16+this[++f]*2**24,A=this[++f]+this[++f]*2**8+this[++f]*2**16+d*2**24;return BigInt(_)+(BigInt(A)<<BigInt(32))}),r.prototype.readBigUInt64BE=Ae(function(f){f=f>>>0,J(f,"offset");let u=this[f],d=this[f+7];(u===void 0||d===void 0)&&he(f,this.length-8);let _=u*2**24+this[++f]*2**16+this[++f]*2**8+this[++f],A=this[++f]*2**24+this[++f]*2**16+this[++f]*2**8+d;return(BigInt(_)<<BigInt(32))+BigInt(A)}),r.prototype.readIntLE=function(f,u,d){f=f>>>0,u=u>>>0,d||ie(f,u,this.length);let _=this[f],A=1,w=0;for(;++w<u&&(A*=256);)_+=this[f+w]*A;return A*=128,_>=A&&(_-=Math.pow(2,8*u)),_},r.prototype.readIntBE=function(f,u,d){f=f>>>0,u=u>>>0,d||ie(f,u,this.length);let _=u,A=1,w=this[f+--_];for(;_>0&&(A*=256);)w+=this[f+--_]*A;return A*=128,w>=A&&(w-=Math.pow(2,8*u)),w},r.prototype.readInt8=function(f,u){return f=f>>>0,u||ie(f,1,this.length),this[f]&128?(255-this[f]+1)*-1:this[f]},r.prototype.readInt16LE=function(f,u){f=f>>>0,u||ie(f,2,this.length);let d=this[f]|this[f+1]<<8;return d&32768?d|4294901760:d},r.prototype.readInt16BE=function(f,u){f=f>>>0,u||ie(f,2,this.length);let d=this[f+1]|this[f]<<8;return d&32768?d|4294901760:d},r.prototype.readInt32LE=function(f,u){return f=f>>>0,u||ie(f,4,this.length),this[f]|this[f+1]<<8|this[f+2]<<16|this[f+3]<<24},r.prototype.readInt32BE=function(f,u){return f=f>>>0,u||ie(f,4,this.length),this[f]<<24|this[f+1]<<16|this[f+2]<<8|this[f+3]},r.prototype.readBigInt64LE=Ae(function(f){f=f>>>0,J(f,"offset");let u=this[f],d=this[f+7];(u===void 0||d===void 0)&&he(f,this.length-8);let _=this[f+4]+this[f+5]*2**8+this[f+6]*2**16+(d<<24);return(BigInt(_)<<BigInt(32))+BigInt(u+this[++f]*2**8+this[++f]*2**16+this[++f]*2**24)}),r.prototype.readBigInt64BE=Ae(function(f){f=f>>>0,J(f,"offset");let u=this[f],d=this[f+7];(u===void 0||d===void 0)&&he(f,this.length-8);let _=(u<<24)+this[++f]*2**16+this[++f]*2**8+this[++f];return(BigInt(_)<<BigInt(32))+BigInt(this[++f]*2**24+this[++f]*2**16+this[++f]*2**8+d)}),r.prototype.readFloatLE=function(f,u){return f=f>>>0,u||ie(f,4,this.length),n.read(this,f,!0,23,4)},r.prototype.readFloatBE=function(f,u){return f=f>>>0,u||ie(f,4,this.length),n.read(this,f,!1,23,4)},r.prototype.readDoubleLE=function(f,u){return f=f>>>0,u||ie(f,8,this.length),n.read(this,f,!0,52,8)},r.prototype.readDoubleBE=function(f,u){return f=f>>>0,u||ie(f,8,this.length),n.read(this,f,!1,52,8)};function ve(f,u,d,_,A,w){if(!r.isBuffer(f))throw new TypeError('"buffer" argument must be a Buffer instance');if(u>A||u<w)throw new RangeError('"value" argument is out of bounds');if(d+_>f.length)throw new RangeError("Index out of range")}r.prototype.writeUintLE=r.prototype.writeUIntLE=function(f,u,d,_){if(f=+f,u=u>>>0,d=d>>>0,!_){let R=Math.pow(2,8*d)-1;ve(this,f,u,d,R,0)}let A=1,w=0;for(this[u]=f&255;++w<d&&(A*=256);)this[u+w]=f/A&255;return u+d},r.prototype.writeUintBE=r.prototype.writeUIntBE=function(f,u,d,_){if(f=+f,u=u>>>0,d=d>>>0,!_){let R=Math.pow(2,8*d)-1;ve(this,f,u,d,R,0)}let A=d-1,w=1;for(this[u+A]=f&255;--A>=0&&(w*=256);)this[u+A]=f/w&255;return u+d},r.prototype.writeUint8=r.prototype.writeUInt8=function(f,u,d){return f=+f,u=u>>>0,d||ve(this,f,u,1,255,0),this[u]=f&255,u+1},r.prototype.writeUint16LE=r.prototype.writeUInt16LE=function(f,u,d){return f=+f,u=u>>>0,d||ve(this,f,u,2,65535,0),this[u]=f&255,this[u+1]=f>>>8,u+2},r.prototype.writeUint16BE=r.prototype.writeUInt16BE=function(f,u,d){return f=+f,u=u>>>0,d||ve(this,f,u,2,65535,0),this[u]=f>>>8,this[u+1]=f&255,u+2},r.prototype.writeUint32LE=r.prototype.writeUInt32LE=function(f,u,d){return f=+f,u=u>>>0,d||ve(this,f,u,4,4294967295,0),this[u+3]=f>>>24,this[u+2]=f>>>16,this[u+1]=f>>>8,this[u]=f&255,u+4},r.prototype.writeUint32BE=r.prototype.writeUInt32BE=function(f,u,d){return f=+f,u=u>>>0,d||ve(this,f,u,4,4294967295,0),this[u]=f>>>24,this[u+1]=f>>>16,this[u+2]=f>>>8,this[u+3]=f&255,u+4};function S(f,u,d,_,A){ee(u,_,A,f,d,7);let w=Number(u&BigInt(4294967295));f[d++]=w,w=w>>8,f[d++]=w,w=w>>8,f[d++]=w,w=w>>8,f[d++]=w;let R=Number(u>>BigInt(32)&BigInt(4294967295));return f[d++]=R,R=R>>8,f[d++]=R,R=R>>8,f[d++]=R,R=R>>8,f[d++]=R,d}function K(f,u,d,_,A){ee(u,_,A,f,d,7);let w=Number(u&BigInt(4294967295));f[d+7]=w,w=w>>8,f[d+6]=w,w=w>>8,f[d+5]=w,w=w>>8,f[d+4]=w;let R=Number(u>>BigInt(32)&BigInt(4294967295));return f[d+3]=R,R=R>>8,f[d+2]=R,R=R>>8,f[d+1]=R,R=R>>8,f[d]=R,d+8}r.prototype.writeBigUInt64LE=Ae(function(f,u=0){return S(this,f,u,BigInt(0),BigInt("0xffffffffffffffff"))}),r.prototype.writeBigUInt64BE=Ae(function(f,u=0){return K(this,f,u,BigInt(0),BigInt("0xffffffffffffffff"))}),r.prototype.writeIntLE=function(f,u,d,_){if(f=+f,u=u>>>0,!_){let V=Math.pow(2,8*d-1);ve(this,f,u,d,V-1,-V)}let A=0,w=1,R=0;for(this[u]=f&255;++A<d&&(w*=256);)f<0&&R===0&&this[u+A-1]!==0&&(R=1),this[u+A]=(f/w>>0)-R&255;return u+d},r.prototype.writeIntBE=function(f,u,d,_){if(f=+f,u=u>>>0,!_){let V=Math.pow(2,8*d-1);ve(this,f,u,d,V-1,-V)}let A=d-1,w=1,R=0;for(this[u+A]=f&255;--A>=0&&(w*=256);)f<0&&R===0&&this[u+A+1]!==0&&(R=1),this[u+A]=(f/w>>0)-R&255;return u+d},r.prototype.writeInt8=function(f,u,d){return f=+f,u=u>>>0,d||ve(this,f,u,1,127,-128),f<0&&(f=255+f+1),this[u]=f&255,u+1},r.prototype.writeInt16LE=function(f,u,d){return f=+f,u=u>>>0,d||ve(this,f,u,2,32767,-32768),this[u]=f&255,this[u+1]=f>>>8,u+2},r.prototype.writeInt16BE=function(f,u,d){return f=+f,u=u>>>0,d||ve(this,f,u,2,32767,-32768),this[u]=f>>>8,this[u+1]=f&255,u+2},r.prototype.writeInt32LE=function(f,u,d){return f=+f,u=u>>>0,d||ve(this,f,u,4,2147483647,-2147483648),this[u]=f&255,this[u+1]=f>>>8,this[u+2]=f>>>16,this[u+3]=f>>>24,u+4},r.prototype.writeInt32BE=function(f,u,d){return f=+f,u=u>>>0,d||ve(this,f,u,4,2147483647,-2147483648),f<0&&(f=4294967295+f+1),this[u]=f>>>24,this[u+1]=f>>>16,this[u+2]=f>>>8,this[u+3]=f&255,u+4},r.prototype.writeBigInt64LE=Ae(function(f,u=0){return S(this,f,u,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),r.prototype.writeBigInt64BE=Ae(function(f,u=0){return K(this,f,u,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ce(f,u,d,_,A,w){if(d+_>f.length)throw new RangeError("Index out of range");if(d<0)throw new RangeError("Index out of range")}function Ee(f,u,d,_,A){return u=+u,d=d>>>0,A||ce(f,u,d,4),n.write(f,u,d,_,23,4),d+4}r.prototype.writeFloatLE=function(f,u,d){return Ee(this,f,u,!0,d)},r.prototype.writeFloatBE=function(f,u,d){return Ee(this,f,u,!1,d)};function ue(f,u,d,_,A){return u=+u,d=d>>>0,A||ce(f,u,d,8),n.write(f,u,d,_,52,8),d+8}r.prototype.writeDoubleLE=function(f,u,d){return ue(this,f,u,!0,d)},r.prototype.writeDoubleBE=function(f,u,d){return ue(this,f,u,!1,d)},r.prototype.copy=function(f,u,d,_){if(!r.isBuffer(f))throw new TypeError("argument should be a Buffer");if(d||(d=0),!_&&_!==0&&(_=this.length),u>=f.length&&(u=f.length),u||(u=0),_>0&&_<d&&(_=d),_===d||f.length===0||this.length===0)return 0;if(u<0)throw new RangeError("targetStart out of bounds");if(d<0||d>=this.length)throw new RangeError("Index out of range");if(_<0)throw new RangeError("sourceEnd out of bounds");_>this.length&&(_=this.length),f.length-u<_-d&&(_=f.length-u+d);let A=_-d;return this===f&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(u,d,_):Uint8Array.prototype.set.call(f,this.subarray(d,_),u),A},r.prototype.fill=function(f,u,d,_){if(typeof f=="string"){if(typeof u=="string"?(_=u,u=0,d=this.length):typeof d=="string"&&(_=d,d=this.length),_!==void 0&&typeof _!="string")throw new TypeError("encoding must be a string");if(typeof _=="string"&&!r.isEncoding(_))throw new TypeError("Unknown encoding: "+_);if(f.length===1){let w=f.charCodeAt(0);(_==="utf8"&&w<128||_==="latin1")&&(f=w)}}else typeof f=="number"?f=f&255:typeof f=="boolean"&&(f=Number(f));if(u<0||this.length<u||this.length<d)throw new RangeError("Out of range index");if(d<=u)return this;u=u>>>0,d=d===void 0?this.length:d>>>0,f||(f=0);let A;if(typeof f=="number")for(A=u;A<d;++A)this[A]=f;else{let w=r.isBuffer(f)?f:r.from(f,_),R=w.length;if(R===0)throw new TypeError('The value "'+f+'" is invalid for argument "value"');for(A=0;A<d-u;++A)this[A+u]=w[A%R]}return this};let x={};function E(f,u,d){x[f]=class extends d{constructor(){super(),Object.defineProperty(this,"message",{value:u.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${f}]`,this.stack,delete this.name}get code(){return f}set code(_){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:_,writable:!0})}toString(){return`${this.name} [${f}]: ${this.message}`}}}E("ERR_BUFFER_OUT_OF_BOUNDS",function(f){return f?`${f} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),E("ERR_INVALID_ARG_TYPE",function(f,u){return`The "${f}" argument must be of type number. Received type ${typeof u}`},TypeError),E("ERR_OUT_OF_RANGE",function(f,u,d){let _=`The value of "${f}" is out of range.`,A=d;return Number.isInteger(d)&&Math.abs(d)>2**32?A=z(String(d)):typeof d=="bigint"&&(A=String(d),(d>BigInt(2)**BigInt(32)||d<-(BigInt(2)**BigInt(32)))&&(A=z(A)),A+="n"),_+=` It must be ${u}. Received ${A}`,_},RangeError);function z(f){let u="",d=f.length,_=f[0]==="-"?1:0;for(;d>=_+4;d-=3)u=`_${f.slice(d-3,d)}${u}`;return`${f.slice(0,d)}${u}`}function le(f,u,d){J(u,"offset"),(f[u]===void 0||f[u+d]===void 0)&&he(u,f.length-(d+1))}function ee(f,u,d,_,A,w){if(f>d||f<u){let R=typeof u=="bigint"?"n":"",V;throw w>3?u===0||u===BigInt(0)?V=`>= 0${R} and < 2${R} ** ${(w+1)*8}${R}`:V=`>= -(2${R} ** ${(w+1)*8-1}${R}) and < 2 ** ${(w+1)*8-1}${R}`:V=`>= ${u}${R} and <= ${d}${R}`,new x.ERR_OUT_OF_RANGE("value",V,f)}le(_,A,w)}function J(f,u){if(typeof f!="number")throw new x.ERR_INVALID_ARG_TYPE(u,"number",f)}function he(f,u,d){throw Math.floor(f)!==f?(J(f,d),new x.ERR_OUT_OF_RANGE(d||"offset","an integer",f)):u<0?new x.ERR_BUFFER_OUT_OF_BOUNDS:new x.ERR_OUT_OF_RANGE(d||"offset",`>= ${d?1:0} and <= ${u}`,f)}let de=/[^+/0-9A-Za-z-_]/g;function O(f){if(f=f.split("=")[0],f=f.trim().replace(de,""),f.length<2)return"";for(;f.length%4!==0;)f=f+"=";return f}function D(f,u){u=u||1/0;let d,_=f.length,A=null,w=[];for(let R=0;R<_;++R){if(d=f.charCodeAt(R),d>55295&&d<57344){if(!A){if(d>56319){(u-=3)>-1&&w.push(239,191,189);continue}else if(R+1===_){(u-=3)>-1&&w.push(239,191,189);continue}A=d;continue}if(d<56320){(u-=3)>-1&&w.push(239,191,189),A=d;continue}d=(A-55296<<10|d-56320)+65536}else A&&(u-=3)>-1&&w.push(239,191,189);if(A=null,d<128){if((u-=1)<0)break;w.push(d)}else if(d<2048){if((u-=2)<0)break;w.push(d>>6|192,d&63|128)}else if(d<65536){if((u-=3)<0)break;w.push(d>>12|224,d>>6&63|128,d&63|128)}else if(d<1114112){if((u-=4)<0)break;w.push(d>>18|240,d>>12&63|128,d>>6&63|128,d&63|128)}else throw new Error("Invalid code point")}return w}function j(f){let u=[];for(let d=0;d<f.length;++d)u.push(f.charCodeAt(d)&255);return u}function te(f,u){let d,_,A,w=[];for(let R=0;R<f.length&&!((u-=2)<0);++R)d=f.charCodeAt(R),_=d>>8,A=d%256,w.push(A),w.push(_);return w}function Y(f){return e.toByteArray(O(f))}function N(f,u,d,_){let A;for(A=0;A<_&&!(A+d>=u.length||A>=f.length);++A)u[A+d]=f[A];return A}function H(f,u){return f instanceof u||f!=null&&f.constructor!=null&&f.constructor.name!=null&&f.constructor.name===u.name}function we(f){return f!==f}let _e=function(){let f="0123456789abcdef",u=new Array(256);for(let d=0;d<16;++d){let _=d*16;for(let A=0;A<16;++A)u[_+A]=f[d]+f[A]}return u}();function Ae(f){return typeof BigInt>"u"?Re:f}function Re(){throw new Error("BigInt not supported")}return Mt}var nr,cn,gr,fn,Mt,dn,_t,sr,Ho,zo,et=Qe(()=>{se(),oe(),ne(),nr={},cn=!1,gr={},fn=!1,Mt={},dn=!1,_t=Wa(),_t.Buffer,_t.SlowBuffer,_t.INSPECT_MAX_BYTES,_t.kMaxLength,sr=_t.Buffer,Ho=_t.INSPECT_MAX_BYTES,zo=_t.kMaxLength}),se=Qe(()=>{et()}),$a=ye(e=>{se(),oe(),ne(),Object.defineProperty(e,"__esModule",{value:!0});var n=class{constructor(t){this.aliasToTopic={},this.max=t}put(t,l){return l===0||l>this.max?!1:(this.aliasToTopic[l]=t,this.length=Object.keys(this.aliasToTopic).length,!0)}getTopicByAlias(t){return this.aliasToTopic[t]}clear(){this.aliasToTopic={}}};e.default=n}),Ke=ye((e,n)=>{se(),oe(),ne(),n.exports={ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,l){return t.includes(l)},ArrayPrototypeIndexOf(t,l){return t.indexOf(l)},ArrayPrototypeJoin(t,l){return t.join(l)},ArrayPrototypeMap(t,l){return t.map(l)},ArrayPrototypePop(t,l){return t.pop(l)},ArrayPrototypePush(t,l){return t.push(l)},ArrayPrototypeSlice(t,l,h){return t.slice(l,h)},Error,FunctionPrototypeCall(t,l,...h){return t.call(l,...h)},FunctionPrototypeSymbolHasInstance(t,l){return Function.prototype[Symbol.hasInstance].call(t,l)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,l){return Object.defineProperties(t,l)},ObjectDefineProperty(t,l,h){return Object.defineProperty(t,l,h)},ObjectGetOwnPropertyDescriptor(t,l){return Object.getOwnPropertyDescriptor(t,l)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,l){return Object.setPrototypeOf(t,l)},Promise,PromisePrototypeCatch(t,l){return t.catch(l)},PromisePrototypeThen(t,l,h){return t.then(l,h)},PromiseReject(t){return Promise.reject(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,l){return t.test(l)},SafeSet:Set,String,StringPrototypeSlice(t,l,h){return t.slice(l,h)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet(t,l,h){return t.set(l,h)},Uint8Array}}),kt=ye((e,n)=>{se(),oe(),ne();var t=(et(),Me(Ze)),l=Object.getPrototypeOf(async function(){}).constructor,h=globalThis.Blob||t.Blob,s=typeof h<"u"?function(o){return o instanceof h}:function(o){return!1},r=class extends Error{constructor(o){if(!Array.isArray(o))throw new TypeError(`Expected input to be an Array, got ${typeof o}`);let i="";for(let a=0;a<o.length;a++)i+=`    ${o[a].stack}
`;super(i),this.name="AggregateError",this.errors=o}};n.exports={AggregateError:r,kEmptyObject:Object.freeze({}),once(o){let i=!1;return function(...a){i||(i=!0,o.apply(this,a))}},createDeferredPromise:function(){let o,i;return{promise:new Promise((a,c)=>{o=a,i=c}),resolve:o,reject:i}},promisify(o){return new Promise((i,a)=>{o((c,...p)=>c?a(c):i(...p))})},debuglog(){return function(){}},format(o,...i){return o.replace(/%([sdifj])/g,function(...[a,c]){let p=i.shift();return c==="f"?p.toFixed(6):c==="j"?JSON.stringify(p):c==="s"&&typeof p=="object"?`${p.constructor!==Object?p.constructor.name:""} {}`.trim():p.toString()})},inspect(o){switch(typeof o){case"string":if(o.includes("'"))if(o.includes('"')){if(!o.includes("`")&&!o.includes("${"))return`\`${o}\``}else return`"${o}"`;return`'${o}'`;case"number":return isNaN(o)?"NaN":Object.is(o,-0)?String(o):o;case"bigint":return`${String(o)}n`;case"boolean":case"undefined":return String(o);case"object":return"{}"}},types:{isAsyncFunction(o){return o instanceof l},isArrayBufferView(o){return ArrayBuffer.isView(o)}},isBlob:s},n.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}),Bn=ye((e,n)=>{se(),oe(),ne();var{AbortController:t,AbortSignal:l}=typeof self<"u"?self:typeof window<"u"?window:void 0;n.exports=t,n.exports.AbortSignal=l,n.exports.default=t}),ot=ye((e,n)=>{se(),oe(),ne();var{format:t,inspect:l,AggregateError:h}=kt(),s=globalThis.AggregateError||h,r=Symbol("kIsNodeError"),o=["string","function","number","object","Function","Object","boolean","bigint","symbol"],i=/^([A-Z][a-z0-9]*)+$/,a="__node_internal_",c={};function p(C,k){if(!C)throw new c.ERR_INTERNAL_ASSERTION(k)}function g(C){let k="",U=C.length,v=C[0]==="-"?1:0;for(;U>=v+4;U-=3)k=`_${C.slice(U-3,U)}${k}`;return`${C.slice(0,U)}${k}`}function b(C,k,U){if(typeof k=="function")return p(k.length<=U.length,`Code: ${C}; The provided arguments length (${U.length}) does not match the required ones (${k.length}).`),k(...U);let v=(k.match(/%[dfijoOs]/g)||[]).length;return p(v===U.length,`Code: ${C}; The provided arguments length (${U.length}) does not match the required ones (${v}).`),U.length===0?k:t(k,...U)}function m(C,k,U){U||(U=Error);class v extends U{constructor(...M){super(b(C,k,M))}toString(){return`${this.name} [${C}]: ${this.message}`}}Object.defineProperties(v.prototype,{name:{value:U.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${C}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),v.prototype.code=C,v.prototype[r]=!0,c[C]=v}function y(C){let k=a+C.name;return Object.defineProperty(C,"name",{value:k}),C}function T(C,k){if(C&&k&&C!==k){if(Array.isArray(k.errors))return k.errors.push(C),k;let U=new s([k,C],k.message);return U.code=k.code,U}return C||k}var L=class extends Error{constructor(C="The operation was aborted",k=void 0){if(k!==void 0&&typeof k!="object")throw new c.ERR_INVALID_ARG_TYPE("options","Object",k);super(C,k),this.code="ABORT_ERR",this.name="AbortError"}};m("ERR_ASSERTION","%s",Error),m("ERR_INVALID_ARG_TYPE",(C,k,U)=>{p(typeof C=="string","'name' must be a string"),Array.isArray(k)||(k=[k]);let v="The ";C.endsWith(" argument")?v+=`${C} `:v+=`"${C}" ${C.includes(".")?"property":"argument"} `,v+="must be ";let P=[],M=[],F=[];for(let Q of k)p(typeof Q=="string","All expected entries have to be of type string"),o.includes(Q)?P.push(Q.toLowerCase()):i.test(Q)?M.push(Q):(p(Q!=="object",'The value "object" should be written as "Object"'),F.push(Q));if(M.length>0){let Q=P.indexOf("object");Q!==-1&&(P.splice(P,Q,1),M.push("Object"))}if(P.length>0){switch(P.length){case 1:v+=`of type ${P[0]}`;break;case 2:v+=`one of type ${P[0]} or ${P[1]}`;break;default:{let Q=P.pop();v+=`one of type ${P.join(", ")}, or ${Q}`}}(M.length>0||F.length>0)&&(v+=" or ")}if(M.length>0){switch(M.length){case 1:v+=`an instance of ${M[0]}`;break;case 2:v+=`an instance of ${M[0]} or ${M[1]}`;break;default:{let Q=M.pop();v+=`an instance of ${M.join(", ")}, or ${Q}`}}F.length>0&&(v+=" or ")}switch(F.length){case 0:break;case 1:F[0].toLowerCase()!==F[0]&&(v+="an "),v+=`${F[0]}`;break;case 2:v+=`one of ${F[0]} or ${F[1]}`;break;default:{let Q=F.pop();v+=`one of ${F.join(", ")}, or ${Q}`}}if(U==null)v+=`. Received ${U}`;else if(typeof U=="function"&&U.name)v+=`. Received function ${U.name}`;else if(typeof U=="object"){var W;if((W=U.constructor)!==null&&W!==void 0&&W.name)v+=`. Received an instance of ${U.constructor.name}`;else{let Q=l(U,{depth:-1});v+=`. Received ${Q}`}}else{let Q=l(U,{colors:!1});Q.length>25&&(Q=`${Q.slice(0,25)}...`),v+=`. Received type ${typeof U} (${Q})`}return v},TypeError),m("ERR_INVALID_ARG_VALUE",(C,k,U="is invalid")=>{let v=l(k);return v.length>128&&(v=v.slice(0,128)+"..."),`The ${C.includes(".")?"property":"argument"} '${C}' ${U}. Received ${v}`},TypeError),m("ERR_INVALID_RETURN_VALUE",(C,k,U)=>{var v;let P=U!=null&&(v=U.constructor)!==null&&v!==void 0&&v.name?`instance of ${U.constructor.name}`:`type ${typeof U}`;return`Expected ${C} to be returned from the "${k}" function but got ${P}.`},TypeError),m("ERR_MISSING_ARGS",(...C)=>{p(C.length>0,"At least one arg needs to be specified");let k,U=C.length;switch(C=(Array.isArray(C)?C:[C]).map(v=>`"${v}"`).join(" or "),U){case 1:k+=`The ${C[0]} argument`;break;case 2:k+=`The ${C[0]} and ${C[1]} arguments`;break;default:{let v=C.pop();k+=`The ${C.join(", ")}, and ${v} arguments`}break}return`${k} must be specified`},TypeError),m("ERR_OUT_OF_RANGE",(C,k,U)=>{p(k,'Missing "range" argument');let v;return Number.isInteger(U)&&Math.abs(U)>2**32?v=g(String(U)):typeof U=="bigint"?(v=String(U),(U>2n**32n||U<-(2n**32n))&&(v=g(v)),v+="n"):v=l(U),`The value of "${C}" is out of range. It must be ${k}. Received ${v}`},RangeError),m("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),m("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),m("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),m("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),m("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),m("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),m("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),m("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),m("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),m("ERR_STREAM_WRITE_AFTER_END","write after end",Error),m("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),n.exports={AbortError:L,aggregateTwoErrors:y(T),hideStackFrames:y,codes:c}}),Fr=ye((e,n)=>{se(),oe(),ne();var{ArrayIsArray:t,ArrayPrototypeIncludes:l,ArrayPrototypeJoin:h,ArrayPrototypeMap:s,NumberIsInteger:r,NumberIsNaN:o,NumberMAX_SAFE_INTEGER:i,NumberMIN_SAFE_INTEGER:a,NumberParseInt:c,ObjectPrototypeHasOwnProperty:p,RegExpPrototypeExec:g,String:b,StringPrototypeToUpperCase:m,StringPrototypeTrim:y}=Ke(),{hideStackFrames:T,codes:{ERR_SOCKET_BAD_PORT:L,ERR_INVALID_ARG_TYPE:C,ERR_INVALID_ARG_VALUE:k,ERR_OUT_OF_RANGE:U,ERR_UNKNOWN_SIGNAL:v}}=ot(),{normalizeEncoding:P}=kt(),{isAsyncFunction:M,isArrayBufferView:F}=kt().types,W={};function Q(N){return N===(N|0)}function ae(N){return N===N>>>0}var I=/^[0-7]+$/,$="must be a 32-bit unsigned integer or an octal string";function G(N,H,we){if(typeof N>"u"&&(N=we),typeof N=="string"){if(g(I,N)===null)throw new k(H,N,$);N=c(N,8)}return Z(N,H),N}var X=T((N,H,we=a,_e=i)=>{if(typeof N!="number")throw new C(H,"number",N);if(!r(N))throw new U(H,"an integer",N);if(N<we||N>_e)throw new U(H,`>= ${we} && <= ${_e}`,N)}),ge=T((N,H,we=-2147483648,_e=2147483647)=>{if(typeof N!="number")throw new C(H,"number",N);if(!r(N))throw new U(H,"an integer",N);if(N<we||N>_e)throw new U(H,`>= ${we} && <= ${_e}`,N)}),Z=T((N,H,we=!1)=>{if(typeof N!="number")throw new C(H,"number",N);if(!r(N))throw new U(H,"an integer",N);let _e=we?1:0,Ae=4294967295;if(N<_e||N>Ae)throw new U(H,`>= ${_e} && <= ${Ae}`,N)});function q(N,H){if(typeof N!="string")throw new C(H,"string",N)}function be(N,H,we=void 0,_e){if(typeof N!="number")throw new C(H,"number",N);if(we!=null&&N<we||_e!=null&&N>_e||(we!=null||_e!=null)&&o(N))throw new U(H,`${we!=null?`>= ${we}`:""}${we!=null&&_e!=null?" && ":""}${_e!=null?`<= ${_e}`:""}`,N)}var ie=T((N,H,we)=>{if(!l(we,N)){let _e="must be one of: "+h(s(we,Ae=>typeof Ae=="string"?`'${Ae}'`:b(Ae)),", ");throw new k(H,N,_e)}});function ve(N,H){if(typeof N!="boolean")throw new C(H,"boolean",N)}function S(N,H,we){return N==null||!p(N,H)?we:N[H]}var K=T((N,H,we=null)=>{let _e=S(we,"allowArray",!1),Ae=S(we,"allowFunction",!1);if(!S(we,"nullable",!1)&&N===null||!_e&&t(N)||typeof N!="object"&&(!Ae||typeof N!="function"))throw new C(H,"Object",N)}),ce=T((N,H)=>{if(N!=null&&typeof N!="object"&&typeof N!="function")throw new C(H,"a dictionary",N)}),Ee=T((N,H,we=0)=>{if(!t(N))throw new C(H,"Array",N);if(N.length<we){let _e=`must be longer than ${we}`;throw new k(H,N,_e)}});function ue(N,H){Ee(N,H);for(let we=0;we<N.length;we++)q(N[we],`${H}[${we}]`)}function x(N,H){Ee(N,H);for(let we=0;we<N.length;we++)ve(N[we],`${H}[${we}]`)}function E(N,H="signal"){if(q(N,H),W[N]===void 0)throw W[m(N)]!==void 0?new v(N+" (signals must use all capital letters)"):new v(N)}var z=T((N,H="buffer")=>{if(!F(N))throw new C(H,["Buffer","TypedArray","DataView"],N)});function le(N,H){let we=P(H),_e=N.length;if(we==="hex"&&_e%2!==0)throw new k("encoding",H,`is invalid for data of length ${_e}`)}function ee(N,H="Port",we=!0){if(typeof N!="number"&&typeof N!="string"||typeof N=="string"&&y(N).length===0||+N!==+N>>>0||N>65535||N===0&&!we)throw new L(H,N,we);return N|0}var J=T((N,H)=>{if(N!==void 0&&(N===null||typeof N!="object"||!("aborted"in N)))throw new C(H,"AbortSignal",N)}),he=T((N,H)=>{if(typeof N!="function")throw new C(H,"Function",N)}),de=T((N,H)=>{if(typeof N!="function"||M(N))throw new C(H,"Function",N)}),O=T((N,H)=>{if(N!==void 0)throw new C(H,"undefined",N)});function D(N,H,we){if(!l(we,N))throw new C(H,`('${h(we,"|")}')`,N)}var j=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function te(N,H){if(typeof N>"u"||!g(j,N))throw new k(H,N,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function Y(N){if(typeof N=="string")return te(N,"hints"),N;if(t(N)){let H=N.length,we="";if(H===0)return we;for(let _e=0;_e<H;_e++){let Ae=N[_e];te(Ae,"hints"),we+=Ae,_e!==H-1&&(we+=", ")}return we}throw new k("hints",N,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}n.exports={isInt32:Q,isUint32:ae,parseFileMode:G,validateArray:Ee,validateStringArray:ue,validateBooleanArray:x,validateBoolean:ve,validateBuffer:z,validateDictionary:ce,validateEncoding:le,validateFunction:he,validateInt32:ge,validateInteger:X,validateNumber:be,validateObject:K,validateOneOf:ie,validatePlainFunction:de,validatePort:ee,validateSignalName:E,validateString:q,validateUint32:Z,validateUndefined:O,validateUnion:D,validateAbortSignal:J,validateLinkHeaderValue:Y}}),er=ye((e,n)=>{se(),oe(),ne();var t=n.exports={},l,h;function s(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?l=setTimeout:l=s}catch{l=s}try{typeof clearTimeout=="function"?h=clearTimeout:h=r}catch{h=r}})();function o(L){if(l===setTimeout)return setTimeout(L,0);if((l===s||!l)&&setTimeout)return l=setTimeout,setTimeout(L,0);try{return l(L,0)}catch{try{return l.call(null,L,0)}catch{return l.call(this,L,0)}}}function i(L){if(h===clearTimeout)return clearTimeout(L);if((h===r||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(L);try{return h(L)}catch{try{return h.call(null,L)}catch{return h.call(this,L)}}}var a=[],c=!1,p,g=-1;function b(){!c||!p||(c=!1,p.length?a=p.concat(a):g=-1,a.length&&m())}function m(){if(!c){var L=o(b);c=!0;for(var C=a.length;C;){for(p=a,a=[];++g<C;)p&&p[g].run();g=-1,C=a.length}p=null,c=!1,i(L)}}t.nextTick=function(L){var C=new Array(arguments.length-1);if(arguments.length>1)for(var k=1;k<arguments.length;k++)C[k-1]=arguments[k];a.push(new y(L,C)),a.length===1&&!c&&o(m)};function y(L,C){this.fun=L,this.array=C}y.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={};function T(){}t.on=T,t.addListener=T,t.once=T,t.off=T,t.removeListener=T,t.removeAllListeners=T,t.emit=T,t.prependListener=T,t.prependOnceListener=T,t.listeners=function(L){return[]},t.binding=function(L){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(L){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}}),Rt=ye((e,n)=>{se(),oe(),ne();var{Symbol:t,SymbolAsyncIterator:l,SymbolIterator:h,SymbolFor:s}=Ke(),r=t("kDestroyed"),o=t("kIsErrored"),i=t("kIsReadable"),a=t("kIsDisturbed"),c=s("nodejs.webstream.isClosedPromise"),p=s("nodejs.webstream.controllerErrorFunction");function g(S,K=!1){var ce;return!!(S&&typeof S.pipe=="function"&&typeof S.on=="function"&&(!K||typeof S.pause=="function"&&typeof S.resume=="function")&&(!S._writableState||((ce=S._readableState)===null||ce===void 0?void 0:ce.readable)!==!1)&&(!S._writableState||S._readableState))}function b(S){var K;return!!(S&&typeof S.write=="function"&&typeof S.on=="function"&&(!S._readableState||((K=S._writableState)===null||K===void 0?void 0:K.writable)!==!1))}function m(S){return!!(S&&typeof S.pipe=="function"&&S._readableState&&typeof S.on=="function"&&typeof S.write=="function")}function y(S){return S&&(S._readableState||S._writableState||typeof S.write=="function"&&typeof S.on=="function"||typeof S.pipe=="function"&&typeof S.on=="function")}function T(S){return!!(S&&!y(S)&&typeof S.pipeThrough=="function"&&typeof S.getReader=="function"&&typeof S.cancel=="function")}function L(S){return!!(S&&!y(S)&&typeof S.getWriter=="function"&&typeof S.abort=="function")}function C(S){return!!(S&&!y(S)&&typeof S.readable=="object"&&typeof S.writable=="object")}function k(S){return T(S)||L(S)||C(S)}function U(S,K){return S==null?!1:K===!0?typeof S[l]=="function":K===!1?typeof S[h]=="function":typeof S[l]=="function"||typeof S[h]=="function"}function v(S){if(!y(S))return null;let K=S._writableState,ce=S._readableState,Ee=K||ce;return!!(S.destroyed||S[r]||Ee!=null&&Ee.destroyed)}function P(S){if(!b(S))return null;if(S.writableEnded===!0)return!0;let K=S._writableState;return K!=null&&K.errored?!1:typeof(K==null?void 0:K.ended)!="boolean"?null:K.ended}function M(S,K){if(!b(S))return null;if(S.writableFinished===!0)return!0;let ce=S._writableState;return ce!=null&&ce.errored?!1:typeof(ce==null?void 0:ce.finished)!="boolean"?null:!!(ce.finished||K===!1&&ce.ended===!0&&ce.length===0)}function F(S){if(!g(S))return null;if(S.readableEnded===!0)return!0;let K=S._readableState;return!K||K.errored?!1:typeof(K==null?void 0:K.ended)!="boolean"?null:K.ended}function W(S,K){if(!g(S))return null;let ce=S._readableState;return ce!=null&&ce.errored?!1:typeof(ce==null?void 0:ce.endEmitted)!="boolean"?null:!!(ce.endEmitted||K===!1&&ce.ended===!0&&ce.length===0)}function Q(S){return S&&S[i]!=null?S[i]:typeof(S==null?void 0:S.readable)!="boolean"?null:v(S)?!1:g(S)&&S.readable&&!W(S)}function ae(S){return typeof(S==null?void 0:S.writable)!="boolean"?null:v(S)?!1:b(S)&&S.writable&&!P(S)}function I(S,K){return y(S)?v(S)?!0:!((K==null?void 0:K.readable)!==!1&&Q(S)||(K==null?void 0:K.writable)!==!1&&ae(S)):null}function $(S){var K,ce;return y(S)?S.writableErrored?S.writableErrored:(K=(ce=S._writableState)===null||ce===void 0?void 0:ce.errored)!==null&&K!==void 0?K:null:null}function G(S){var K,ce;return y(S)?S.readableErrored?S.readableErrored:(K=(ce=S._readableState)===null||ce===void 0?void 0:ce.errored)!==null&&K!==void 0?K:null:null}function X(S){if(!y(S))return null;if(typeof S.closed=="boolean")return S.closed;let K=S._writableState,ce=S._readableState;return typeof(K==null?void 0:K.closed)=="boolean"||typeof(ce==null?void 0:ce.closed)=="boolean"?(K==null?void 0:K.closed)||(ce==null?void 0:ce.closed):typeof S._closed=="boolean"&&ge(S)?S._closed:null}function ge(S){return typeof S._closed=="boolean"&&typeof S._defaultKeepAlive=="boolean"&&typeof S._removedConnection=="boolean"&&typeof S._removedContLen=="boolean"}function Z(S){return typeof S._sent100=="boolean"&&ge(S)}function q(S){var K;return typeof S._consuming=="boolean"&&typeof S._dumped=="boolean"&&((K=S.req)===null||K===void 0?void 0:K.upgradeOrConnect)===void 0}function be(S){if(!y(S))return null;let K=S._writableState,ce=S._readableState,Ee=K||ce;return!Ee&&Z(S)||!!(Ee&&Ee.autoDestroy&&Ee.emitClose&&Ee.closed===!1)}function ie(S){var K;return!!(S&&((K=S[a])!==null&&K!==void 0?K:S.readableDidRead||S.readableAborted))}function ve(S){var K,ce,Ee,ue,x,E,z,le,ee,J;return!!(S&&((K=(ce=(Ee=(ue=(x=(E=S[o])!==null&&E!==void 0?E:S.readableErrored)!==null&&x!==void 0?x:S.writableErrored)!==null&&ue!==void 0?ue:(z=S._readableState)===null||z===void 0?void 0:z.errorEmitted)!==null&&Ee!==void 0?Ee:(le=S._writableState)===null||le===void 0?void 0:le.errorEmitted)!==null&&ce!==void 0?ce:(ee=S._readableState)===null||ee===void 0?void 0:ee.errored)!==null&&K!==void 0?K:!((J=S._writableState)===null||J===void 0)&&J.errored))}n.exports={kDestroyed:r,isDisturbed:ie,kIsDisturbed:a,isErrored:ve,kIsErrored:o,isReadable:Q,kIsReadable:i,kIsClosedPromise:c,kControllerErrorFunction:p,isClosed:X,isDestroyed:v,isDuplexNodeStream:m,isFinished:I,isIterable:U,isReadableNodeStream:g,isReadableStream:T,isReadableEnded:F,isReadableFinished:W,isReadableErrored:G,isNodeStream:y,isWebStream:k,isWritable:ae,isWritableNodeStream:b,isWritableStream:L,isWritableEnded:P,isWritableFinished:M,isWritableErrored:$,isServerRequest:q,isServerResponse:Z,willEmitClose:be,isTransformStream:C}}),jt=ye((e,n)=>{se(),oe(),ne();var t=er(),{AbortError:l,codes:h}=ot(),{ERR_INVALID_ARG_TYPE:s,ERR_STREAM_PREMATURE_CLOSE:r}=h,{kEmptyObject:o,once:i}=kt(),{validateAbortSignal:a,validateFunction:c,validateObject:p,validateBoolean:g}=Fr(),{Promise:b,PromisePrototypeThen:m}=Ke(),{isClosed:y,isReadable:T,isReadableNodeStream:L,isReadableStream:C,isReadableFinished:k,isReadableErrored:U,isWritable:v,isWritableNodeStream:P,isWritableStream:M,isWritableFinished:F,isWritableErrored:W,isNodeStream:Q,willEmitClose:ae,kIsClosedPromise:I}=Rt();function $(q){return q.setHeader&&typeof q.abort=="function"}var G=()=>{};function X(q,be,ie){var ve,S;if(arguments.length===2?(ie=be,be=o):be==null?be=o:p(be,"options"),c(ie,"callback"),a(be.signal,"options.signal"),ie=i(ie),C(q)||M(q))return ge(q,be,ie);if(!Q(q))throw new s("stream",["ReadableStream","WritableStream","Stream"],q);let K=(ve=be.readable)!==null&&ve!==void 0?ve:L(q),ce=(S=be.writable)!==null&&S!==void 0?S:P(q),Ee=q._writableState,ue=q._readableState,x=()=>{q.writable||le()},E=ae(q)&&L(q)===K&&P(q)===ce,z=F(q,!1),le=()=>{z=!0,q.destroyed&&(E=!1),!(E&&(!q.readable||K))&&(!K||ee)&&ie.call(q)},ee=k(q,!1),J=()=>{ee=!0,q.destroyed&&(E=!1),!(E&&(!q.writable||ce))&&(!ce||z)&&ie.call(q)},he=Y=>{ie.call(q,Y)},de=y(q),O=()=>{de=!0;let Y=W(q)||U(q);if(Y&&typeof Y!="boolean")return ie.call(q,Y);if(K&&!ee&&L(q,!0)&&!k(q,!1))return ie.call(q,new r);if(ce&&!z&&!F(q,!1))return ie.call(q,new r);ie.call(q)},D=()=>{de=!0;let Y=W(q)||U(q);if(Y&&typeof Y!="boolean")return ie.call(q,Y);ie.call(q)},j=()=>{q.req.on("finish",le)};$(q)?(q.on("complete",le),E||q.on("abort",O),q.req?j():q.on("request",j)):ce&&!Ee&&(q.on("end",x),q.on("close",x)),!E&&typeof q.aborted=="boolean"&&q.on("aborted",O),q.on("end",J),q.on("finish",le),be.error!==!1&&q.on("error",he),q.on("close",O),de?t.nextTick(O):Ee!=null&&Ee.errorEmitted||ue!=null&&ue.errorEmitted?E||t.nextTick(D):(!K&&(!E||T(q))&&(z||v(q)===!1)||!ce&&(!E||v(q))&&(ee||T(q)===!1)||ue&&q.req&&q.aborted)&&t.nextTick(D);let te=()=>{ie=G,q.removeListener("aborted",O),q.removeListener("complete",le),q.removeListener("abort",O),q.removeListener("request",j),q.req&&q.req.removeListener("finish",le),q.removeListener("end",x),q.removeListener("close",x),q.removeListener("finish",le),q.removeListener("end",J),q.removeListener("error",he),q.removeListener("close",O)};if(be.signal&&!de){let Y=()=>{let N=ie;te(),N.call(q,new l(void 0,{cause:be.signal.reason}))};if(be.signal.aborted)t.nextTick(Y);else{let N=ie;ie=i((...H)=>{be.signal.removeEventListener("abort",Y),N.apply(q,H)}),be.signal.addEventListener("abort",Y)}}return te}function ge(q,be,ie){let ve=!1,S=G;if(be.signal)if(S=()=>{ve=!0,ie.call(q,new l(void 0,{cause:be.signal.reason}))},be.signal.aborted)t.nextTick(S);else{let ce=ie;ie=i((...Ee)=>{be.signal.removeEventListener("abort",S),ce.apply(q,Ee)}),be.signal.addEventListener("abort",S)}let K=(...ce)=>{ve||t.nextTick(()=>ie.apply(q,ce))};return m(q[I].promise,K,K),G}function Z(q,be){var ie;let ve=!1;return be===null&&(be=o),(ie=be)!==null&&ie!==void 0&&ie.cleanup&&(g(be.cleanup,"cleanup"),ve=be.cleanup),new b((S,K)=>{let ce=X(q,be,Ee=>{ve&&ce(),Ee?K(Ee):S()})})}n.exports=X,n.exports.finished=Z}),ar=ye((e,n)=>{se(),oe(),ne();var t=er(),{aggregateTwoErrors:l,codes:{ERR_MULTIPLE_CALLBACK:h},AbortError:s}=ot(),{Symbol:r}=Ke(),{kDestroyed:o,isDestroyed:i,isFinished:a,isServerRequest:c}=Rt(),p=r("kDestroy"),g=r("kConstruct");function b(I,$,G){I&&(I.stack,$&&!$.errored&&($.errored=I),G&&!G.errored&&(G.errored=I))}function m(I,$){let G=this._readableState,X=this._writableState,ge=X||G;return X!=null&&X.destroyed||G!=null&&G.destroyed?(typeof $=="function"&&$(),this):(b(I,X,G),X&&(X.destroyed=!0),G&&(G.destroyed=!0),ge.constructed?y(this,I,$):this.once(p,function(Z){y(this,l(Z,I),$)}),this)}function y(I,$,G){let X=!1;function ge(Z){if(X)return;X=!0;let q=I._readableState,be=I._writableState;b(Z,be,q),be&&(be.closed=!0),q&&(q.closed=!0),typeof G=="function"&&G(Z),Z?t.nextTick(T,I,Z):t.nextTick(L,I)}try{I._destroy($||null,ge)}catch(Z){ge(Z)}}function T(I,$){C(I,$),L(I)}function L(I){let $=I._readableState,G=I._writableState;G&&(G.closeEmitted=!0),$&&($.closeEmitted=!0),(G!=null&&G.emitClose||$!=null&&$.emitClose)&&I.emit("close")}function C(I,$){let G=I._readableState,X=I._writableState;X!=null&&X.errorEmitted||G!=null&&G.errorEmitted||(X&&(X.errorEmitted=!0),G&&(G.errorEmitted=!0),I.emit("error",$))}function k(){let I=this._readableState,$=this._writableState;I&&(I.constructed=!0,I.closed=!1,I.closeEmitted=!1,I.destroyed=!1,I.errored=null,I.errorEmitted=!1,I.reading=!1,I.ended=I.readable===!1,I.endEmitted=I.readable===!1),$&&($.constructed=!0,$.destroyed=!1,$.closed=!1,$.closeEmitted=!1,$.errored=null,$.errorEmitted=!1,$.finalCalled=!1,$.prefinished=!1,$.ended=$.writable===!1,$.ending=$.writable===!1,$.finished=$.writable===!1)}function U(I,$,G){let X=I._readableState,ge=I._writableState;if(ge!=null&&ge.destroyed||X!=null&&X.destroyed)return this;X!=null&&X.autoDestroy||ge!=null&&ge.autoDestroy?I.destroy($):$&&($.stack,ge&&!ge.errored&&(ge.errored=$),X&&!X.errored&&(X.errored=$),G?t.nextTick(C,I,$):C(I,$))}function v(I,$){if(typeof I._construct!="function")return;let G=I._readableState,X=I._writableState;G&&(G.constructed=!1),X&&(X.constructed=!1),I.once(g,$),!(I.listenerCount(g)>1)&&t.nextTick(P,I)}function P(I){let $=!1;function G(X){if($){U(I,X??new h);return}$=!0;let ge=I._readableState,Z=I._writableState,q=Z||ge;ge&&(ge.constructed=!0),Z&&(Z.constructed=!0),q.destroyed?I.emit(p,X):X?U(I,X,!0):t.nextTick(M,I)}try{I._construct(X=>{t.nextTick(G,X)})}catch(X){t.nextTick(G,X)}}function M(I){I.emit(g)}function F(I){return(I==null?void 0:I.setHeader)&&typeof I.abort=="function"}function W(I){I.emit("close")}function Q(I,$){I.emit("error",$),t.nextTick(W,I)}function ae(I,$){!I||i(I)||(!$&&!a(I)&&($=new s),c(I)?(I.socket=null,I.destroy($)):F(I)?I.abort():F(I.req)?I.req.abort():typeof I.destroy=="function"?I.destroy($):typeof I.close=="function"?I.close():$?t.nextTick(Q,I,$):t.nextTick(W,I),I.destroyed||(I[o]=!0))}n.exports={construct:v,destroyer:ae,destroy:m,undestroy:k,errorOrDestroy:U}});function Be(){Be.init.call(this)}function Rr(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function Ko(e){return e._maxListeners===void 0?Be.defaultMaxListeners:e._maxListeners}function Hn(e,n,t,l){var h,s,r,o;if(Rr(t),(s=e._events)===void 0?(s=e._events=Object.create(null),e._eventsCount=0):(s.newListener!==void 0&&(e.emit("newListener",n,t.listener?t.listener:t),s=e._events),r=s[n]),r===void 0)r=s[n]=t,++e._eventsCount;else if(typeof r=="function"?r=s[n]=l?[t,r]:[r,t]:l?r.unshift(t):r.push(t),(h=Ko(e))>0&&r.length>h&&!r.warned){r.warned=!0;var i=new Error("Possible EventEmitter memory leak detected. "+r.length+" "+String(n)+" listeners added. Use emitter.setMaxListeners() to increase limit");i.name="MaxListenersExceededWarning",i.emitter=e,i.type=n,i.count=r.length,o=i,console&&console.warn&&console.warn(o)}return e}function qa(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function zn(e,n,t){var l={fired:!1,wrapFn:void 0,target:e,type:n,listener:t},h=qa.bind(l);return h.listener=t,l.wrapFn=h,h}function Kn(e,n,t){var l=e._events;if(l===void 0)return[];var h=l[n];return h===void 0?[]:typeof h=="function"?t?[h.listener||h]:[h]:t?function(s){for(var r=new Array(s.length),o=0;o<r.length;++o)r[o]=s[o].listener||s[o];return r}(h):Go(h,h.length)}function Gn(e){var n=this._events;if(n!==void 0){var t=n[e];if(typeof t=="function")return 1;if(t!==void 0)return t.length}return 0}function Go(e,n){for(var t=new Array(n),l=0;l<n;++l)t[l]=e[l];return t}var Yn,Qn,Ft,Gr,Yr,Qr,lt,Jn=Qe(()=>{se(),oe(),ne(),Ft=typeof Reflect=="object"?Reflect:null,Gr=Ft&&typeof Ft.apply=="function"?Ft.apply:function(e,n,t){return Function.prototype.apply.call(e,n,t)},Qn=Ft&&typeof Ft.ownKeys=="function"?Ft.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)},Yr=Number.isNaN||function(e){return e!=e},Yn=Be,Be.EventEmitter=Be,Be.prototype._events=void 0,Be.prototype._eventsCount=0,Be.prototype._maxListeners=void 0,Qr=10,Object.defineProperty(Be,"defaultMaxListeners",{enumerable:!0,get:function(){return Qr},set:function(e){if(typeof e!="number"||e<0||Yr(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");Qr=e}}),Be.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Be.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||Yr(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},Be.prototype.getMaxListeners=function(){return Ko(this)},Be.prototype.emit=function(e){for(var n=[],t=1;t<arguments.length;t++)n.push(arguments[t]);var l=e==="error",h=this._events;if(h!==void 0)l=l&&h.error===void 0;else if(!l)return!1;if(l){var s;if(n.length>0&&(s=n[0]),s instanceof Error)throw s;var r=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw r.context=s,r}var o=h[e];if(o===void 0)return!1;if(typeof o=="function")Gr(o,this,n);else{var i=o.length,a=Go(o,i);for(t=0;t<i;++t)Gr(a[t],this,n)}return!0},Be.prototype.addListener=function(e,n){return Hn(this,e,n,!1)},Be.prototype.on=Be.prototype.addListener,Be.prototype.prependListener=function(e,n){return Hn(this,e,n,!0)},Be.prototype.once=function(e,n){return Rr(n),this.on(e,zn(this,e,n)),this},Be.prototype.prependOnceListener=function(e,n){return Rr(n),this.prependListener(e,zn(this,e,n)),this},Be.prototype.removeListener=function(e,n){var t,l,h,s,r;if(Rr(n),(l=this._events)===void 0)return this;if((t=l[e])===void 0)return this;if(t===n||t.listener===n)--this._eventsCount==0?this._events=Object.create(null):(delete l[e],l.removeListener&&this.emit("removeListener",e,t.listener||n));else if(typeof t!="function"){for(h=-1,s=t.length-1;s>=0;s--)if(t[s]===n||t[s].listener===n){r=t[s].listener,h=s;break}if(h<0)return this;h===0?t.shift():function(o,i){for(;i+1<o.length;i++)o[i]=o[i+1];o.pop()}(t,h),t.length===1&&(l[e]=t[0]),l.removeListener!==void 0&&this.emit("removeListener",e,r||n)}return this},Be.prototype.off=Be.prototype.removeListener,Be.prototype.removeAllListeners=function(e){var n,t,l;if((t=this._events)===void 0)return this;if(t.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):t[e]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete t[e]),this;if(arguments.length===0){var h,s=Object.keys(t);for(l=0;l<s.length;++l)(h=s[l])!=="removeListener"&&this.removeAllListeners(h);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(n=t[e])=="function")this.removeListener(e,n);else if(n!==void 0)for(l=n.length-1;l>=0;l--)this.removeListener(e,n[l]);return this},Be.prototype.listeners=function(e){return Kn(this,e,!0)},Be.prototype.rawListeners=function(e){return Kn(this,e,!1)},Be.listenerCount=function(e,n){return typeof e.listenerCount=="function"?e.listenerCount(n):Gn.call(e,n)},Be.prototype.listenerCount=Gn,Be.prototype.eventNames=function(){return this._eventsCount>0?Qn(this._events):[]},lt=Yn,lt.EventEmitter,lt.defaultMaxListeners,lt.init,lt.listenerCount,lt.EventEmitter,lt.defaultMaxListeners,lt.init,lt.listenerCount}),tr={};Zt(tr,{EventEmitter:()=>Yo,default:()=>lt,defaultMaxListeners:()=>Qo,init:()=>Jo,listenerCount:()=>Xo,on:()=>Zo,once:()=>es});var Yo,Qo,Jo,Xo,Zo,es,lr=Qe(()=>{se(),oe(),ne(),Jn(),Jn(),lt.once=function(e,n){return new Promise((t,l)=>{function h(...r){s!==void 0&&e.removeListener("error",s),t(r)}let s;n!=="error"&&(s=r=>{e.removeListener(name,h),l(r)},e.once("error",s)),e.once(n,h)})},lt.on=function(e,n){let t=[],l=[],h=null,s=!1,r={async next(){let a=t.shift();if(a)return createIterResult(a,!1);if(h){let c=Promise.reject(h);return h=null,c}return s?createIterResult(void 0,!0):new Promise((c,p)=>l.push({resolve:c,reject:p}))},async return(){e.removeListener(n,o),e.removeListener("error",i),s=!0;for(let a of l)a.resolve(createIterResult(void 0,!0));return createIterResult(void 0,!0)},throw(a){h=a,e.removeListener(n,o),e.removeListener("error",i)},[Symbol.asyncIterator](){return this}};return e.on(n,o),e.on("error",i),r;function o(...a){let c=l.shift();c?c.resolve(createIterResult(a,!1)):t.push(a)}function i(a){s=!0;let c=l.shift();c?c.reject(a):h=a,r.return()}},{EventEmitter:Yo,defaultMaxListeners:Qo,init:Jo,listenerCount:Xo,on:Zo,once:es}=lt}),xn=ye((e,n)=>{se(),oe(),ne();var{ArrayIsArray:t,ObjectSetPrototypeOf:l}=Ke(),{EventEmitter:h}=(lr(),Me(tr));function s(o){h.call(this,o)}l(s.prototype,h.prototype),l(s,h),s.prototype.pipe=function(o,i){let a=this;function c(L){o.writable&&o.write(L)===!1&&a.pause&&a.pause()}a.on("data",c);function p(){a.readable&&a.resume&&a.resume()}o.on("drain",p),!o._isStdio&&(!i||i.end!==!1)&&(a.on("end",b),a.on("close",m));let g=!1;function b(){g||(g=!0,o.end())}function m(){g||(g=!0,typeof o.destroy=="function"&&o.destroy())}function y(L){T(),h.listenerCount(this,"error")===0&&this.emit("error",L)}r(a,"error",y),r(o,"error",y);function T(){a.removeListener("data",c),o.removeListener("drain",p),a.removeListener("end",b),a.removeListener("close",m),a.removeListener("error",y),o.removeListener("error",y),a.removeListener("end",T),a.removeListener("close",T),o.removeListener("close",T)}return a.on("end",T),a.on("close",T),o.on("close",T),o.emit("pipe",a),o};function r(o,i,a){if(typeof o.prependListener=="function")return o.prependListener(i,a);!o._events||!o._events[i]?o.on(i,a):t(o._events[i])?o._events[i].unshift(a):o._events[i]=[a,o._events[i]]}n.exports={Stream:s,prependListener:r}}),Wr=ye((e,n)=>{se(),oe(),ne();var{AbortError:t,codes:l}=ot(),{isNodeStream:h,isWebStream:s,kControllerErrorFunction:r}=Rt(),o=jt(),{ERR_INVALID_ARG_TYPE:i}=l,a=(c,p)=>{if(typeof c!="object"||!("aborted"in c))throw new i(p,"AbortSignal",c)};n.exports.addAbortSignal=function(c,p){if(a(c,"signal"),!h(p)&&!s(p))throw new i("stream",["ReadableStream","WritableStream","Stream"],p);return n.exports.addAbortSignalNoValidate(c,p)},n.exports.addAbortSignalNoValidate=function(c,p){if(typeof c!="object"||!("aborted"in c))return p;let g=h(p)?()=>{p.destroy(new t(void 0,{cause:c.reason}))}:()=>{p[r](new t(void 0,{cause:c.reason}))};return c.aborted?g():(c.addEventListener("abort",g),o(p,()=>c.removeEventListener("abort",g))),p}}),Va=ye((e,n)=>{se(),oe(),ne();var{StringPrototypeSlice:t,SymbolIterator:l,TypedArrayPrototypeSet:h,Uint8Array:s}=Ke(),{Buffer:r}=(et(),Me(Ze)),{inspect:o}=kt();n.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(i){let a={data:i,next:null};this.length>0?this.tail.next=a:this.head=a,this.tail=a,++this.length}unshift(i){let a={data:i,next:this.head};this.length===0&&(this.tail=a),this.head=a,++this.length}shift(){if(this.length===0)return;let i=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,i}clear(){this.head=this.tail=null,this.length=0}join(i){if(this.length===0)return"";let a=this.head,c=""+a.data;for(;(a=a.next)!==null;)c+=i+a.data;return c}concat(i){if(this.length===0)return r.alloc(0);let a=r.allocUnsafe(i>>>0),c=this.head,p=0;for(;c;)h(a,c.data,p),p+=c.data.length,c=c.next;return a}consume(i,a){let c=this.head.data;if(i<c.length){let p=c.slice(0,i);return this.head.data=c.slice(i),p}return i===c.length?this.shift():a?this._getString(i):this._getBuffer(i)}first(){return this.head.data}*[l](){for(let i=this.head;i;i=i.next)yield i.data}_getString(i){let a="",c=this.head,p=0;do{let g=c.data;if(i>g.length)a+=g,i-=g.length;else{i===g.length?(a+=g,++p,c.next?this.head=c.next:this.head=this.tail=null):(a+=t(g,0,i),this.head=c,c.data=t(g,i));break}++p}while((c=c.next)!==null);return this.length-=p,a}_getBuffer(i){let a=r.allocUnsafe(i),c=i,p=this.head,g=0;do{let b=p.data;if(i>b.length)h(a,b,c-i),i-=b.length;else{i===b.length?(h(a,b,c-i),++g,p.next?this.head=p.next:this.head=this.tail=null):(h(a,new s(b.buffer,b.byteOffset,i),c-i),this.head=p,p.data=b.slice(i));break}++g}while((p=p.next)!==null);return this.length-=g,a}[Symbol.for("nodejs.util.inspect.custom")](i,a){return o(this,{...a,depth:0,customInspect:!1})}}}),Mn=ye((e,n)=>{se(),oe(),ne();var{MathFloor:t,NumberIsInteger:l}=Ke(),{ERR_INVALID_ARG_VALUE:h}=ot().codes;function s(i,a,c){return i.highWaterMark!=null?i.highWaterMark:a?i[c]:null}function r(i){return i?16:16*1024}function o(i,a,c,p){let g=s(a,p,c);if(g!=null){if(!l(g)||g<0){let b=p?`options.${c}`:"options.highWaterMark";throw new h(b,g)}return t(g)}return r(i.objectMode)}n.exports={getHighWaterMark:o,getDefaultHighWaterMark:r}});function Xn(e){var n=e.length;if(n%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=e.indexOf("=");return t===-1&&(t=n),[t,t===n?0:4-t%4]}function Ha(e,n,t){for(var l,h,s=[],r=n;r<t;r+=3)l=(e[r]<<16&16711680)+(e[r+1]<<8&65280)+(255&e[r+2]),s.push(pt[(h=l)>>18&63]+pt[h>>12&63]+pt[h>>6&63]+pt[63&h]);return s.join("")}function It(e){if(e>2147483647)throw new RangeError('The value "'+e+'" is invalid for option "size"');var n=new Uint8Array(e);return Object.setPrototypeOf(n,pe.prototype),n}function pe(e,n,t){if(typeof e=="number"){if(typeof n=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return pn(e)}return ts(e,n,t)}function ts(e,n,t){if(typeof e=="string")return function(s,r){if(typeof r=="string"&&r!==""||(r="utf8"),!pe.isEncoding(r))throw new TypeError("Unknown encoding: "+r);var o=0|is(s,r),i=It(o),a=i.write(s,r);return a!==o&&(i=i.slice(0,a)),i}(e,n);if(ArrayBuffer.isView(e))return Jr(e);if(e==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Tt(e,ArrayBuffer)||e&&Tt(e.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Tt(e,SharedArrayBuffer)||e&&Tt(e.buffer,SharedArrayBuffer)))return za(e,n,t);if(typeof e=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var l=e.valueOf&&e.valueOf();if(l!=null&&l!==e)return pe.from(l,n,t);var h=function(s){if(pe.isBuffer(s)){var r=0|Un(s.length),o=It(r);return o.length===0||s.copy(o,0,0,r),o}if(s.length!==void 0)return typeof s.length!="number"||Ln(s.length)?It(0):Jr(s);if(s.type==="Buffer"&&Array.isArray(s.data))return Jr(s.data)}(e);if(h)return h;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof e[Symbol.toPrimitive]=="function")return pe.from(e[Symbol.toPrimitive]("string"),n,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function rs(e){if(typeof e!="number")throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function pn(e){return rs(e),It(e<0?0:0|Un(e))}function Jr(e){for(var n=e.length<0?0:0|Un(e.length),t=It(n),l=0;l<n;l+=1)t[l]=255&e[l];return t}function za(e,n,t){if(n<0||e.byteLength<n)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<n+(t||0))throw new RangeError('"length" is outside of buffer bounds');var l;return l=n===void 0&&t===void 0?new Uint8Array(e):t===void 0?new Uint8Array(e,n):new Uint8Array(e,n,t),Object.setPrototypeOf(l,pe.prototype),l}function Un(e){if(e>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function is(e,n){if(pe.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Tt(e,ArrayBuffer))return e.byteLength;if(typeof e!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var t=e.length,l=arguments.length>2&&arguments[2]===!0;if(!l&&t===0)return 0;for(var h=!1;;)switch(n){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return gn(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*t;case"hex":return t>>>1;case"base64":return as(e).length;default:if(h)return l?-1:gn(e).length;n=(""+n).toLowerCase(),h=!0}}function Ka(e,n,t){var l=!1;if((n===void 0||n<0)&&(n=0),n>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0)<=(n>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return rl(this,n,t);case"utf8":case"utf-8":return os(this,n,t);case"ascii":return el(this,n,t);case"latin1":case"binary":return tl(this,n,t);case"base64":return Za(this,n,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return il(this,n,t);default:if(l)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),l=!0}}function Wt(e,n,t){var l=e[n];e[n]=e[t],e[t]=l}function Zn(e,n,t,l,h){if(e.length===0)return-1;if(typeof t=="string"?(l=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),Ln(t=+t)&&(t=h?0:e.length-1),t<0&&(t=e.length+t),t>=e.length){if(h)return-1;t=e.length-1}else if(t<0){if(!h)return-1;t=0}if(typeof n=="string"&&(n=pe.from(n,l)),pe.isBuffer(n))return n.length===0?-1:eo(e,n,t,l,h);if(typeof n=="number")return n&=255,typeof Uint8Array.prototype.indexOf=="function"?h?Uint8Array.prototype.indexOf.call(e,n,t):Uint8Array.prototype.lastIndexOf.call(e,n,t):eo(e,[n],t,l,h);throw new TypeError("val must be string, number or Buffer")}function eo(e,n,t,l,h){var s,r=1,o=e.length,i=n.length;if(l!==void 0&&((l=String(l).toLowerCase())==="ucs2"||l==="ucs-2"||l==="utf16le"||l==="utf-16le")){if(e.length<2||n.length<2)return-1;r=2,o/=2,i/=2,t/=2}function a(b,m){return r===1?b[m]:b.readUInt16BE(m*r)}if(h){var c=-1;for(s=t;s<o;s++)if(a(e,s)===a(n,c===-1?0:s-c)){if(c===-1&&(c=s),s-c+1===i)return c*r}else c!==-1&&(s-=s-c),c=-1}else for(t+i>o&&(t=o-i),s=t;s>=0;s--){for(var p=!0,g=0;g<i;g++)if(a(e,s+g)!==a(n,g)){p=!1;break}if(p)return s}return-1}function Ga(e,n,t,l){t=Number(t)||0;var h=e.length-t;l?(l=Number(l))>h&&(l=h):l=h;var s=n.length;l>s/2&&(l=s/2);for(var r=0;r<l;++r){var o=parseInt(n.substr(2*r,2),16);if(Ln(o))return r;e[t+r]=o}return r}function Ya(e,n,t,l){return $r(gn(n,e.length-t),e,t,l)}function ns(e,n,t,l){return $r(function(h){for(var s=[],r=0;r<h.length;++r)s.push(255&h.charCodeAt(r));return s}(n),e,t,l)}function Qa(e,n,t,l){return ns(e,n,t,l)}function Ja(e,n,t,l){return $r(as(n),e,t,l)}function Xa(e,n,t,l){return $r(function(h,s){for(var r,o,i,a=[],c=0;c<h.length&&!((s-=2)<0);++c)r=h.charCodeAt(c),o=r>>8,i=r%256,a.push(i),a.push(o);return a}(n,e.length-t),e,t,l)}function Za(e,n,t){return n===0&&t===e.length?Lr.fromByteArray(e):Lr.fromByteArray(e.slice(n,t))}function os(e,n,t){t=Math.min(e.length,t);for(var l=[],h=n;h<t;){var s,r,o,i,a=e[h],c=null,p=a>239?4:a>223?3:a>191?2:1;if(h+p<=t)switch(p){case 1:a<128&&(c=a);break;case 2:(192&(s=e[h+1]))==128&&(i=(31&a)<<6|63&s)>127&&(c=i);break;case 3:s=e[h+1],r=e[h+2],(192&s)==128&&(192&r)==128&&(i=(15&a)<<12|(63&s)<<6|63&r)>2047&&(i<55296||i>57343)&&(c=i);break;case 4:s=e[h+1],r=e[h+2],o=e[h+3],(192&s)==128&&(192&r)==128&&(192&o)==128&&(i=(15&a)<<18|(63&s)<<12|(63&r)<<6|63&o)>65535&&i<1114112&&(c=i)}c===null?(c=65533,p=1):c>65535&&(c-=65536,l.push(c>>>10&1023|55296),c=56320|1023&c),l.push(c),h+=p}return function(g){var b=g.length;if(b<=4096)return String.fromCharCode.apply(String,g);for(var m="",y=0;y<b;)m+=String.fromCharCode.apply(String,g.slice(y,y+=4096));return m}(l)}function el(e,n,t){var l="";t=Math.min(e.length,t);for(var h=n;h<t;++h)l+=String.fromCharCode(127&e[h]);return l}function tl(e,n,t){var l="";t=Math.min(e.length,t);for(var h=n;h<t;++h)l+=String.fromCharCode(e[h]);return l}function rl(e,n,t){var l=e.length;(!n||n<0)&&(n=0),(!t||t<0||t>l)&&(t=l);for(var h="",s=n;s<t;++s)h+=us[e[s]];return h}function il(e,n,t){for(var l=e.slice(n,t),h="",s=0;s<l.length;s+=2)h+=String.fromCharCode(l[s]+256*l[s+1]);return h}function Ge(e,n,t){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+n>t)throw new RangeError("Trying to access beyond buffer length")}function nt(e,n,t,l,h,s){if(!pe.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(n>h||n<s)throw new RangeError('"value" argument is out of bounds');if(t+l>e.length)throw new RangeError("Index out of range")}function ss(e,n,t,l,h,s){if(t+l>e.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function to(e,n,t,l,h){return n=+n,t>>>=0,h||ss(e,0,t,4),Kt.write(e,n,t,l,23,4),t+4}function ro(e,n,t,l,h){return n=+n,t>>>=0,h||ss(e,0,t,8),Kt.write(e,n,t,l,52,8),t+8}function gn(e,n){var t;n=n||1/0;for(var l=e.length,h=null,s=[],r=0;r<l;++r){if((t=e.charCodeAt(r))>55295&&t<57344){if(!h){if(t>56319){(n-=3)>-1&&s.push(239,191,189);continue}if(r+1===l){(n-=3)>-1&&s.push(239,191,189);continue}h=t;continue}if(t<56320){(n-=3)>-1&&s.push(239,191,189),h=t;continue}t=65536+(h-55296<<10|t-56320)}else h&&(n-=3)>-1&&s.push(239,191,189);if(h=null,t<128){if((n-=1)<0)break;s.push(t)}else if(t<2048){if((n-=2)<0)break;s.push(t>>6|192,63&t|128)}else if(t<65536){if((n-=3)<0)break;s.push(t>>12|224,t>>6&63|128,63&t|128)}else{if(!(t<1114112))throw new Error("Invalid code point");if((n-=4)<0)break;s.push(t>>18|240,t>>12&63|128,t>>6&63|128,63&t|128)}}return s}function as(e){return Lr.toByteArray(function(n){if((n=(n=n.split("=")[0]).trim().replace(ls,"")).length<2)return"";for(;n.length%4!=0;)n+="=";return n}(e))}function $r(e,n,t,l){for(var h=0;h<l&&!(h+t>=n.length||h>=e.length);++h)n[h+t]=e[h];return h}function Tt(e,n){return e instanceof n||e!=null&&e.constructor!=null&&e.constructor.name!=null&&e.constructor.name===n.name}function Ln(e){return e!=e}function io(e,n){for(var t in e)n[t]=e[t]}function $t(e,n,t){return ft(e,n,t)}function hr(e){var n;switch(this.encoding=function(t){var l=function(h){if(!h)return"utf8";for(var s;;)switch(h){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return h;default:if(s)return;h=(""+h).toLowerCase(),s=!0}}(t);if(typeof l!="string"&&(Nr.isEncoding===bn||!bn(t)))throw new Error("Unknown encoding: "+t);return l||t}(e),this.encoding){case"utf16le":this.text=ol,this.end=sl,n=4;break;case"utf8":this.fillLast=nl,n=4;break;case"base64":this.text=al,this.end=ll,n=3;break;default:return this.write=ul,this.end=hl,void 0}this.lastNeed=0,this.lastTotal=0,this.lastChar=Nr.allocUnsafe(n)}function Xr(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function nl(e){var n=this.lastTotal-this.lastNeed,t=function(l,h,s){if((192&h[0])!=128)return l.lastNeed=0,"";if(l.lastNeed>1&&h.length>1){if((192&h[1])!=128)return l.lastNeed=1,"";if(l.lastNeed>2&&h.length>2&&(192&h[2])!=128)return l.lastNeed=2,""}}(this,e);return t!==void 0?t:this.lastNeed<=e.length?(e.copy(this.lastChar,n,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,n,0,e.length),this.lastNeed-=e.length,void 0)}function ol(e,n){if((e.length-n)%2==0){var t=e.toString("utf16le",n);if(t){var l=t.charCodeAt(t.length-1);if(l>=55296&&l<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],t.slice(0,-1)}return t}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",n,e.length-1)}function sl(e){var n=e&&e.length?this.write(e):"";if(this.lastNeed){var t=this.lastTotal-this.lastNeed;return n+this.lastChar.toString("utf16le",0,t)}return n}function al(e,n){var t=(e.length-n)%3;return t===0?e.toString("base64",n):(this.lastNeed=3-t,this.lastTotal=3,t===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",n,e.length-t))}function ll(e){var n=e&&e.length?this.write(e):"";return this.lastNeed?n+this.lastChar.toString("base64",0,3-this.lastNeed):n}function ul(e){return e.toString(this.encoding)}function hl(e){return e&&e.length?this.write(e):""}var no,pt,st,oo,Sr,qt,so,ao,gt,Lr,Kt,Zr,ls,us,cr,fr,ft,lo,or,Nr,bn,uo=Qe(()=>{for(se(),oe(),ne(),no={byteLength:function(e){var n=Xn(e),t=n[0],l=n[1];return 3*(t+l)/4-l},toByteArray:function(e){var n,t,l=Xn(e),h=l[0],s=l[1],r=new oo(function(a,c,p){return 3*(c+p)/4-p}(0,h,s)),o=0,i=s>0?h-4:h;for(t=0;t<i;t+=4)n=st[e.charCodeAt(t)]<<18|st[e.charCodeAt(t+1)]<<12|st[e.charCodeAt(t+2)]<<6|st[e.charCodeAt(t+3)],r[o++]=n>>16&255,r[o++]=n>>8&255,r[o++]=255&n;return s===2&&(n=st[e.charCodeAt(t)]<<2|st[e.charCodeAt(t+1)]>>4,r[o++]=255&n),s===1&&(n=st[e.charCodeAt(t)]<<10|st[e.charCodeAt(t+1)]<<4|st[e.charCodeAt(t+2)]>>2,r[o++]=n>>8&255,r[o++]=255&n),r},fromByteArray:function(e){for(var n,t=e.length,l=t%3,h=[],s=0,r=t-l;s<r;s+=16383)h.push(Ha(e,s,s+16383>r?r:s+16383));return l===1?(n=e[t-1],h.push(pt[n>>2]+pt[n<<4&63]+"==")):l===2&&(n=(e[t-2]<<8)+e[t-1],h.push(pt[n>>10]+pt[n>>4&63]+pt[n<<2&63]+"=")),h.join("")}},pt=[],st=[],oo=typeof Uint8Array<"u"?Uint8Array:Array,Sr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",qt=0,so=Sr.length;qt<so;++qt)pt[qt]=Sr[qt],st[Sr.charCodeAt(qt)]=qt;st[45]=62,st[95]=63,ao={read:function(e,n,t,l,h){var s,r,o=8*h-l-1,i=(1<<o)-1,a=i>>1,c=-7,p=t?h-1:0,g=t?-1:1,b=e[n+p];for(p+=g,s=b&(1<<-c)-1,b>>=-c,c+=o;c>0;s=256*s+e[n+p],p+=g,c-=8);for(r=s&(1<<-c)-1,s>>=-c,c+=l;c>0;r=256*r+e[n+p],p+=g,c-=8);if(s===0)s=1-a;else{if(s===i)return r?NaN:1/0*(b?-1:1);r+=Math.pow(2,l),s-=a}return(b?-1:1)*r*Math.pow(2,s-l)},write:function(e,n,t,l,h,s){var r,o,i,a=8*s-h-1,c=(1<<a)-1,p=c>>1,g=h===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=l?0:s-1,m=l?1:-1,y=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(o=isNaN(n)?1:0,r=c):(r=Math.floor(Math.log(n)/Math.LN2),n*(i=Math.pow(2,-r))<1&&(r--,i*=2),(n+=r+p>=1?g/i:g*Math.pow(2,1-p))*i>=2&&(r++,i/=2),r+p>=c?(o=0,r=c):r+p>=1?(o=(n*i-1)*Math.pow(2,h),r+=p):(o=n*Math.pow(2,p-1)*Math.pow(2,h),r=0));h>=8;e[t+b]=255&o,b+=m,o/=256,h-=8);for(r=r<<h|o,a+=h;a>0;e[t+b]=255&r,b+=m,r/=256,a-=8);e[t+b-m]|=128*y}},gt={},Lr=no,Kt=ao,Zr=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null,gt.Buffer=pe,gt.SlowBuffer=function(e){return+e!=e&&(e=0),pe.alloc(+e)},gt.INSPECT_MAX_BYTES=50,gt.kMaxLength=2147483647,pe.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),n={foo:function(){return 42}};return Object.setPrototypeOf(n,Uint8Array.prototype),Object.setPrototypeOf(e,n),e.foo()===42}catch{return!1}}(),pe.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(pe.prototype,"parent",{enumerable:!0,get:function(){if(pe.isBuffer(this))return this.buffer}}),Object.defineProperty(pe.prototype,"offset",{enumerable:!0,get:function(){if(pe.isBuffer(this))return this.byteOffset}}),pe.poolSize=8192,pe.from=function(e,n,t){return ts(e,n,t)},Object.setPrototypeOf(pe.prototype,Uint8Array.prototype),Object.setPrototypeOf(pe,Uint8Array),pe.alloc=function(e,n,t){return function(l,h,s){return rs(l),l<=0?It(l):h!==void 0?typeof s=="string"?It(l).fill(h,s):It(l).fill(h):It(l)}(e,n,t)},pe.allocUnsafe=function(e){return pn(e)},pe.allocUnsafeSlow=function(e){return pn(e)},pe.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==pe.prototype},pe.compare=function(e,n){if(Tt(e,Uint8Array)&&(e=pe.from(e,e.offset,e.byteLength)),Tt(n,Uint8Array)&&(n=pe.from(n,n.offset,n.byteLength)),!pe.isBuffer(e)||!pe.isBuffer(n))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===n)return 0;for(var t=e.length,l=n.length,h=0,s=Math.min(t,l);h<s;++h)if(e[h]!==n[h]){t=e[h],l=n[h];break}return t<l?-1:l<t?1:0},pe.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},pe.concat=function(e,n){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return pe.alloc(0);var t;if(n===void 0)for(n=0,t=0;t<e.length;++t)n+=e[t].length;var l=pe.allocUnsafe(n),h=0;for(t=0;t<e.length;++t){var s=e[t];if(Tt(s,Uint8Array)&&(s=pe.from(s)),!pe.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(l,h),h+=s.length}return l},pe.byteLength=is,pe.prototype._isBuffer=!0,pe.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var n=0;n<e;n+=2)Wt(this,n,n+1);return this},pe.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var n=0;n<e;n+=4)Wt(this,n,n+3),Wt(this,n+1,n+2);return this},pe.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var n=0;n<e;n+=8)Wt(this,n,n+7),Wt(this,n+1,n+6),Wt(this,n+2,n+5),Wt(this,n+3,n+4);return this},pe.prototype.toString=function(){var e=this.length;return e===0?"":arguments.length===0?os(this,0,e):Ka.apply(this,arguments)},pe.prototype.toLocaleString=pe.prototype.toString,pe.prototype.equals=function(e){if(!pe.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||pe.compare(this,e)===0},pe.prototype.inspect=function(){var e="",n=gt.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},Zr&&(pe.prototype[Zr]=pe.prototype.inspect),pe.prototype.compare=function(e,n,t,l,h){if(Tt(e,Uint8Array)&&(e=pe.from(e,e.offset,e.byteLength)),!pe.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(n===void 0&&(n=0),t===void 0&&(t=e?e.length:0),l===void 0&&(l=0),h===void 0&&(h=this.length),n<0||t>e.length||l<0||h>this.length)throw new RangeError("out of range index");if(l>=h&&n>=t)return 0;if(l>=h)return-1;if(n>=t)return 1;if(this===e)return 0;for(var s=(h>>>=0)-(l>>>=0),r=(t>>>=0)-(n>>>=0),o=Math.min(s,r),i=this.slice(l,h),a=e.slice(n,t),c=0;c<o;++c)if(i[c]!==a[c]){s=i[c],r=a[c];break}return s<r?-1:r<s?1:0},pe.prototype.includes=function(e,n,t){return this.indexOf(e,n,t)!==-1},pe.prototype.indexOf=function(e,n,t){return Zn(this,e,n,t,!0)},pe.prototype.lastIndexOf=function(e,n,t){return Zn(this,e,n,t,!1)},pe.prototype.write=function(e,n,t,l){if(n===void 0)l="utf8",t=this.length,n=0;else if(t===void 0&&typeof n=="string")l=n,t=this.length,n=0;else{if(!isFinite(n))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");n>>>=0,isFinite(t)?(t>>>=0,l===void 0&&(l="utf8")):(l=t,t=void 0)}var h=this.length-n;if((t===void 0||t>h)&&(t=h),e.length>0&&(t<0||n<0)||n>this.length)throw new RangeError("Attempt to write outside buffer bounds");l||(l="utf8");for(var s=!1;;)switch(l){case"hex":return Ga(this,e,n,t);case"utf8":case"utf-8":return Ya(this,e,n,t);case"ascii":return ns(this,e,n,t);case"latin1":case"binary":return Qa(this,e,n,t);case"base64":return Ja(this,e,n,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Xa(this,e,n,t);default:if(s)throw new TypeError("Unknown encoding: "+l);l=(""+l).toLowerCase(),s=!0}},pe.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},pe.prototype.slice=function(e,n){var t=this.length;(e=~~e)<0?(e+=t)<0&&(e=0):e>t&&(e=t),(n=n===void 0?t:~~n)<0?(n+=t)<0&&(n=0):n>t&&(n=t),n<e&&(n=e);var l=this.subarray(e,n);return Object.setPrototypeOf(l,pe.prototype),l},pe.prototype.readUIntLE=function(e,n,t){e>>>=0,n>>>=0,t||Ge(e,n,this.length);for(var l=this[e],h=1,s=0;++s<n&&(h*=256);)l+=this[e+s]*h;return l},pe.prototype.readUIntBE=function(e,n,t){e>>>=0,n>>>=0,t||Ge(e,n,this.length);for(var l=this[e+--n],h=1;n>0&&(h*=256);)l+=this[e+--n]*h;return l},pe.prototype.readUInt8=function(e,n){return e>>>=0,n||Ge(e,1,this.length),this[e]},pe.prototype.readUInt16LE=function(e,n){return e>>>=0,n||Ge(e,2,this.length),this[e]|this[e+1]<<8},pe.prototype.readUInt16BE=function(e,n){return e>>>=0,n||Ge(e,2,this.length),this[e]<<8|this[e+1]},pe.prototype.readUInt32LE=function(e,n){return e>>>=0,n||Ge(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},pe.prototype.readUInt32BE=function(e,n){return e>>>=0,n||Ge(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},pe.prototype.readIntLE=function(e,n,t){e>>>=0,n>>>=0,t||Ge(e,n,this.length);for(var l=this[e],h=1,s=0;++s<n&&(h*=256);)l+=this[e+s]*h;return l>=(h*=128)&&(l-=Math.pow(2,8*n)),l},pe.prototype.readIntBE=function(e,n,t){e>>>=0,n>>>=0,t||Ge(e,n,this.length);for(var l=n,h=1,s=this[e+--l];l>0&&(h*=256);)s+=this[e+--l]*h;return s>=(h*=128)&&(s-=Math.pow(2,8*n)),s},pe.prototype.readInt8=function(e,n){return e>>>=0,n||Ge(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},pe.prototype.readInt16LE=function(e,n){e>>>=0,n||Ge(e,2,this.length);var t=this[e]|this[e+1]<<8;return 32768&t?4294901760|t:t},pe.prototype.readInt16BE=function(e,n){e>>>=0,n||Ge(e,2,this.length);var t=this[e+1]|this[e]<<8;return 32768&t?4294901760|t:t},pe.prototype.readInt32LE=function(e,n){return e>>>=0,n||Ge(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},pe.prototype.readInt32BE=function(e,n){return e>>>=0,n||Ge(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},pe.prototype.readFloatLE=function(e,n){return e>>>=0,n||Ge(e,4,this.length),Kt.read(this,e,!0,23,4)},pe.prototype.readFloatBE=function(e,n){return e>>>=0,n||Ge(e,4,this.length),Kt.read(this,e,!1,23,4)},pe.prototype.readDoubleLE=function(e,n){return e>>>=0,n||Ge(e,8,this.length),Kt.read(this,e,!0,52,8)},pe.prototype.readDoubleBE=function(e,n){return e>>>=0,n||Ge(e,8,this.length),Kt.read(this,e,!1,52,8)},pe.prototype.writeUIntLE=function(e,n,t,l){e=+e,n>>>=0,t>>>=0,l||nt(this,e,n,t,Math.pow(2,8*t)-1,0);var h=1,s=0;for(this[n]=255&e;++s<t&&(h*=256);)this[n+s]=e/h&255;return n+t},pe.prototype.writeUIntBE=function(e,n,t,l){e=+e,n>>>=0,t>>>=0,l||nt(this,e,n,t,Math.pow(2,8*t)-1,0);var h=t-1,s=1;for(this[n+h]=255&e;--h>=0&&(s*=256);)this[n+h]=e/s&255;return n+t},pe.prototype.writeUInt8=function(e,n,t){return e=+e,n>>>=0,t||nt(this,e,n,1,255,0),this[n]=255&e,n+1},pe.prototype.writeUInt16LE=function(e,n,t){return e=+e,n>>>=0,t||nt(this,e,n,2,65535,0),this[n]=255&e,this[n+1]=e>>>8,n+2},pe.prototype.writeUInt16BE=function(e,n,t){return e=+e,n>>>=0,t||nt(this,e,n,2,65535,0),this[n]=e>>>8,this[n+1]=255&e,n+2},pe.prototype.writeUInt32LE=function(e,n,t){return e=+e,n>>>=0,t||nt(this,e,n,4,4294967295,0),this[n+3]=e>>>24,this[n+2]=e>>>16,this[n+1]=e>>>8,this[n]=255&e,n+4},pe.prototype.writeUInt32BE=function(e,n,t){return e=+e,n>>>=0,t||nt(this,e,n,4,4294967295,0),this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=255&e,n+4},pe.prototype.writeIntLE=function(e,n,t,l){if(e=+e,n>>>=0,!l){var h=Math.pow(2,8*t-1);nt(this,e,n,t,h-1,-h)}var s=0,r=1,o=0;for(this[n]=255&e;++s<t&&(r*=256);)e<0&&o===0&&this[n+s-1]!==0&&(o=1),this[n+s]=(e/r>>0)-o&255;return n+t},pe.prototype.writeIntBE=function(e,n,t,l){if(e=+e,n>>>=0,!l){var h=Math.pow(2,8*t-1);nt(this,e,n,t,h-1,-h)}var s=t-1,r=1,o=0;for(this[n+s]=255&e;--s>=0&&(r*=256);)e<0&&o===0&&this[n+s+1]!==0&&(o=1),this[n+s]=(e/r>>0)-o&255;return n+t},pe.prototype.writeInt8=function(e,n,t){return e=+e,n>>>=0,t||nt(this,e,n,1,127,-128),e<0&&(e=255+e+1),this[n]=255&e,n+1},pe.prototype.writeInt16LE=function(e,n,t){return e=+e,n>>>=0,t||nt(this,e,n,2,32767,-32768),this[n]=255&e,this[n+1]=e>>>8,n+2},pe.prototype.writeInt16BE=function(e,n,t){return e=+e,n>>>=0,t||nt(this,e,n,2,32767,-32768),this[n]=e>>>8,this[n+1]=255&e,n+2},pe.prototype.writeInt32LE=function(e,n,t){return e=+e,n>>>=0,t||nt(this,e,n,4,2147483647,-2147483648),this[n]=255&e,this[n+1]=e>>>8,this[n+2]=e>>>16,this[n+3]=e>>>24,n+4},pe.prototype.writeInt32BE=function(e,n,t){return e=+e,n>>>=0,t||nt(this,e,n,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=255&e,n+4},pe.prototype.writeFloatLE=function(e,n,t){return to(this,e,n,!0,t)},pe.prototype.writeFloatBE=function(e,n,t){return to(this,e,n,!1,t)},pe.prototype.writeDoubleLE=function(e,n,t){return ro(this,e,n,!0,t)},pe.prototype.writeDoubleBE=function(e,n,t){return ro(this,e,n,!1,t)},pe.prototype.copy=function(e,n,t,l){if(!pe.isBuffer(e))throw new TypeError("argument should be a Buffer");if(t||(t=0),l||l===0||(l=this.length),n>=e.length&&(n=e.length),n||(n=0),l>0&&l<t&&(l=t),l===t||e.length===0||this.length===0)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(t<0||t>=this.length)throw new RangeError("Index out of range");if(l<0)throw new RangeError("sourceEnd out of bounds");l>this.length&&(l=this.length),e.length-n<l-t&&(l=e.length-n+t);var h=l-t;if(this===e&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(n,t,l);else if(this===e&&t<n&&n<l)for(var s=h-1;s>=0;--s)e[s+n]=this[s+t];else Uint8Array.prototype.set.call(e,this.subarray(t,l),n);return h},pe.prototype.fill=function(e,n,t,l){if(typeof e=="string"){if(typeof n=="string"?(l=n,n=0,t=this.length):typeof t=="string"&&(l=t,t=this.length),l!==void 0&&typeof l!="string")throw new TypeError("encoding must be a string");if(typeof l=="string"&&!pe.isEncoding(l))throw new TypeError("Unknown encoding: "+l);if(e.length===1){var h=e.charCodeAt(0);(l==="utf8"&&h<128||l==="latin1")&&(e=h)}}else typeof e=="number"?e&=255:typeof e=="boolean"&&(e=Number(e));if(n<0||this.length<n||this.length<t)throw new RangeError("Out of range index");if(t<=n)return this;var s;if(n>>>=0,t=t===void 0?this.length:t>>>0,e||(e=0),typeof e=="number")for(s=n;s<t;++s)this[s]=e;else{var r=pe.isBuffer(e)?e:pe.from(e,l),o=r.length;if(o===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<t-n;++s)this[s+n]=r[s%o]}return this},ls=/[^+/0-9A-Za-z-_]/g,us=function(){for(var e=new Array(256),n=0;n<16;++n)for(var t=16*n,l=0;l<16;++l)e[t+l]="0123456789abcdef"[n]+"0123456789abcdef"[l];return e}(),gt.Buffer,gt.INSPECT_MAX_BYTES,gt.kMaxLength,cr={},fr=gt,ft=fr.Buffer,ft.from&&ft.alloc&&ft.allocUnsafe&&ft.allocUnsafeSlow?cr=fr:(io(fr,cr),cr.Buffer=$t),$t.prototype=Object.create(ft.prototype),io(ft,$t),$t.from=function(e,n,t){if(typeof e=="number")throw new TypeError("Argument must not be a number");return ft(e,n,t)},$t.alloc=function(e,n,t){if(typeof e!="number")throw new TypeError("Argument must be a number");var l=ft(e);return n!==void 0?typeof t=="string"?l.fill(n,t):l.fill(n):l.fill(0),l},$t.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return ft(e)},$t.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return fr.SlowBuffer(e)},lo=cr,or={},Nr=lo.Buffer,bn=Nr.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},or.StringDecoder=hr,hr.prototype.write=function(e){if(e.length===0)return"";var n,t;if(this.lastNeed){if((n=this.fillLast(e))===void 0)return"";t=this.lastNeed,this.lastNeed=0}else t=0;return t<e.length?n?n+this.text(e,t):this.text(e,t):n||""},hr.prototype.end=function(e){var n=e&&e.length?this.write(e):"";return this.lastNeed?n+"":n},hr.prototype.text=function(e,n){var t=function(h,s,r){var o=s.length-1;if(o<r)return 0;var i=Xr(s[o]);return i>=0?(i>0&&(h.lastNeed=i-1),i):--o<r||i===-2?0:(i=Xr(s[o]))>=0?(i>0&&(h.lastNeed=i-2),i):--o<r||i===-2?0:(i=Xr(s[o]))>=0?(i>0&&(i===2?i=0:h.lastNeed=i-3),i):0}(this,e,n);if(!this.lastNeed)return e.toString("utf8",n);this.lastTotal=t;var l=e.length-(t-this.lastNeed);return e.copy(this.lastChar,0,l),e.toString("utf8",n,l)},hr.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length},or.StringDecoder,or.StringDecoder}),hs={};Zt(hs,{StringDecoder:()=>cs,default:()=>or});var cs,cl=Qe(()=>{se(),oe(),ne(),uo(),uo(),cs=or.StringDecoder}),fs=ye((e,n)=>{se(),oe(),ne();var t=er(),{PromisePrototypeThen:l,SymbolAsyncIterator:h,SymbolIterator:s}=Ke(),{Buffer:r}=(et(),Me(Ze)),{ERR_INVALID_ARG_TYPE:o,ERR_STREAM_NULL_VALUES:i}=ot().codes;function a(c,p,g){let b;if(typeof p=="string"||p instanceof r)return new c({objectMode:!0,...g,read(){this.push(p),this.push(null)}});let m;if(p&&p[h])m=!0,b=p[h]();else if(p&&p[s])m=!1,b=p[s]();else throw new o("iterable",["Iterable"],p);let y=new c({objectMode:!0,highWaterMark:1,...g}),T=!1;y._read=function(){T||(T=!0,C())},y._destroy=function(k,U){l(L(k),()=>t.nextTick(U,k),v=>t.nextTick(U,v||k))};async function L(k){let U=k!=null,v=typeof b.throw=="function";if(U&&v){let{value:P,done:M}=await b.throw(k);if(await P,M)return}if(typeof b.return=="function"){let{value:P}=await b.return();await P}}async function C(){for(;;){try{let{value:k,done:U}=m?await b.next():b.next();if(U)y.push(null);else{let v=k&&typeof k.then=="function"?await k:k;if(v===null)throw T=!1,new i;if(y.push(v))continue;T=!1}}catch(k){y.destroy(k)}break}}return y}n.exports=a}),qr=ye((e,n)=>{se(),oe(),ne();var t=er(),{ArrayPrototypeIndexOf:l,NumberIsInteger:h,NumberIsNaN:s,NumberParseInt:r,ObjectDefineProperties:o,ObjectKeys:i,ObjectSetPrototypeOf:a,Promise:c,SafeSet:p,SymbolAsyncIterator:g,Symbol:b}=Ke();n.exports=S,S.ReadableState=ve;var{EventEmitter:m}=(lr(),Me(tr)),{Stream:y,prependListener:T}=xn(),{Buffer:L}=(et(),Me(Ze)),{addAbortSignal:C}=Wr(),k=jt(),U=kt().debuglog("stream",u=>{U=u}),v=Va(),P=ar(),{getHighWaterMark:M,getDefaultHighWaterMark:F}=Mn(),{aggregateTwoErrors:W,codes:{ERR_INVALID_ARG_TYPE:Q,ERR_METHOD_NOT_IMPLEMENTED:ae,ERR_OUT_OF_RANGE:I,ERR_STREAM_PUSH_AFTER_EOF:$,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:G}}=ot(),{validateObject:X}=Fr(),ge=b("kPaused"),{StringDecoder:Z}=(cl(),Me(hs)),q=fs();a(S.prototype,y.prototype),a(S,y);var be=()=>{},{errorOrDestroy:ie}=P;function ve(u,d,_){typeof _!="boolean"&&(_=d instanceof Ot()),this.objectMode=!!(u&&u.objectMode),_&&(this.objectMode=this.objectMode||!!(u&&u.readableObjectMode)),this.highWaterMark=u?M(this,u,"readableHighWaterMark",_):F(!1),this.buffer=new v,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[ge]=null,this.errorEmitted=!1,this.emitClose=!u||u.emitClose!==!1,this.autoDestroy=!u||u.autoDestroy!==!1,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=u&&u.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,u&&u.encoding&&(this.decoder=new Z(u.encoding),this.encoding=u.encoding)}function S(u){if(!(this instanceof S))return new S(u);let d=this instanceof Ot();this._readableState=new ve(u,this,d),u&&(typeof u.read=="function"&&(this._read=u.read),typeof u.destroy=="function"&&(this._destroy=u.destroy),typeof u.construct=="function"&&(this._construct=u.construct),u.signal&&!d&&C(u.signal,this)),y.call(this,u),P.construct(this,()=>{this._readableState.needReadable&&ee(this,this._readableState)})}S.prototype.destroy=P.destroy,S.prototype._undestroy=P.undestroy,S.prototype._destroy=function(u,d){d(u)},S.prototype[m.captureRejectionSymbol]=function(u){this.destroy(u)},S.prototype.push=function(u,d){return K(this,u,d,!1)},S.prototype.unshift=function(u,d){return K(this,u,d,!0)};function K(u,d,_,A){U("readableAddChunk",d);let w=u._readableState,R;if(w.objectMode||(typeof d=="string"?(_=_||w.defaultEncoding,w.encoding!==_&&(A&&w.encoding?d=L.from(d,_).toString(w.encoding):(d=L.from(d,_),_=""))):d instanceof L?_="":y._isUint8Array(d)?(d=y._uint8ArrayToBuffer(d),_=""):d!=null&&(R=new Q("chunk",["string","Buffer","Uint8Array"],d))),R)ie(u,R);else if(d===null)w.reading=!1,E(u,w);else if(w.objectMode||d&&d.length>0)if(A)if(w.endEmitted)ie(u,new G);else{if(w.destroyed||w.errored)return!1;ce(u,w,d,!0)}else if(w.ended)ie(u,new $);else{if(w.destroyed||w.errored)return!1;w.reading=!1,w.decoder&&!_?(d=w.decoder.write(d),w.objectMode||d.length!==0?ce(u,w,d,!1):ee(u,w)):ce(u,w,d,!1)}else A||(w.reading=!1,ee(u,w));return!w.ended&&(w.length<w.highWaterMark||w.length===0)}function ce(u,d,_,A){d.flowing&&d.length===0&&!d.sync&&u.listenerCount("data")>0?(d.multiAwaitDrain?d.awaitDrainWriters.clear():d.awaitDrainWriters=null,d.dataEmitted=!0,u.emit("data",_)):(d.length+=d.objectMode?1:_.length,A?d.buffer.unshift(_):d.buffer.push(_),d.needReadable&&z(u)),ee(u,d)}S.prototype.isPaused=function(){let u=this._readableState;return u[ge]===!0||u.flowing===!1},S.prototype.setEncoding=function(u){let d=new Z(u);this._readableState.decoder=d,this._readableState.encoding=this._readableState.decoder.encoding;let _=this._readableState.buffer,A="";for(let w of _)A+=d.write(w);return _.clear(),A!==""&&_.push(A),this._readableState.length=A.length,this};var Ee=1073741824;function ue(u){if(u>Ee)throw new I("size","<= 1GiB",u);return u--,u|=u>>>1,u|=u>>>2,u|=u>>>4,u|=u>>>8,u|=u>>>16,u++,u}function x(u,d){return u<=0||d.length===0&&d.ended?0:d.objectMode?1:s(u)?d.flowing&&d.length?d.buffer.first().length:d.length:u<=d.length?u:d.ended?d.length:0}S.prototype.read=function(u){U("read",u),u===void 0?u=NaN:h(u)||(u=r(u,10));let d=this._readableState,_=u;if(u>d.highWaterMark&&(d.highWaterMark=ue(u)),u!==0&&(d.emittedReadable=!1),u===0&&d.needReadable&&((d.highWaterMark!==0?d.length>=d.highWaterMark:d.length>0)||d.ended))return U("read: emitReadable",d.length,d.ended),d.length===0&&d.ended?we(this):z(this),null;if(u=x(u,d),u===0&&d.ended)return d.length===0&&we(this),null;let A=d.needReadable;if(U("need readable",A),(d.length===0||d.length-u<d.highWaterMark)&&(A=!0,U("length less than watermark",A)),d.ended||d.reading||d.destroyed||d.errored||!d.constructed)A=!1,U("reading, ended or constructing",A);else if(A){U("do read"),d.reading=!0,d.sync=!0,d.length===0&&(d.needReadable=!0);try{this._read(d.highWaterMark)}catch(R){ie(this,R)}d.sync=!1,d.reading||(u=x(_,d))}let w;return u>0?w=H(u,d):w=null,w===null?(d.needReadable=d.length<=d.highWaterMark,u=0):(d.length-=u,d.multiAwaitDrain?d.awaitDrainWriters.clear():d.awaitDrainWriters=null),d.length===0&&(d.ended||(d.needReadable=!0),_!==u&&d.ended&&we(this)),w!==null&&!d.errorEmitted&&!d.closeEmitted&&(d.dataEmitted=!0,this.emit("data",w)),w};function E(u,d){if(U("onEofChunk"),!d.ended){if(d.decoder){let _=d.decoder.end();_&&_.length&&(d.buffer.push(_),d.length+=d.objectMode?1:_.length)}d.ended=!0,d.sync?z(u):(d.needReadable=!1,d.emittedReadable=!0,le(u))}}function z(u){let d=u._readableState;U("emitReadable",d.needReadable,d.emittedReadable),d.needReadable=!1,d.emittedReadable||(U("emitReadable",d.flowing),d.emittedReadable=!0,t.nextTick(le,u))}function le(u){let d=u._readableState;U("emitReadable_",d.destroyed,d.length,d.ended),!d.destroyed&&!d.errored&&(d.length||d.ended)&&(u.emit("readable"),d.emittedReadable=!1),d.needReadable=!d.flowing&&!d.ended&&d.length<=d.highWaterMark,te(u)}function ee(u,d){!d.readingMore&&d.constructed&&(d.readingMore=!0,t.nextTick(J,u,d))}function J(u,d){for(;!d.reading&&!d.ended&&(d.length<d.highWaterMark||d.flowing&&d.length===0);){let _=d.length;if(U("maybeReadMore read 0"),u.read(0),_===d.length)break}d.readingMore=!1}S.prototype._read=function(u){throw new ae("_read()")},S.prototype.pipe=function(u,d){let _=this,A=this._readableState;A.pipes.length===1&&(A.multiAwaitDrain||(A.multiAwaitDrain=!0,A.awaitDrainWriters=new p(A.awaitDrainWriters?[A.awaitDrainWriters]:[]))),A.pipes.push(u),U("pipe count=%d opts=%j",A.pipes.length,d);let w=(!d||d.end!==!1)&&u!==t.stdout&&u!==t.stderr?V:rt;A.endEmitted?t.nextTick(w):_.once("end",w),u.on("unpipe",R);function R(Ve,He){U("onunpipe"),Ve===_&&He&&He.hasUnpiped===!1&&(He.hasUnpiped=!0,me())}function V(){U("onend"),u.end()}let fe,re=!1;function me(){U("cleanup"),u.removeListener("close",tt),u.removeListener("finish",xe),fe&&u.removeListener("drain",fe),u.removeListener("error",$e),u.removeListener("unpipe",R),_.removeListener("end",V),_.removeListener("end",rt),_.removeListener("data",ke),re=!0,fe&&A.awaitDrainWriters&&(!u._writableState||u._writableState.needDrain)&&fe()}function Se(){re||(A.pipes.length===1&&A.pipes[0]===u?(U("false write response, pause",0),A.awaitDrainWriters=u,A.multiAwaitDrain=!1):A.pipes.length>1&&A.pipes.includes(u)&&(U("false write response, pause",A.awaitDrainWriters.size),A.awaitDrainWriters.add(u)),_.pause()),fe||(fe=he(_,u),u.on("drain",fe))}_.on("data",ke);function ke(Ve){U("ondata");let He=u.write(Ve);U("dest.write",He),He===!1&&Se()}function $e(Ve){if(U("onerror",Ve),rt(),u.removeListener("error",$e),u.listenerCount("error")===0){let He=u._writableState||u._readableState;He&&!He.errorEmitted?ie(u,Ve):u.emit("error",Ve)}}T(u,"error",$e);function tt(){u.removeListener("finish",xe),rt()}u.once("close",tt);function xe(){U("onfinish"),u.removeListener("close",tt),rt()}u.once("finish",xe);function rt(){U("unpipe"),_.unpipe(u)}return u.emit("pipe",_),u.writableNeedDrain===!0?A.flowing&&Se():A.flowing||(U("pipe resume"),_.resume()),u};function he(u,d){return function(){let _=u._readableState;_.awaitDrainWriters===d?(U("pipeOnDrain",1),_.awaitDrainWriters=null):_.multiAwaitDrain&&(U("pipeOnDrain",_.awaitDrainWriters.size),_.awaitDrainWriters.delete(d)),(!_.awaitDrainWriters||_.awaitDrainWriters.size===0)&&u.listenerCount("data")&&u.resume()}}S.prototype.unpipe=function(u){let d=this._readableState,_={hasUnpiped:!1};if(d.pipes.length===0)return this;if(!u){let w=d.pipes;d.pipes=[],this.pause();for(let R=0;R<w.length;R++)w[R].emit("unpipe",this,{hasUnpiped:!1});return this}let A=l(d.pipes,u);return A===-1?this:(d.pipes.splice(A,1),d.pipes.length===0&&this.pause(),u.emit("unpipe",this,_),this)},S.prototype.on=function(u,d){let _=y.prototype.on.call(this,u,d),A=this._readableState;return u==="data"?(A.readableListening=this.listenerCount("readable")>0,A.flowing!==!1&&this.resume()):u==="readable"&&!A.endEmitted&&!A.readableListening&&(A.readableListening=A.needReadable=!0,A.flowing=!1,A.emittedReadable=!1,U("on readable",A.length,A.reading),A.length?z(this):A.reading||t.nextTick(O,this)),_},S.prototype.addListener=S.prototype.on,S.prototype.removeListener=function(u,d){let _=y.prototype.removeListener.call(this,u,d);return u==="readable"&&t.nextTick(de,this),_},S.prototype.off=S.prototype.removeListener,S.prototype.removeAllListeners=function(u){let d=y.prototype.removeAllListeners.apply(this,arguments);return(u==="readable"||u===void 0)&&t.nextTick(de,this),d};function de(u){let d=u._readableState;d.readableListening=u.listenerCount("readable")>0,d.resumeScheduled&&d[ge]===!1?d.flowing=!0:u.listenerCount("data")>0?u.resume():d.readableListening||(d.flowing=null)}function O(u){U("readable nexttick read 0"),u.read(0)}S.prototype.resume=function(){let u=this._readableState;return u.flowing||(U("resume"),u.flowing=!u.readableListening,D(this,u)),u[ge]=!1,this};function D(u,d){d.resumeScheduled||(d.resumeScheduled=!0,t.nextTick(j,u,d))}function j(u,d){U("resume",d.reading),d.reading||u.read(0),d.resumeScheduled=!1,u.emit("resume"),te(u),d.flowing&&!d.reading&&u.read(0)}S.prototype.pause=function(){return U("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(U("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[ge]=!0,this};function te(u){let d=u._readableState;for(U("flow",d.flowing);d.flowing&&u.read()!==null;);}S.prototype.wrap=function(u){let d=!1;u.on("data",A=>{!this.push(A)&&u.pause&&(d=!0,u.pause())}),u.on("end",()=>{this.push(null)}),u.on("error",A=>{ie(this,A)}),u.on("close",()=>{this.destroy()}),u.on("destroy",()=>{this.destroy()}),this._read=()=>{d&&u.resume&&(d=!1,u.resume())};let _=i(u);for(let A=1;A<_.length;A++){let w=_[A];this[w]===void 0&&typeof u[w]=="function"&&(this[w]=u[w].bind(u))}return this},S.prototype[g]=function(){return Y(this)},S.prototype.iterator=function(u){return u!==void 0&&X(u,"options"),Y(this,u)};function Y(u,d){typeof u.read!="function"&&(u=S.wrap(u,{objectMode:!0}));let _=N(u,d);return _.stream=u,_}async function*N(u,d){let _=be;function A(V){this===u?(_(),_=be):_=V}u.on("readable",A);let w,R=k(u,{writable:!1},V=>{w=V?W(w,V):null,_(),_=be});try{for(;;){let V=u.destroyed?null:u.read();if(V!==null)yield V;else{if(w)throw w;if(w===null)return;await new c(A)}}}catch(V){throw w=W(w,V),w}finally{(w||(d==null?void 0:d.destroyOnReturn)!==!1)&&(w===void 0||u._readableState.autoDestroy)?P.destroyer(u,null):(u.off("readable",A),R())}}o(S.prototype,{readable:{__proto__:null,get(){let u=this._readableState;return!!u&&u.readable!==!1&&!u.destroyed&&!u.errorEmitted&&!u.endEmitted},set(u){this._readableState&&(this._readableState.readable=!!u)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(u){this._readableState&&(this._readableState.flowing=u)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(u){this._readableState&&(this._readableState.destroyed=u)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),o(ve.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[ge]!==!1},set(u){this[ge]=!!u}}}),S._fromList=H;function H(u,d){if(d.length===0)return null;let _;return d.objectMode?_=d.buffer.shift():!u||u>=d.length?(d.decoder?_=d.buffer.join(""):d.buffer.length===1?_=d.buffer.first():_=d.buffer.concat(d.length),d.buffer.clear()):_=d.buffer.consume(u,d.decoder),_}function we(u){let d=u._readableState;U("endReadable",d.endEmitted),d.endEmitted||(d.ended=!0,t.nextTick(_e,d,u))}function _e(u,d){if(U("endReadableNT",u.endEmitted,u.length),!u.errored&&!u.closeEmitted&&!u.endEmitted&&u.length===0){if(u.endEmitted=!0,d.emit("end"),d.writable&&d.allowHalfOpen===!1)t.nextTick(Ae,d);else if(u.autoDestroy){let _=d._writableState;(!_||_.autoDestroy&&(_.finished||_.writable===!1))&&d.destroy()}}}function Ae(u){u.writable&&!u.writableEnded&&!u.destroyed&&u.end()}S.from=function(u,d){return q(S,u,d)};var Re;function f(){return Re===void 0&&(Re={}),Re}S.fromWeb=function(u,d){return f().newStreamReadableFromReadableStream(u,d)},S.toWeb=function(u,d){return f().newReadableStreamFromStreamReadable(u,d)},S.wrap=function(u,d){var _,A;return new S({objectMode:(_=(A=u.readableObjectMode)!==null&&A!==void 0?A:u.objectMode)!==null&&_!==void 0?_:!0,...d,destroy(w,R){P.destroyer(u,w),R(w)}}).wrap(u)}}),ds=ye((e,n)=>{se(),oe(),ne();var t=er(),{ArrayPrototypeSlice:l,Error:h,FunctionPrototypeSymbolHasInstance:s,ObjectDefineProperty:r,ObjectDefineProperties:o,ObjectSetPrototypeOf:i,StringPrototypeToLowerCase:a,Symbol:c,SymbolHasInstance:p}=Ke();n.exports=Z,Z.WritableState=X;var{EventEmitter:g}=(lr(),Me(tr)),b=xn().Stream,{Buffer:m}=(et(),Me(Ze)),y=ar(),{addAbortSignal:T}=Wr(),{getHighWaterMark:L,getDefaultHighWaterMark:C}=Mn(),{ERR_INVALID_ARG_TYPE:k,ERR_METHOD_NOT_IMPLEMENTED:U,ERR_MULTIPLE_CALLBACK:v,ERR_STREAM_CANNOT_PIPE:P,ERR_STREAM_DESTROYED:M,ERR_STREAM_ALREADY_FINISHED:F,ERR_STREAM_NULL_VALUES:W,ERR_STREAM_WRITE_AFTER_END:Q,ERR_UNKNOWN_ENCODING:ae}=ot().codes,{errorOrDestroy:I}=y;i(Z.prototype,b.prototype),i(Z,b);function $(){}var G=c("kOnFinished");function X(O,D,j){typeof j!="boolean"&&(j=D instanceof Ot()),this.objectMode=!!(O&&O.objectMode),j&&(this.objectMode=this.objectMode||!!(O&&O.writableObjectMode)),this.highWaterMark=O?L(this,O,"writableHighWaterMark",j):C(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let te=!!(O&&O.decodeStrings===!1);this.decodeStrings=!te,this.defaultEncoding=O&&O.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=S.bind(void 0,D),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,ge(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!O||O.emitClose!==!1,this.autoDestroy=!O||O.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[G]=[]}function ge(O){O.buffered=[],O.bufferedIndex=0,O.allBuffers=!0,O.allNoop=!0}X.prototype.getBuffer=function(){return l(this.buffered,this.bufferedIndex)},r(X.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function Z(O){let D=this instanceof Ot();if(!D&&!s(Z,this))return new Z(O);this._writableState=new X(O,this,D),O&&(typeof O.write=="function"&&(this._write=O.write),typeof O.writev=="function"&&(this._writev=O.writev),typeof O.destroy=="function"&&(this._destroy=O.destroy),typeof O.final=="function"&&(this._final=O.final),typeof O.construct=="function"&&(this._construct=O.construct),O.signal&&T(O.signal,this)),b.call(this,O),y.construct(this,()=>{let j=this._writableState;j.writing||ue(this,j),le(this,j)})}r(Z,p,{__proto__:null,value:function(O){return s(this,O)?!0:this!==Z?!1:O&&O._writableState instanceof X}}),Z.prototype.pipe=function(){I(this,new P)};function q(O,D,j,te){let Y=O._writableState;if(typeof j=="function")te=j,j=Y.defaultEncoding;else{if(!j)j=Y.defaultEncoding;else if(j!=="buffer"&&!m.isEncoding(j))throw new ae(j);typeof te!="function"&&(te=$)}if(D===null)throw new W;if(!Y.objectMode)if(typeof D=="string")Y.decodeStrings!==!1&&(D=m.from(D,j),j="buffer");else if(D instanceof m)j="buffer";else if(b._isUint8Array(D))D=b._uint8ArrayToBuffer(D),j="buffer";else throw new k("chunk",["string","Buffer","Uint8Array"],D);let N;return Y.ending?N=new Q:Y.destroyed&&(N=new M("write")),N?(t.nextTick(te,N),I(O,N,!0),N):(Y.pendingcb++,be(O,Y,D,j,te))}Z.prototype.write=function(O,D,j){return q(this,O,D,j)===!0},Z.prototype.cork=function(){this._writableState.corked++},Z.prototype.uncork=function(){let O=this._writableState;O.corked&&(O.corked--,O.writing||ue(this,O))},Z.prototype.setDefaultEncoding=function(O){if(typeof O=="string"&&(O=a(O)),!m.isEncoding(O))throw new ae(O);return this._writableState.defaultEncoding=O,this};function be(O,D,j,te,Y){let N=D.objectMode?1:j.length;D.length+=N;let H=D.length<D.highWaterMark;return H||(D.needDrain=!0),D.writing||D.corked||D.errored||!D.constructed?(D.buffered.push({chunk:j,encoding:te,callback:Y}),D.allBuffers&&te!=="buffer"&&(D.allBuffers=!1),D.allNoop&&Y!==$&&(D.allNoop=!1)):(D.writelen=N,D.writecb=Y,D.writing=!0,D.sync=!0,O._write(j,te,D.onwrite),D.sync=!1),H&&!D.errored&&!D.destroyed}function ie(O,D,j,te,Y,N,H){D.writelen=te,D.writecb=H,D.writing=!0,D.sync=!0,D.destroyed?D.onwrite(new M("write")):j?O._writev(Y,D.onwrite):O._write(Y,N,D.onwrite),D.sync=!1}function ve(O,D,j,te){--D.pendingcb,te(j),Ee(D),I(O,j)}function S(O,D){let j=O._writableState,te=j.sync,Y=j.writecb;if(typeof Y!="function"){I(O,new v);return}j.writing=!1,j.writecb=null,j.length-=j.writelen,j.writelen=0,D?(D.stack,j.errored||(j.errored=D),O._readableState&&!O._readableState.errored&&(O._readableState.errored=D),te?t.nextTick(ve,O,j,D,Y):ve(O,j,D,Y)):(j.buffered.length>j.bufferedIndex&&ue(O,j),te?j.afterWriteTickInfo!==null&&j.afterWriteTickInfo.cb===Y?j.afterWriteTickInfo.count++:(j.afterWriteTickInfo={count:1,cb:Y,stream:O,state:j},t.nextTick(K,j.afterWriteTickInfo)):ce(O,j,1,Y))}function K({stream:O,state:D,count:j,cb:te}){return D.afterWriteTickInfo=null,ce(O,D,j,te)}function ce(O,D,j,te){for(!D.ending&&!O.destroyed&&D.length===0&&D.needDrain&&(D.needDrain=!1,O.emit("drain"));j-- >0;)D.pendingcb--,te();D.destroyed&&Ee(D),le(O,D)}function Ee(O){if(O.writing)return;for(let Y=O.bufferedIndex;Y<O.buffered.length;++Y){var D;let{chunk:N,callback:H}=O.buffered[Y],we=O.objectMode?1:N.length;O.length-=we,H((D=O.errored)!==null&&D!==void 0?D:new M("write"))}let j=O[G].splice(0);for(let Y=0;Y<j.length;Y++){var te;j[Y]((te=O.errored)!==null&&te!==void 0?te:new M("end"))}ge(O)}function ue(O,D){if(D.corked||D.bufferProcessing||D.destroyed||!D.constructed)return;let{buffered:j,bufferedIndex:te,objectMode:Y}=D,N=j.length-te;if(!N)return;let H=te;if(D.bufferProcessing=!0,N>1&&O._writev){D.pendingcb-=N-1;let we=D.allNoop?$:Ae=>{for(let Re=H;Re<j.length;++Re)j[Re].callback(Ae)},_e=D.allNoop&&H===0?j:l(j,H);_e.allBuffers=D.allBuffers,ie(O,D,!0,D.length,_e,"",we),ge(D)}else{do{let{chunk:we,encoding:_e,callback:Ae}=j[H];j[H++]=null;let Re=Y?1:we.length;ie(O,D,!1,Re,we,_e,Ae)}while(H<j.length&&!D.writing);H===j.length?ge(D):H>256?(j.splice(0,H),D.bufferedIndex=0):D.bufferedIndex=H}D.bufferProcessing=!1}Z.prototype._write=function(O,D,j){if(this._writev)this._writev([{chunk:O,encoding:D}],j);else throw new U("_write()")},Z.prototype._writev=null,Z.prototype.end=function(O,D,j){let te=this._writableState;typeof O=="function"?(j=O,O=null,D=null):typeof D=="function"&&(j=D,D=null);let Y;if(O!=null){let N=q(this,O,D);N instanceof h&&(Y=N)}return te.corked&&(te.corked=1,this.uncork()),Y||(!te.errored&&!te.ending?(te.ending=!0,le(this,te,!0),te.ended=!0):te.finished?Y=new F("end"):te.destroyed&&(Y=new M("end"))),typeof j=="function"&&(Y||te.finished?t.nextTick(j,Y):te[G].push(j)),this};function x(O){return O.ending&&!O.destroyed&&O.constructed&&O.length===0&&!O.errored&&O.buffered.length===0&&!O.finished&&!O.writing&&!O.errorEmitted&&!O.closeEmitted}function E(O,D){let j=!1;function te(Y){if(j){I(O,Y??v());return}if(j=!0,D.pendingcb--,Y){let N=D[G].splice(0);for(let H=0;H<N.length;H++)N[H](Y);I(O,Y,D.sync)}else x(D)&&(D.prefinished=!0,O.emit("prefinish"),D.pendingcb++,t.nextTick(ee,O,D))}D.sync=!0,D.pendingcb++;try{O._final(te)}catch(Y){te(Y)}D.sync=!1}function z(O,D){!D.prefinished&&!D.finalCalled&&(typeof O._final=="function"&&!D.destroyed?(D.finalCalled=!0,E(O,D)):(D.prefinished=!0,O.emit("prefinish")))}function le(O,D,j){x(D)&&(z(O,D),D.pendingcb===0&&(j?(D.pendingcb++,t.nextTick((te,Y)=>{x(Y)?ee(te,Y):Y.pendingcb--},O,D)):x(D)&&(D.pendingcb++,ee(O,D))))}function ee(O,D){D.pendingcb--,D.finished=!0;let j=D[G].splice(0);for(let te=0;te<j.length;te++)j[te]();if(O.emit("finish"),D.autoDestroy){let te=O._readableState;(!te||te.autoDestroy&&(te.endEmitted||te.readable===!1))&&O.destroy()}}o(Z.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(O){this._writableState&&(this._writableState.destroyed=O)}},writable:{__proto__:null,get(){let O=this._writableState;return!!O&&O.writable!==!1&&!O.destroyed&&!O.errored&&!O.ending&&!O.ended},set(O){this._writableState&&(this._writableState.writable=!!O)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let O=this._writableState;return O?!O.destroyed&&!O.ending&&O.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var J=y.destroy;Z.prototype.destroy=function(O,D){let j=this._writableState;return!j.destroyed&&(j.bufferedIndex<j.buffered.length||j[G].length)&&t.nextTick(Ee,j),J.call(this,O,D),this},Z.prototype._undestroy=y.undestroy,Z.prototype._destroy=function(O,D){D(O)},Z.prototype[g.captureRejectionSymbol]=function(O){this.destroy(O)};var he;function de(){return he===void 0&&(he={}),he}Z.fromWeb=function(O,D){return de().newStreamWritableFromWritableStream(O,D)},Z.toWeb=function(O){return de().newWritableStreamFromStreamWritable(O)}}),fl=ye((e,n)=>{se(),oe(),ne();var t=er(),l=(et(),Me(Ze)),{isReadable:h,isWritable:s,isIterable:r,isNodeStream:o,isReadableNodeStream:i,isWritableNodeStream:a,isDuplexNodeStream:c}=Rt(),p=jt(),{AbortError:g,codes:{ERR_INVALID_ARG_TYPE:b,ERR_INVALID_RETURN_VALUE:m}}=ot(),{destroyer:y}=ar(),T=Ot(),L=qr(),{createDeferredPromise:C}=kt(),k=fs(),U=globalThis.Blob||l.Blob,v=typeof U<"u"?function(ae){return ae instanceof U}:function(ae){return!1},P=globalThis.AbortController||Bn().AbortController,{FunctionPrototypeCall:M}=Ke(),F=class extends T{constructor(ae){super(ae),(ae==null?void 0:ae.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(ae==null?void 0:ae.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};n.exports=function ae(I,$){if(c(I))return I;if(i(I))return Q({readable:I});if(a(I))return Q({writable:I});if(o(I))return Q({writable:!1,readable:!1});if(typeof I=="function"){let{value:X,write:ge,final:Z,destroy:q}=W(I);if(r(X))return k(F,X,{objectMode:!0,write:ge,final:Z,destroy:q});let be=X==null?void 0:X.then;if(typeof be=="function"){let ie,ve=M(be,X,S=>{if(S!=null)throw new m("nully","body",S)},S=>{y(ie,S)});return ie=new F({objectMode:!0,readable:!1,write:ge,final(S){Z(async()=>{try{await ve,t.nextTick(S,null)}catch(K){t.nextTick(S,K)}})},destroy:q})}throw new m("Iterable, AsyncIterable or AsyncFunction",$,X)}if(v(I))return ae(I.arrayBuffer());if(r(I))return k(F,I,{objectMode:!0,writable:!1});if(typeof(I==null?void 0:I.writable)=="object"||typeof(I==null?void 0:I.readable)=="object"){let X=I!=null&&I.readable?i(I==null?void 0:I.readable)?I==null?void 0:I.readable:ae(I.readable):void 0,ge=I!=null&&I.writable?a(I==null?void 0:I.writable)?I==null?void 0:I.writable:ae(I.writable):void 0;return Q({readable:X,writable:ge})}let G=I==null?void 0:I.then;if(typeof G=="function"){let X;return M(G,I,ge=>{ge!=null&&X.push(ge),X.push(null)},ge=>{y(X,ge)}),X=new F({objectMode:!0,writable:!1,read(){}})}throw new b($,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],I)};function W(ae){let{promise:I,resolve:$}=C(),G=new P,X=G.signal;return{value:ae(async function*(){for(;;){let ge=I;I=null;let{chunk:Z,done:q,cb:be}=await ge;if(t.nextTick(be),q)return;if(X.aborted)throw new g(void 0,{cause:X.reason});({promise:I,resolve:$}=C()),yield Z}}(),{signal:X}),write(ge,Z,q){let be=$;$=null,be({chunk:ge,done:!1,cb:q})},final(ge){let Z=$;$=null,Z({done:!0,cb:ge})},destroy(ge,Z){G.abort(),Z(ge)}}}function Q(ae){let I=ae.readable&&typeof ae.readable.read!="function"?L.wrap(ae.readable):ae.readable,$=ae.writable,G=!!h(I),X=!!s($),ge,Z,q,be,ie;function ve(S){let K=be;be=null,K?K(S):S&&ie.destroy(S)}return ie=new F({readableObjectMode:!!(I!=null&&I.readableObjectMode),writableObjectMode:!!($!=null&&$.writableObjectMode),readable:G,writable:X}),X&&(p($,S=>{X=!1,S&&y(I,S),ve(S)}),ie._write=function(S,K,ce){$.write(S,K)?ce():ge=ce},ie._final=function(S){$.end(),Z=S},$.on("drain",function(){if(ge){let S=ge;ge=null,S()}}),$.on("finish",function(){if(Z){let S=Z;Z=null,S()}})),G&&(p(I,S=>{G=!1,S&&y(I,S),ve(S)}),I.on("readable",function(){if(q){let S=q;q=null,S()}}),I.on("end",function(){ie.push(null)}),ie._read=function(){for(;;){let S=I.read();if(S===null){q=ie._read;return}if(!ie.push(S))return}}),ie._destroy=function(S,K){!S&&be!==null&&(S=new g),q=null,ge=null,Z=null,be===null?K(S):(be=K,y($,S),y(I,S))},ie}}),Ot=ye((e,n)=>{se(),oe(),ne();var{ObjectDefineProperties:t,ObjectGetOwnPropertyDescriptor:l,ObjectKeys:h,ObjectSetPrototypeOf:s}=Ke();n.exports=i;var r=qr(),o=ds();s(i.prototype,r.prototype),s(i,r);{let g=h(o.prototype);for(let b=0;b<g.length;b++){let m=g[b];i.prototype[m]||(i.prototype[m]=o.prototype[m])}}function i(g){if(!(this instanceof i))return new i(g);r.call(this,g),o.call(this,g),g?(this.allowHalfOpen=g.allowHalfOpen!==!1,g.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),g.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}t(i.prototype,{writable:{__proto__:null,...l(o.prototype,"writable")},writableHighWaterMark:{__proto__:null,...l(o.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...l(o.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...l(o.prototype,"writableBuffer")},writableLength:{__proto__:null,...l(o.prototype,"writableLength")},writableFinished:{__proto__:null,...l(o.prototype,"writableFinished")},writableCorked:{__proto__:null,...l(o.prototype,"writableCorked")},writableEnded:{__proto__:null,...l(o.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...l(o.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(g){this._readableState&&this._writableState&&(this._readableState.destroyed=g,this._writableState.destroyed=g)}}});var a;function c(){return a===void 0&&(a={}),a}i.fromWeb=function(g,b){return c().newStreamDuplexFromReadableWritablePair(g,b)},i.toWeb=function(g){return c().newReadableWritablePairFromDuplex(g)};var p;i.from=function(g){return p||(p=fl()),p(g,"body")}}),ps=ye((e,n)=>{se(),oe(),ne();var{ObjectSetPrototypeOf:t,Symbol:l}=Ke();n.exports=i;var{ERR_METHOD_NOT_IMPLEMENTED:h}=ot().codes,s=Ot(),{getHighWaterMark:r}=Mn();t(i.prototype,s.prototype),t(i,s);var o=l("kCallback");function i(p){if(!(this instanceof i))return new i(p);let g=p?r(this,p,"readableHighWaterMark",!0):null;g===0&&(p={...p,highWaterMark:null,readableHighWaterMark:g,writableHighWaterMark:p.writableHighWaterMark||0}),s.call(this,p),this._readableState.sync=!1,this[o]=null,p&&(typeof p.transform=="function"&&(this._transform=p.transform),typeof p.flush=="function"&&(this._flush=p.flush)),this.on("prefinish",c)}function a(p){typeof this._flush=="function"&&!this.destroyed?this._flush((g,b)=>{if(g){p?p(g):this.destroy(g);return}b!=null&&this.push(b),this.push(null),p&&p()}):(this.push(null),p&&p())}function c(){this._final!==a&&a.call(this)}i.prototype._final=a,i.prototype._transform=function(p,g,b){throw new h("_transform()")},i.prototype._write=function(p,g,b){let m=this._readableState,y=this._writableState,T=m.length;this._transform(p,g,(L,C)=>{if(L){b(L);return}C!=null&&this.push(C),y.ended||T===m.length||m.length<m.highWaterMark?b():this[o]=b})},i.prototype._read=function(){if(this[o]){let p=this[o];this[o]=null,p()}}}),gs=ye((e,n)=>{se(),oe(),ne();var{ObjectSetPrototypeOf:t}=Ke();n.exports=h;var l=ps();t(h.prototype,l.prototype),t(h,l);function h(s){if(!(this instanceof h))return new h(s);l.call(this,s)}h.prototype._transform=function(s,r,o){o(null,s)}}),Nn=ye((e,n)=>{se(),oe(),ne();var t=er(),{ArrayIsArray:l,Promise:h,SymbolAsyncIterator:s}=Ke(),r=jt(),{once:o}=kt(),i=ar(),a=Ot(),{aggregateTwoErrors:c,codes:{ERR_INVALID_ARG_TYPE:p,ERR_INVALID_RETURN_VALUE:g,ERR_MISSING_ARGS:b,ERR_STREAM_DESTROYED:m,ERR_STREAM_PREMATURE_CLOSE:y},AbortError:T}=ot(),{validateFunction:L,validateAbortSignal:C}=Fr(),{isIterable:k,isReadable:U,isReadableNodeStream:v,isNodeStream:P,isTransformStream:M,isWebStream:F,isReadableStream:W,isReadableEnded:Q}=Rt(),ae=globalThis.AbortController||Bn().AbortController,I,$;function G(K,ce,Ee){let ue=!1;K.on("close",()=>{ue=!0});let x=r(K,{readable:ce,writable:Ee},E=>{ue=!E});return{destroy:E=>{ue||(ue=!0,i.destroyer(K,E||new m("pipe")))},cleanup:x}}function X(K){return L(K[K.length-1],"streams[stream.length - 1]"),K.pop()}function ge(K){if(k(K))return K;if(v(K))return Z(K);throw new p("val",["Readable","Iterable","AsyncIterable"],K)}async function*Z(K){$||($=qr()),yield*$.prototype[s].call(K)}async function q(K,ce,Ee,{end:ue}){let x,E=null,z=J=>{if(J&&(x=J),E){let he=E;E=null,he()}},le=()=>new h((J,he)=>{x?he(x):E=()=>{x?he(x):J()}});ce.on("drain",z);let ee=r(ce,{readable:!1},z);try{ce.writableNeedDrain&&await le();for await(let J of K)ce.write(J)||await le();ue&&ce.end(),await le(),Ee()}catch(J){Ee(x!==J?c(x,J):J)}finally{ee(),ce.off("drain",z)}}async function be(K,ce,Ee,{end:ue}){M(ce)&&(ce=ce.writable);let x=ce.getWriter();try{for await(let E of K)await x.ready,x.write(E).catch(()=>{});await x.ready,ue&&await x.close(),Ee()}catch(E){try{await x.abort(E),Ee(E)}catch(z){Ee(z)}}}function ie(...K){return ve(K,o(X(K)))}function ve(K,ce,Ee){if(K.length===1&&l(K[0])&&(K=K[0]),K.length<2)throw new b("streams");let ue=new ae,x=ue.signal,E=Ee==null?void 0:Ee.signal,z=[];C(E,"options.signal");function le(){D(new T)}E==null||E.addEventListener("abort",le);let ee,J,he=[],de=0;function O(N){D(N,--de===0)}function D(N,H){if(N&&(!ee||ee.code==="ERR_STREAM_PREMATURE_CLOSE")&&(ee=N),!(!ee&&!H)){for(;he.length;)he.shift()(ee);E==null||E.removeEventListener("abort",le),ue.abort(),H&&(ee||z.forEach(we=>we()),t.nextTick(ce,ee,J))}}let j;for(let N=0;N<K.length;N++){let H=K[N],we=N<K.length-1,_e=N>0,Ae=we||(Ee==null?void 0:Ee.end)!==!1,Re=N===K.length-1;if(P(H)){let f=function(u){u&&u.name!=="AbortError"&&u.code!=="ERR_STREAM_PREMATURE_CLOSE"&&O(u)};if(Ae){let{destroy:u,cleanup:d}=G(H,we,_e);he.push(u),U(H)&&Re&&z.push(d)}H.on("error",f),U(H)&&Re&&z.push(()=>{H.removeListener("error",f)})}if(N===0)if(typeof H=="function"){if(j=H({signal:x}),!k(j))throw new g("Iterable, AsyncIterable or Stream","source",j)}else k(H)||v(H)||M(H)?j=H:j=a.from(H);else if(typeof H=="function"){if(M(j)){var te;j=ge((te=j)===null||te===void 0?void 0:te.readable)}else j=ge(j);if(j=H(j,{signal:x}),we){if(!k(j,!0))throw new g("AsyncIterable",`transform[${N-1}]`,j)}else{var Y;I||(I=gs());let f=new I({objectMode:!0}),u=(Y=j)===null||Y===void 0?void 0:Y.then;if(typeof u=="function")de++,u.call(j,A=>{J=A,A!=null&&f.write(A),Ae&&f.end(),t.nextTick(O)},A=>{f.destroy(A),t.nextTick(O,A)});else if(k(j,!0))de++,q(j,f,O,{end:Ae});else if(W(j)||M(j)){let A=j.readable||j;de++,q(A,f,O,{end:Ae})}else throw new g("AsyncIterable or Promise","destination",j);j=f;let{destroy:d,cleanup:_}=G(j,!1,!0);he.push(d),Re&&z.push(_)}}else if(P(H)){if(v(j)){de+=2;let f=S(j,H,O,{end:Ae});U(H)&&Re&&z.push(f)}else if(M(j)||W(j)){let f=j.readable||j;de++,q(f,H,O,{end:Ae})}else if(k(j))de++,q(j,H,O,{end:Ae});else throw new p("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],j);j=H}else if(F(H)){if(v(j))de++,be(ge(j),H,O,{end:Ae});else if(W(j)||k(j))de++,be(j,H,O,{end:Ae});else if(M(j))de++,be(j.readable,H,O,{end:Ae});else throw new p("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],j);j=H}else j=a.from(H)}return(x!=null&&x.aborted||E!=null&&E.aborted)&&t.nextTick(le),j}function S(K,ce,Ee,{end:ue}){let x=!1;if(ce.on("close",()=>{x||Ee(new y)}),K.pipe(ce,{end:!1}),ue){let E=function(){x=!0,ce.end()};Q(K)?t.nextTick(E):K.once("end",E)}else Ee();return r(K,{readable:!0,writable:!1},E=>{let z=K._readableState;E&&E.code==="ERR_STREAM_PREMATURE_CLOSE"&&z&&z.ended&&!z.errored&&!z.errorEmitted?K.once("end",Ee).once("error",Ee):Ee(E)}),r(ce,{readable:!1,writable:!0},Ee)}n.exports={pipelineImpl:ve,pipeline:ie}}),bs=ye((e,n)=>{se(),oe(),ne();var{pipeline:t}=Nn(),l=Ot(),{destroyer:h}=ar(),{isNodeStream:s,isReadable:r,isWritable:o,isWebStream:i,isTransformStream:a,isWritableStream:c,isReadableStream:p}=Rt(),{AbortError:g,codes:{ERR_INVALID_ARG_VALUE:b,ERR_MISSING_ARGS:m}}=ot(),y=jt();n.exports=function(...T){if(T.length===0)throw new m("streams");if(T.length===1)return l.from(T[0]);let L=[...T];if(typeof T[0]=="function"&&(T[0]=l.from(T[0])),typeof T[T.length-1]=="function"){let I=T.length-1;T[I]=l.from(T[I])}for(let I=0;I<T.length;++I)if(!(!s(T[I])&&!i(T[I]))){if(I<T.length-1&&!(r(T[I])||p(T[I])||a(T[I])))throw new b(`streams[${I}]`,L[I],"must be readable");if(I>0&&!(o(T[I])||c(T[I])||a(T[I])))throw new b(`streams[${I}]`,L[I],"must be writable")}let C,k,U,v,P;function M(I){let $=v;v=null,$?$(I):I?P.destroy(I):!ae&&!Q&&P.destroy()}let F=T[0],W=t(T,M),Q=!!(o(F)||c(F)||a(F)),ae=!!(r(W)||p(W)||a(W));if(P=new l({writableObjectMode:!!(F!=null&&F.writableObjectMode),readableObjectMode:!!(W!=null&&W.writableObjectMode),writable:Q,readable:ae}),Q){if(s(F))P._write=function($,G,X){F.write($,G)?X():C=X},P._final=function($){F.end(),k=$},F.on("drain",function(){if(C){let $=C;C=null,$()}});else if(i(F)){let $=(a(F)?F.writable:F).getWriter();P._write=async function(G,X,ge){try{await $.ready,$.write(G).catch(()=>{}),ge()}catch(Z){ge(Z)}},P._final=async function(G){try{await $.ready,$.close().catch(()=>{}),k=G}catch(X){G(X)}}}let I=a(W)?W.readable:W;y(I,()=>{if(k){let $=k;k=null,$()}})}if(ae){if(s(W))W.on("readable",function(){if(U){let I=U;U=null,I()}}),W.on("end",function(){P.push(null)}),P._read=function(){for(;;){let I=W.read();if(I===null){U=P._read;return}if(!P.push(I))return}};else if(i(W)){let I=(a(W)?W.readable:W).getReader();P._read=async function(){for(;;)try{let{value:$,done:G}=await I.read();if(!P.push($))return;if(G){P.push(null);return}}catch{return}}}}return P._destroy=function(I,$){!I&&v!==null&&(I=new g),U=null,C=null,k=null,v===null?$(I):(v=$,s(W)&&h(W,I))},P}}),dl=ye((e,n)=>{se(),oe(),ne();var t=globalThis.AbortController||Bn().AbortController,{codes:{ERR_INVALID_ARG_VALUE:l,ERR_INVALID_ARG_TYPE:h,ERR_MISSING_ARGS:s,ERR_OUT_OF_RANGE:r},AbortError:o}=ot(),{validateAbortSignal:i,validateInteger:a,validateObject:c}=Fr(),p=Ke().Symbol("kWeak"),{finished:g}=jt(),b=bs(),{addAbortSignalNoValidate:m}=Wr(),{isWritable:y,isNodeStream:T}=Rt(),{ArrayPrototypePush:L,MathFloor:C,Number:k,NumberIsNaN:U,Promise:v,PromiseReject:P,PromisePrototypeThen:M,Symbol:F}=Ke(),W=F("kEmpty"),Q=F("kEof");function ae(ue,x){if(x!=null&&c(x,"options"),(x==null?void 0:x.signal)!=null&&i(x.signal,"options.signal"),T(ue)&&!y(ue))throw new l("stream",ue,"must be writable");let E=b(this,ue);return x!=null&&x.signal&&m(x.signal,E),E}function I(ue,x){if(typeof ue!="function")throw new h("fn",["Function","AsyncFunction"],ue);x!=null&&c(x,"options"),(x==null?void 0:x.signal)!=null&&i(x.signal,"options.signal");let E=1;return(x==null?void 0:x.concurrency)!=null&&(E=C(x.concurrency)),a(E,"concurrency",1),(async function*(){var z,le;let ee=new t,J=this,he=[],de=ee.signal,O={signal:de},D=()=>ee.abort();x!=null&&(z=x.signal)!==null&&z!==void 0&&z.aborted&&D(),x==null||(le=x.signal)===null||le===void 0||le.addEventListener("abort",D);let j,te,Y=!1;function N(){Y=!0}async function H(){try{for await(let Ae of J){var we;if(Y)return;if(de.aborted)throw new o;try{Ae=ue(Ae,O)}catch(Re){Ae=P(Re)}Ae!==W&&(typeof((we=Ae)===null||we===void 0?void 0:we.catch)=="function"&&Ae.catch(N),he.push(Ae),j&&(j(),j=null),!Y&&he.length&&he.length>=E&&await new v(Re=>{te=Re}))}he.push(Q)}catch(Ae){let Re=P(Ae);M(Re,void 0,N),he.push(Re)}finally{var _e;Y=!0,j&&(j(),j=null),x==null||(_e=x.signal)===null||_e===void 0||_e.removeEventListener("abort",D)}}H();try{for(;;){for(;he.length>0;){let we=await he[0];if(we===Q)return;if(de.aborted)throw new o;we!==W&&(yield we),he.shift(),te&&(te(),te=null)}await new v(we=>{j=we})}}finally{ee.abort(),Y=!0,te&&(te(),te=null)}}).call(this)}function $(ue=void 0){return ue!=null&&c(ue,"options"),(ue==null?void 0:ue.signal)!=null&&i(ue.signal,"options.signal"),(async function*(){let x=0;for await(let z of this){var E;if(ue!=null&&(E=ue.signal)!==null&&E!==void 0&&E.aborted)throw new o({cause:ue.signal.reason});yield[x++,z]}}).call(this)}async function G(ue,x=void 0){for await(let E of q.call(this,ue,x))return!0;return!1}async function X(ue,x=void 0){if(typeof ue!="function")throw new h("fn",["Function","AsyncFunction"],ue);return!await G.call(this,async(...E)=>!await ue(...E),x)}async function ge(ue,x){for await(let E of q.call(this,ue,x))return E}async function Z(ue,x){if(typeof ue!="function")throw new h("fn",["Function","AsyncFunction"],ue);async function E(z,le){return await ue(z,le),W}for await(let z of I.call(this,E,x));}function q(ue,x){if(typeof ue!="function")throw new h("fn",["Function","AsyncFunction"],ue);async function E(z,le){return await ue(z,le)?z:W}return I.call(this,E,x)}var be=class extends s{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function ie(ue,x,E){var z;if(typeof ue!="function")throw new h("reducer",["Function","AsyncFunction"],ue);E!=null&&c(E,"options"),(E==null?void 0:E.signal)!=null&&i(E.signal,"options.signal");let le=arguments.length>1;if(E!=null&&(z=E.signal)!==null&&z!==void 0&&z.aborted){let O=new o(void 0,{cause:E.signal.reason});throw this.once("error",()=>{}),await g(this.destroy(O)),O}let ee=new t,J=ee.signal;if(E!=null&&E.signal){let O={once:!0,[p]:this};E.signal.addEventListener("abort",()=>ee.abort(),O)}let he=!1;try{for await(let O of this){var de;if(he=!0,E!=null&&(de=E.signal)!==null&&de!==void 0&&de.aborted)throw new o;le?x=await ue(x,O,{signal:J}):(x=O,le=!0)}if(!he&&!le)throw new be}finally{ee.abort()}return x}async function ve(ue){ue!=null&&c(ue,"options"),(ue==null?void 0:ue.signal)!=null&&i(ue.signal,"options.signal");let x=[];for await(let z of this){var E;if(ue!=null&&(E=ue.signal)!==null&&E!==void 0&&E.aborted)throw new o(void 0,{cause:ue.signal.reason});L(x,z)}return x}function S(ue,x){let E=I.call(this,ue,x);return(async function*(){for await(let z of E)yield*z}).call(this)}function K(ue){if(ue=k(ue),U(ue))return 0;if(ue<0)throw new r("number",">= 0",ue);return ue}function ce(ue,x=void 0){return x!=null&&c(x,"options"),(x==null?void 0:x.signal)!=null&&i(x.signal,"options.signal"),ue=K(ue),(async function*(){var E;if(x!=null&&(E=x.signal)!==null&&E!==void 0&&E.aborted)throw new o;for await(let le of this){var z;if(x!=null&&(z=x.signal)!==null&&z!==void 0&&z.aborted)throw new o;ue--<=0&&(yield le)}}).call(this)}function Ee(ue,x=void 0){return x!=null&&c(x,"options"),(x==null?void 0:x.signal)!=null&&i(x.signal,"options.signal"),ue=K(ue),(async function*(){var E;if(x!=null&&(E=x.signal)!==null&&E!==void 0&&E.aborted)throw new o;for await(let le of this){var z;if(x!=null&&(z=x.signal)!==null&&z!==void 0&&z.aborted)throw new o;if(ue-- >0)yield le;else return}}).call(this)}n.exports.streamReturningOperators={asIndexedPairs:$,drop:ce,filter:q,flatMap:S,map:I,take:Ee,compose:ae},n.exports.promiseReturningOperators={every:X,forEach:Z,reduce:ie,toArray:ve,some:G,find:ge}}),ms=ye((e,n)=>{se(),oe(),ne();var{ArrayPrototypePop:t,Promise:l}=Ke(),{isIterable:h,isNodeStream:s,isWebStream:r}=Rt(),{pipelineImpl:o}=Nn(),{finished:i}=jt();ys();function a(...c){return new l((p,g)=>{let b,m,y=c[c.length-1];if(y&&typeof y=="object"&&!s(y)&&!h(y)&&!r(y)){let T=t(c);b=T.signal,m=T.end}o(c,(T,L)=>{T?g(T):p(L)},{signal:b,end:m})})}n.exports={finished:i,pipeline:a}}),ys=ye((e,n)=>{se(),oe(),ne();var{Buffer:t}=(et(),Me(Ze)),{ObjectDefineProperty:l,ObjectKeys:h,ReflectApply:s}=Ke(),{promisify:{custom:r}}=kt(),{streamReturningOperators:o,promiseReturningOperators:i}=dl(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:a}}=ot(),c=bs(),{pipeline:p}=Nn(),{destroyer:g}=ar(),b=jt(),m=ms(),y=Rt(),T=n.exports=xn().Stream;T.isDisturbed=y.isDisturbed,T.isErrored=y.isErrored,T.isReadable=y.isReadable,T.Readable=qr();for(let C of h(o)){let k=function(...v){if(new.target)throw a();return T.Readable.from(s(U,this,v))},U=o[C];l(k,"name",{__proto__:null,value:U.name}),l(k,"length",{__proto__:null,value:U.length}),l(T.Readable.prototype,C,{__proto__:null,value:k,enumerable:!1,configurable:!0,writable:!0})}for(let C of h(i)){let k=function(...v){if(new.target)throw a();return s(U,this,v)},U=i[C];l(k,"name",{__proto__:null,value:U.name}),l(k,"length",{__proto__:null,value:U.length}),l(T.Readable.prototype,C,{__proto__:null,value:k,enumerable:!1,configurable:!0,writable:!0})}T.Writable=ds(),T.Duplex=Ot(),T.Transform=ps(),T.PassThrough=gs(),T.pipeline=p;var{addAbortSignal:L}=Wr();T.addAbortSignal=L,T.finished=b,T.destroy=g,T.compose=c,l(T,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return m}}),l(p,r,{__proto__:null,enumerable:!0,get(){return m.pipeline}}),l(b,r,{__proto__:null,enumerable:!0,get(){return m.finished}}),T.Stream=T,T._isUint8Array=function(C){return C instanceof Uint8Array},T._uint8ArrayToBuffer=function(C){return t.from(C.buffer,C.byteOffset,C.byteLength)}}),rr=ye((e,n)=>{se(),oe(),ne();var t=ys(),l=ms(),h=t.Readable.destroy;n.exports=t.Readable,n.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,n.exports._isUint8Array=t._isUint8Array,n.exports.isDisturbed=t.isDisturbed,n.exports.isErrored=t.isErrored,n.exports.isReadable=t.isReadable,n.exports.Readable=t.Readable,n.exports.Writable=t.Writable,n.exports.Duplex=t.Duplex,n.exports.Transform=t.Transform,n.exports.PassThrough=t.PassThrough,n.exports.addAbortSignal=t.addAbortSignal,n.exports.finished=t.finished,n.exports.destroy=t.destroy,n.exports.destroy=h,n.exports.pipeline=t.pipeline,n.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return l}}),n.exports.Stream=t.Stream,n.exports.default=n.exports}),pl=ye((e,n)=>{se(),oe(),ne(),typeof Object.create=="function"?n.exports=function(t,l){l&&(t.super_=l,t.prototype=Object.create(l.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:n.exports=function(t,l){if(l){t.super_=l;var h=function(){};h.prototype=l.prototype,t.prototype=new h,t.prototype.constructor=t}}}),gl=ye((e,n)=>{se(),oe(),ne();var{Buffer:t}=(et(),Me(Ze)),l=Symbol.for("BufferList");function h(s){if(!(this instanceof h))return new h(s);h._init.call(this,s)}h._init=function(s){Object.defineProperty(this,l,{value:!0}),this._bufs=[],this.length=0,s&&this.append(s)},h.prototype._new=function(s){return new h(s)},h.prototype._offset=function(s){if(s===0)return[0,0];let r=0;for(let o=0;o<this._bufs.length;o++){let i=r+this._bufs[o].length;if(s<i||o===this._bufs.length-1)return[o,s-r];r=i}},h.prototype._reverseOffset=function(s){let r=s[0],o=s[1];for(let i=0;i<r;i++)o+=this._bufs[i].length;return o},h.prototype.get=function(s){if(s>this.length||s<0)return;let r=this._offset(s);return this._bufs[r[0]][r[1]]},h.prototype.slice=function(s,r){return typeof s=="number"&&s<0&&(s+=this.length),typeof r=="number"&&r<0&&(r+=this.length),this.copy(null,0,s,r)},h.prototype.copy=function(s,r,o,i){if((typeof o!="number"||o<0)&&(o=0),(typeof i!="number"||i>this.length)&&(i=this.length),o>=this.length||i<=0)return s||t.alloc(0);let a=!!s,c=this._offset(o),p=i-o,g=p,b=a&&r||0,m=c[1];if(o===0&&i===this.length){if(!a)return this._bufs.length===1?this._bufs[0]:t.concat(this._bufs,this.length);for(let y=0;y<this._bufs.length;y++)this._bufs[y].copy(s,b),b+=this._bufs[y].length;return s}if(g<=this._bufs[c[0]].length-m)return a?this._bufs[c[0]].copy(s,r,m,m+g):this._bufs[c[0]].slice(m,m+g);a||(s=t.allocUnsafe(p));for(let y=c[0];y<this._bufs.length;y++){let T=this._bufs[y].length-m;if(g>T)this._bufs[y].copy(s,b,m),b+=T;else{this._bufs[y].copy(s,b,m,m+g),b+=T;break}g-=T,m&&(m=0)}return s.length>b?s.slice(0,b):s},h.prototype.shallowSlice=function(s,r){if(s=s||0,r=typeof r!="number"?this.length:r,s<0&&(s+=this.length),r<0&&(r+=this.length),s===r)return this._new();let o=this._offset(s),i=this._offset(r),a=this._bufs.slice(o[0],i[0]+1);return i[1]===0?a.pop():a[a.length-1]=a[a.length-1].slice(0,i[1]),o[1]!==0&&(a[0]=a[0].slice(o[1])),this._new(a)},h.prototype.toString=function(s,r,o){return this.slice(r,o).toString(s)},h.prototype.consume=function(s){if(s=Math.trunc(s),Number.isNaN(s)||s<=0)return this;for(;this._bufs.length;)if(s>=this._bufs[0].length)s-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(s),this.length-=s;break}return this},h.prototype.duplicate=function(){let s=this._new();for(let r=0;r<this._bufs.length;r++)s.append(this._bufs[r]);return s},h.prototype.append=function(s){if(s==null)return this;if(s.buffer)this._appendBuffer(t.from(s.buffer,s.byteOffset,s.byteLength));else if(Array.isArray(s))for(let r=0;r<s.length;r++)this.append(s[r]);else if(this._isBufferList(s))for(let r=0;r<s._bufs.length;r++)this.append(s._bufs[r]);else typeof s=="number"&&(s=s.toString()),this._appendBuffer(t.from(s));return this},h.prototype._appendBuffer=function(s){this._bufs.push(s),this.length+=s.length},h.prototype.indexOf=function(s,r,o){if(o===void 0&&typeof r=="string"&&(o=r,r=void 0),typeof s=="function"||Array.isArray(s))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof s=="number"?s=t.from([s]):typeof s=="string"?s=t.from(s,o):this._isBufferList(s)?s=s.slice():Array.isArray(s.buffer)?s=t.from(s.buffer,s.byteOffset,s.byteLength):t.isBuffer(s)||(s=t.from(s)),r=Number(r||0),isNaN(r)&&(r=0),r<0&&(r=this.length+r),r<0&&(r=0),s.length===0)return r>this.length?this.length:r;let i=this._offset(r),a=i[0],c=i[1];for(;a<this._bufs.length;a++){let p=this._bufs[a];for(;c<p.length;)if(p.length-c>=s.length){let g=p.indexOf(s,c);if(g!==-1)return this._reverseOffset([a,g]);c=p.length-s.length+1}else{let g=this._reverseOffset([a,c]);if(this._match(g,s))return g;c++}c=0}return-1},h.prototype._match=function(s,r){if(this.length-s<r.length)return!1;for(let o=0;o<r.length;o++)if(this.get(s+o)!==r[o])return!1;return!0},function(){let s={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readBigInt64BE:8,readBigInt64LE:8,readBigUInt64BE:8,readBigUInt64LE:8,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let r in s)(function(o){s[o]===null?h.prototype[o]=function(i,a){return this.slice(i,i+a)[o](0,a)}:h.prototype[o]=function(i=0){return this.slice(i,i+s[o])[o](0)}})(r)}(),h.prototype._isBufferList=function(s){return s instanceof h||h.isBufferList(s)},h.isBufferList=function(s){return s!=null&&s[l]},n.exports=h}),bl=ye((e,n)=>{se(),oe(),ne();var t=rr().Duplex,l=pl(),h=gl();function s(r){if(!(this instanceof s))return new s(r);if(typeof r=="function"){this._callback=r;let o=(function(i){this._callback&&(this._callback(i),this._callback=null)}).bind(this);this.on("pipe",function(i){i.on("error",o)}),this.on("unpipe",function(i){i.removeListener("error",o)}),r=null}h._init.call(this,r),t.call(this)}l(s,t),Object.assign(s.prototype,h.prototype),s.prototype._new=function(r){return new s(r)},s.prototype._write=function(r,o,i){this._appendBuffer(r),typeof i=="function"&&i()},s.prototype._read=function(r){if(!this.length)return this.push(null);r=Math.min(r,this.length),this.push(this.slice(0,r)),this.consume(r)},s.prototype.end=function(r){t.prototype.end.call(this,r),this._callback&&(this._callback(null,this.slice()),this._callback=null)},s.prototype._destroy=function(r,o){this._bufs.length=0,this.length=0,o(r)},s.prototype._isBufferList=function(r){return r instanceof s||r instanceof h||s.isBufferList(r)},s.isBufferList=h.isBufferList,n.exports=s,n.exports.BufferListStream=s,n.exports.BufferList=h}),ml=ye((e,n)=>{se(),oe(),ne();var t=class{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}};n.exports=t}),ws=ye((e,n)=>{se(),oe(),ne();var t=n.exports,{Buffer:l}=(et(),Me(Ze));t.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},t.requiredHeaderFlags={1:0,2:0,4:0,5:0,6:2,7:0,8:2,9:0,10:2,11:0,12:0,13:0,14:0,15:0},t.requiredHeaderFlagsErrors={};for(let s in t.requiredHeaderFlags){let r=t.requiredHeaderFlags[s];t.requiredHeaderFlagsErrors[s]="Invalid header flag bits, must be 0x"+r.toString(16)+" for "+t.types[s]+" packet"}t.codes={};for(let s in t.types){let r=t.types[s];t.codes[r]=s}t.CMD_SHIFT=4,t.CMD_MASK=240,t.DUP_MASK=8,t.QOS_MASK=3,t.QOS_SHIFT=1,t.RETAIN_MASK=1,t.VARBYTEINT_MASK=127,t.VARBYTEINT_FIN_MASK=128,t.VARBYTEINT_MAX=268435455,t.SESSIONPRESENT_MASK=1,t.SESSIONPRESENT_HEADER=l.from([t.SESSIONPRESENT_MASK]),t.CONNACK_HEADER=l.from([t.codes.connack<<t.CMD_SHIFT]),t.USERNAME_MASK=128,t.PASSWORD_MASK=64,t.WILL_RETAIN_MASK=32,t.WILL_QOS_MASK=24,t.WILL_QOS_SHIFT=3,t.WILL_FLAG_MASK=4,t.CLEAN_SESSION_MASK=2,t.CONNECT_HEADER=l.from([t.codes.connect<<t.CMD_SHIFT]),t.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},t.propertiesCodes={};for(let s in t.properties){let r=t.properties[s];t.propertiesCodes[r]=s}t.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"};function h(s){return[0,1,2].map(r=>[0,1].map(o=>[0,1].map(i=>{let a=l.alloc(1);return a.writeUInt8(t.codes[s]<<t.CMD_SHIFT|(o?t.DUP_MASK:0)|r<<t.QOS_SHIFT|i,0,!0),a})))}t.PUBLISH_HEADER=h("publish"),t.SUBSCRIBE_HEADER=h("subscribe"),t.SUBSCRIBE_OPTIONS_QOS_MASK=3,t.SUBSCRIBE_OPTIONS_NL_MASK=1,t.SUBSCRIBE_OPTIONS_NL_SHIFT=2,t.SUBSCRIBE_OPTIONS_RAP_MASK=1,t.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,t.SUBSCRIBE_OPTIONS_RH_MASK=3,t.SUBSCRIBE_OPTIONS_RH_SHIFT=4,t.SUBSCRIBE_OPTIONS_RH=[0,16,32],t.SUBSCRIBE_OPTIONS_NL=4,t.SUBSCRIBE_OPTIONS_RAP=8,t.SUBSCRIBE_OPTIONS_QOS=[0,1,2],t.UNSUBSCRIBE_HEADER=h("unsubscribe"),t.ACKS={unsuback:h("unsuback"),puback:h("puback"),pubcomp:h("pubcomp"),pubrel:h("pubrel"),pubrec:h("pubrec")},t.SUBACK_HEADER=l.from([t.codes.suback<<t.CMD_SHIFT]),t.VERSION3=l.from([3]),t.VERSION4=l.from([4]),t.VERSION5=l.from([5]),t.VERSION131=l.from([131]),t.VERSION132=l.from([132]),t.QOS=[0,1,2].map(s=>l.from([s])),t.EMPTY={pingreq:l.from([t.codes.pingreq<<4,0]),pingresp:l.from([t.codes.pingresp<<4,0]),disconnect:l.from([t.codes.disconnect<<4,0])},t.MQTT5_PUBACK_PUBREC_CODES={0:"Success",16:"No matching subscribers",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",144:"Topic Name invalid",145:"Packet identifier in use",151:"Quota exceeded",153:"Payload format invalid"},t.MQTT5_PUBREL_PUBCOMP_CODES={0:"Success",146:"Packet Identifier not found"},t.MQTT5_SUBACK_CODES={0:"Granted QoS 0",1:"Granted QoS 1",2:"Granted QoS 2",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use",151:"Quota exceeded",158:"Shared Subscriptions not supported",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},t.MQTT5_UNSUBACK_CODES={0:"Success",17:"No subscription existed",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use"},t.MQTT5_DISCONNECT_CODES={0:"Normal disconnection",4:"Disconnect with Will Message",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",135:"Not authorized",137:"Server busy",139:"Server shutting down",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},t.MQTT5_AUTH_CODES={0:"Success",24:"Continue authentication",25:"Re-authenticate"}}),yl=ye((e,n)=>{se(),oe(),ne();var t=1e3,l=t*60,h=l*60,s=h*24,r=s*7,o=s*365.25;n.exports=function(g,b){b=b||{};var m=typeof g;if(m==="string"&&g.length>0)return i(g);if(m==="number"&&isFinite(g))return b.long?c(g):a(g);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(g))};function i(g){if(g=String(g),!(g.length>100)){var b=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(g);if(b){var m=parseFloat(b[1]),y=(b[2]||"ms").toLowerCase();switch(y){case"years":case"year":case"yrs":case"yr":case"y":return m*o;case"weeks":case"week":case"w":return m*r;case"days":case"day":case"d":return m*s;case"hours":case"hour":case"hrs":case"hr":case"h":return m*h;case"minutes":case"minute":case"mins":case"min":case"m":return m*l;case"seconds":case"second":case"secs":case"sec":case"s":return m*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return m;default:return}}}}function a(g){var b=Math.abs(g);return b>=s?Math.round(g/s)+"d":b>=h?Math.round(g/h)+"h":b>=l?Math.round(g/l)+"m":b>=t?Math.round(g/t)+"s":g+"ms"}function c(g){var b=Math.abs(g);return b>=s?p(g,b,s,"day"):b>=h?p(g,b,h,"hour"):b>=l?p(g,b,l,"minute"):b>=t?p(g,b,t,"second"):g+" ms"}function p(g,b,m,y){var T=b>=m*1.5;return Math.round(g/m)+" "+y+(T?"s":"")}}),wl=ye((e,n)=>{se(),oe(),ne();function t(l){s.debug=s,s.default=s,s.coerce=p,s.disable=i,s.enable=o,s.enabled=a,s.humanize=yl(),s.destroy=g,Object.keys(l).forEach(b=>{s[b]=l[b]}),s.names=[],s.skips=[],s.formatters={};function h(b){let m=0;for(let y=0;y<b.length;y++)m=(m<<5)-m+b.charCodeAt(y),m|=0;return s.colors[Math.abs(m)%s.colors.length]}s.selectColor=h;function s(b){let m,y=null,T,L;function C(...k){if(!C.enabled)return;let U=C,v=Number(new Date),P=v-(m||v);U.diff=P,U.prev=m,U.curr=v,m=v,k[0]=s.coerce(k[0]),typeof k[0]!="string"&&k.unshift("%O");let M=0;k[0]=k[0].replace(/%([a-zA-Z%])/g,(F,W)=>{if(F==="%%")return"%";M++;let Q=s.formatters[W];if(typeof Q=="function"){let ae=k[M];F=Q.call(U,ae),k.splice(M,1),M--}return F}),s.formatArgs.call(U,k),(U.log||s.log).apply(U,k)}return C.namespace=b,C.useColors=s.useColors(),C.color=s.selectColor(b),C.extend=r,C.destroy=s.destroy,Object.defineProperty(C,"enabled",{enumerable:!0,configurable:!1,get:()=>y!==null?y:(T!==s.namespaces&&(T=s.namespaces,L=s.enabled(b)),L),set:k=>{y=k}}),typeof s.init=="function"&&s.init(C),C}function r(b,m){let y=s(this.namespace+(typeof m>"u"?":":m)+b);return y.log=this.log,y}function o(b){s.save(b),s.namespaces=b,s.names=[],s.skips=[];let m,y=(typeof b=="string"?b:"").split(/[\s,]+/),T=y.length;for(m=0;m<T;m++)y[m]&&(b=y[m].replace(/\*/g,".*?"),b[0]==="-"?s.skips.push(new RegExp("^"+b.slice(1)+"$")):s.names.push(new RegExp("^"+b+"$")))}function i(){let b=[...s.names.map(c),...s.skips.map(c).map(m=>"-"+m)].join(",");return s.enable(""),b}function a(b){if(b[b.length-1]==="*")return!0;let m,y;for(m=0,y=s.skips.length;m<y;m++)if(s.skips[m].test(b))return!1;for(m=0,y=s.names.length;m<y;m++)if(s.names[m].test(b))return!0;return!1}function c(b){return b.toString().substring(2,b.toString().length-2).replace(/\.\*\?$/,"*")}function p(b){return b instanceof Error?b.stack||b.message:b}function g(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return s.enable(s.load()),s}n.exports=t}),Ct=ye((e,n)=>{se(),oe(),ne(),e.formatArgs=l,e.save=h,e.load=s,e.useColors=t,e.storage=r(),e.destroy=(()=>{let i=!1;return()=>{i||(i=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function t(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof at<"u"&&at.userAgent&&at.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof at<"u"&&at.userAgent&&at.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof at<"u"&&at.userAgent&&at.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function l(i){if(i[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+i[0]+(this.useColors?"%c ":" ")+"+"+n.exports.humanize(this.diff),!this.useColors)return;let a="color: "+this.color;i.splice(1,0,a,"color: inherit");let c=0,p=0;i[0].replace(/%[a-zA-Z%]/g,g=>{g!=="%%"&&(c++,g==="%c"&&(p=c))}),i.splice(p,0,a)}e.log=console.debug||console.log||(()=>{});function h(i){try{i?e.storage.setItem("debug",i):e.storage.removeItem("debug")}catch{}}function s(){let i;try{i=e.storage.getItem("debug")}catch{}return!i&&typeof ze<"u"&&"env"in ze&&(i=ze.env.DEBUG),i}function r(){try{return localStorage}catch{}}n.exports=wl()(e);var{formatters:o}=n.exports;o.j=function(i){try{return JSON.stringify(i)}catch(a){return"[UnexpectedJSONParseError]: "+a.message}}}),vl=ye((e,n)=>{se(),oe(),ne();var t=bl(),{EventEmitter:l}=(lr(),Me(tr)),h=ml(),s=ws(),r=Ct()("mqtt-packet:parser"),o=class mn extends l{constructor(){super(),this.parser=this.constructor.parser}static parser(a){return this instanceof mn?(this.settings=a||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):new mn().parser(a)}_resetState(){r("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new h,this.error=null,this._list=t(),this._stateCounter=0}parse(a){for(this.error&&this._resetState(),this._list.append(a),r("parse: current state: %s",this._states[this._stateCounter]);(this.packet.length!==-1||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,r("parse: state complete. _stateCounter is now: %d",this._stateCounter),r("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return r("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}_parseHeader(){let a=this._list.readUInt8(0),c=a>>s.CMD_SHIFT;this.packet.cmd=s.types[c];let p=a&15,g=s.requiredHeaderFlags[c];return g!=null&&p!==g?this._emitError(new Error(s.requiredHeaderFlagsErrors[c])):(this.packet.retain=(a&s.RETAIN_MASK)!==0,this.packet.qos=a>>s.QOS_SHIFT&s.QOS_MASK,this.packet.qos>2?this._emitError(new Error("Packet must not have both QoS bits set to 1")):(this.packet.dup=(a&s.DUP_MASK)!==0,r("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0))}_parseLength(){let a=this._parseVarByteNum(!0);return a&&(this.packet.length=a.value,this._list.consume(a.bytes)),r("_parseLength %d",a.value),!!a}_parsePayload(){r("_parsePayload: payload %O",this._list);let a=!1;if(this.packet.length===0||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}a=!0}return r("_parsePayload complete result: %s",a),a}_parseConnect(){r("_parseConnect");let a,c,p,g,b={},m=this.packet,y=this._parseString();if(y===null)return this._emitError(new Error("Cannot parse protocolId"));if(y!=="MQTT"&&y!=="MQIsdp")return this._emitError(new Error("Invalid protocolId"));if(m.protocolId=y,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(m.protocolVersion=this._list.readUInt8(this._pos),m.protocolVersion>=128&&(m.bridgeMode=!0,m.protocolVersion=m.protocolVersion-128),m.protocolVersion!==3&&m.protocolVersion!==4&&m.protocolVersion!==5)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(this._list.readUInt8(this._pos)&1)return this._emitError(new Error("Connect flag bit 0 must be 0, but got 1"));b.username=this._list.readUInt8(this._pos)&s.USERNAME_MASK,b.password=this._list.readUInt8(this._pos)&s.PASSWORD_MASK,b.will=this._list.readUInt8(this._pos)&s.WILL_FLAG_MASK;let T=!!(this._list.readUInt8(this._pos)&s.WILL_RETAIN_MASK),L=(this._list.readUInt8(this._pos)&s.WILL_QOS_MASK)>>s.WILL_QOS_SHIFT;if(b.will)m.will={},m.will.retain=T,m.will.qos=L;else{if(T)return this._emitError(new Error("Will Retain Flag must be set to zero when Will Flag is set to 0"));if(L)return this._emitError(new Error("Will QoS must be set to zero when Will Flag is set to 0"))}if(m.clean=(this._list.readUInt8(this._pos)&s.CLEAN_SESSION_MASK)!==0,this._pos++,m.keepalive=this._parseNum(),m.keepalive===-1)return this._emitError(new Error("Packet too short"));if(m.protocolVersion===5){let k=this._parseProperties();Object.getOwnPropertyNames(k).length&&(m.properties=k)}let C=this._parseString();if(C===null)return this._emitError(new Error("Packet too short"));if(m.clientId=C,r("_parseConnect: packet.clientId: %s",m.clientId),b.will){if(m.protocolVersion===5){let k=this._parseProperties();Object.getOwnPropertyNames(k).length&&(m.will.properties=k)}if(a=this._parseString(),a===null)return this._emitError(new Error("Cannot parse will topic"));if(m.will.topic=a,r("_parseConnect: packet.will.topic: %s",m.will.topic),c=this._parseBuffer(),c===null)return this._emitError(new Error("Cannot parse will payload"));m.will.payload=c,r("_parseConnect: packet.will.paylaod: %s",m.will.payload)}if(b.username){if(g=this._parseString(),g===null)return this._emitError(new Error("Cannot parse username"));m.username=g,r("_parseConnect: packet.username: %s",m.username)}if(b.password){if(p=this._parseBuffer(),p===null)return this._emitError(new Error("Cannot parse password"));m.password=p}return this.settings=m,r("_parseConnect: complete"),m}_parseConnack(){r("_parseConnack");let a=this.packet;if(this._list.length<1)return null;let c=this._list.readUInt8(this._pos++);if(c>1)return this._emitError(new Error("Invalid connack flags, bits 7-1 must be set to 0"));if(a.sessionPresent=!!(c&s.SESSIONPRESENT_MASK),this.settings.protocolVersion===5)this._list.length>=2?a.reasonCode=this._list.readUInt8(this._pos++):a.reasonCode=0;else{if(this._list.length<2)return null;a.returnCode=this._list.readUInt8(this._pos++)}if(a.returnCode===-1||a.reasonCode===-1)return this._emitError(new Error("Cannot parse return code"));if(this.settings.protocolVersion===5){let p=this._parseProperties();Object.getOwnPropertyNames(p).length&&(a.properties=p)}r("_parseConnack: complete")}_parsePublish(){r("_parsePublish");let a=this.packet;if(a.topic=this._parseString(),a.topic===null)return this._emitError(new Error("Cannot parse topic"));if(!(a.qos>0&&!this._parseMessageId())){if(this.settings.protocolVersion===5){let c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(a.properties=c)}a.payload=this._list.slice(this._pos,a.length),r("_parsePublish: payload from buffer list: %o",a.payload)}}_parseSubscribe(){r("_parseSubscribe");let a=this.packet,c,p,g,b,m,y,T;if(a.subscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let L=this._parseProperties();Object.getOwnPropertyNames(L).length&&(a.properties=L)}if(a.length<=0)return this._emitError(new Error("Malformed subscribe, no payload specified"));for(;this._pos<a.length;){if(c=this._parseString(),c===null)return this._emitError(new Error("Cannot parse topic"));if(this._pos>=a.length)return this._emitError(new Error("Malformed Subscribe Payload"));if(p=this._parseByte(),this.settings.protocolVersion===5){if(p&192)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-6 must be 0"))}else if(p&252)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-2 must be 0"));if(g=p&s.SUBSCRIBE_OPTIONS_QOS_MASK,g>2)return this._emitError(new Error("Invalid subscribe QoS, must be <= 2"));if(y=(p>>s.SUBSCRIBE_OPTIONS_NL_SHIFT&s.SUBSCRIBE_OPTIONS_NL_MASK)!==0,m=(p>>s.SUBSCRIBE_OPTIONS_RAP_SHIFT&s.SUBSCRIBE_OPTIONS_RAP_MASK)!==0,b=p>>s.SUBSCRIBE_OPTIONS_RH_SHIFT&s.SUBSCRIBE_OPTIONS_RH_MASK,b>2)return this._emitError(new Error("Invalid retain handling, must be <= 2"));T={topic:c,qos:g},this.settings.protocolVersion===5?(T.nl=y,T.rap=m,T.rh=b):this.settings.bridgeMode&&(T.rh=0,T.rap=!0,T.nl=!0),r("_parseSubscribe: push subscription `%s` to subscription",T),a.subscriptions.push(T)}}}_parseSuback(){r("_parseSuback");let a=this.packet;if(this.packet.granted=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(a.properties=c)}if(a.length<=0)return this._emitError(new Error("Malformed suback, no payload specified"));for(;this._pos<this.packet.length;){let c=this._list.readUInt8(this._pos++);if(this.settings.protocolVersion===5){if(!s.MQTT5_SUBACK_CODES[c])return this._emitError(new Error("Invalid suback code"))}else if(c>2&&c!==128)return this._emitError(new Error("Invalid suback QoS, must be 0, 1, 2 or 128"));this.packet.granted.push(c)}}}_parseUnsubscribe(){r("_parseUnsubscribe");let a=this.packet;if(a.unsubscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(a.properties=c)}if(a.length<=0)return this._emitError(new Error("Malformed unsubscribe, no payload specified"));for(;this._pos<a.length;){let c=this._parseString();if(c===null)return this._emitError(new Error("Cannot parse topic"));r("_parseUnsubscribe: push topic `%s` to unsubscriptions",c),a.unsubscriptions.push(c)}}}_parseUnsuback(){r("_parseUnsuback");let a=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if((this.settings.protocolVersion===3||this.settings.protocolVersion===4)&&a.length!==2)return this._emitError(new Error("Malformed unsuback, payload length must be 2"));if(a.length<=0)return this._emitError(new Error("Malformed unsuback, no payload specified"));if(this.settings.protocolVersion===5){let c=this._parseProperties();for(Object.getOwnPropertyNames(c).length&&(a.properties=c),a.granted=[];this._pos<this.packet.length;){let p=this._list.readUInt8(this._pos++);if(!s.MQTT5_UNSUBACK_CODES[p])return this._emitError(new Error("Invalid unsuback code"));this.packet.granted.push(p)}}}_parseConfirmation(){r("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);let a=this.packet;if(this._parseMessageId(),this.settings.protocolVersion===5){if(a.length>2){switch(a.reasonCode=this._parseByte(),this.packet.cmd){case"puback":case"pubrec":if(!s.MQTT5_PUBACK_PUBREC_CODES[a.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break;case"pubrel":case"pubcomp":if(!s.MQTT5_PUBREL_PUBCOMP_CODES[a.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break}r("_parseConfirmation: packet.reasonCode `%d`",a.reasonCode)}else a.reasonCode=0;if(a.length>3){let c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(a.properties=c)}}return!0}_parseDisconnect(){let a=this.packet;if(r("_parseDisconnect"),this.settings.protocolVersion===5){this._list.length>0?(a.reasonCode=this._parseByte(),s.MQTT5_DISCONNECT_CODES[a.reasonCode]||this._emitError(new Error("Invalid disconnect reason code"))):a.reasonCode=0;let c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(a.properties=c)}return r("_parseDisconnect result: true"),!0}_parseAuth(){r("_parseAuth");let a=this.packet;if(this.settings.protocolVersion!==5)return this._emitError(new Error("Not supported auth packet for this version MQTT"));if(a.reasonCode=this._parseByte(),!s.MQTT5_AUTH_CODES[a.reasonCode])return this._emitError(new Error("Invalid auth reason code"));let c=this._parseProperties();return Object.getOwnPropertyNames(c).length&&(a.properties=c),r("_parseAuth: result: true"),!0}_parseMessageId(){let a=this.packet;return a.messageId=this._parseNum(),a.messageId===null?(this._emitError(new Error("Cannot parse messageId")),!1):(r("_parseMessageId: packet.messageId %d",a.messageId),!0)}_parseString(a){let c=this._parseNum(),p=c+this._pos;if(c===-1||p>this._list.length||p>this.packet.length)return null;let g=this._list.toString("utf8",this._pos,p);return this._pos+=c,r("_parseString: result: %s",g),g}_parseStringPair(){return r("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){let a=this._parseNum(),c=a+this._pos;if(a===-1||c>this._list.length||c>this.packet.length)return null;let p=this._list.slice(this._pos,c);return this._pos+=a,r("_parseBuffer: result: %o",p),p}_parseNum(){if(this._list.length-this._pos<2)return-1;let a=this._list.readUInt16BE(this._pos);return this._pos+=2,r("_parseNum: result: %s",a),a}_parse4ByteNum(){if(this._list.length-this._pos<4)return-1;let a=this._list.readUInt32BE(this._pos);return this._pos+=4,r("_parse4ByteNum: result: %s",a),a}_parseVarByteNum(a){r("_parseVarByteNum");let c=4,p=0,g=1,b=0,m=!1,y,T=this._pos?this._pos:0;for(;p<c&&T+p<this._list.length;){if(y=this._list.readUInt8(T+p++),b+=g*(y&s.VARBYTEINT_MASK),g*=128,!(y&s.VARBYTEINT_FIN_MASK)){m=!0;break}if(this._list.length<=p)break}return!m&&p===c&&this._list.length>=p&&this._emitError(new Error("Invalid variable byte integer")),T&&(this._pos+=p),m?a?m={bytes:p,value:b}:m=b:m=!1,r("_parseVarByteNum: result: %o",m),m}_parseByte(){let a;return this._pos<this._list.length&&(a=this._list.readUInt8(this._pos),this._pos++),r("_parseByte: result: %o",a),a}_parseByType(a){switch(r("_parseByType: type: %s",a),a){case"byte":return this._parseByte()!==0;case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}_parseProperties(){r("_parseProperties");let a=this._parseVarByteNum(),c=this._pos+a,p={};for(;this._pos<c;){let g=this._parseByte();if(!g)return this._emitError(new Error("Cannot parse property code type")),!1;let b=s.propertiesCodes[g];if(!b)return this._emitError(new Error("Unknown property")),!1;if(b==="userProperties"){p[b]||(p[b]=Object.create(null));let m=this._parseByType(s.propertiesTypes[b]);if(p[b][m.name])if(Array.isArray(p[b][m.name]))p[b][m.name].push(m.value);else{let y=p[b][m.name];p[b][m.name]=[y],p[b][m.name].push(m.value)}else p[b][m.name]=m.value;continue}p[b]?Array.isArray(p[b])?p[b].push(this._parseByType(s.propertiesTypes[b])):(p[b]=[p[b]],p[b].push(this._parseByType(s.propertiesTypes[b]))):p[b]=this._parseByType(s.propertiesTypes[b])}return p}_newPacket(){return r("_newPacket"),this.packet&&(this._list.consume(this.packet.length),r("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),r("_newPacket: new packet"),this.packet=new h,this._pos=0,!0}_emitError(a){r("_emitError",a),this.error=a,this.emit("error",a)}};n.exports=o}),_l=ye((e,n)=>{se(),oe(),ne();var{Buffer:t}=(et(),Me(Ze)),l=65536,h={},s=t.isBuffer(t.from([1,2]).subarray(0,1));function r(c){let p=t.allocUnsafe(2);return p.writeUInt8(c>>8,0),p.writeUInt8(c&255,1),p}function o(){for(let c=0;c<l;c++)h[c]=r(c)}function i(c){let p=0,g=0,b=t.allocUnsafe(4);do p=c%128|0,c=c/128|0,c>0&&(p=p|128),b.writeUInt8(p,g++);while(c>0&&g<4);return c>0&&(g=0),s?b.subarray(0,g):b.slice(0,g)}function a(c){let p=t.allocUnsafe(4);return p.writeUInt32BE(c,0),p}n.exports={cache:h,generateCache:o,generateNumber:r,genBufVariableByteInt:i,generate4ByteBuffer:a}}),El=ye((e,n)=>{se(),oe(),ne(),typeof ze>"u"||!ze.version||ze.version.indexOf("v0.")===0||ze.version.indexOf("v1.")===0&&ze.version.indexOf("v1.8.")!==0?n.exports={nextTick:t}:n.exports=ze;function t(l,h,s,r){if(typeof l!="function")throw new TypeError('"callback" argument must be a function');var o=arguments.length,i,a;switch(o){case 0:case 1:return ze.nextTick(l);case 2:return ze.nextTick(function(){l.call(null,h)});case 3:return ze.nextTick(function(){l.call(null,h,s)});case 4:return ze.nextTick(function(){l.call(null,h,s,r)});default:for(i=new Array(o-1),a=0;a<i.length;)i[a++]=arguments[a];return ze.nextTick(function(){l.apply(null,i)})}}}),vs=ye((e,n)=>{se(),oe(),ne();var t=ws(),{Buffer:l}=(et(),Me(Ze)),h=l.allocUnsafe(0),s=l.from([0]),r=_l(),o=El().nextTick,i=Ct()("mqtt-packet:writeToStream"),a=r.cache,c=r.generateNumber,p=r.generateCache,g=r.genBufVariableByteInt,b=r.generate4ByteBuffer,m=Z,y=!0;function T(x,E,z){switch(i("generate called"),E.cork&&(E.cork(),o(L,E)),y&&(y=!1,p()),i("generate: packet.cmd: %s",x.cmd),x.cmd){case"connect":return C(x,E);case"connack":return k(x,E,z);case"publish":return U(x,E,z);case"puback":case"pubrec":case"pubrel":case"pubcomp":return v(x,E,z);case"subscribe":return P(x,E,z);case"suback":return M(x,E,z);case"unsubscribe":return F(x,E,z);case"unsuback":return W(x,E,z);case"pingreq":case"pingresp":return Q(x,E);case"disconnect":return ae(x,E,z);case"auth":return I(x,E,z);default:return E.destroy(new Error("Unknown command")),!1}}Object.defineProperty(T,"cacheNumbers",{get(){return m===Z},set(x){x?((!a||Object.keys(a).length===0)&&(y=!0),m=Z):(y=!1,m=q)}});function L(x){x.uncork()}function C(x,E,z){let le=x||{},ee=le.protocolId||"MQTT",J=le.protocolVersion||4,he=le.will,de=le.clean,O=le.keepalive||0,D=le.clientId||"",j=le.username,te=le.password,Y=le.properties;de===void 0&&(de=!0);let N=0;if(!ee||typeof ee!="string"&&!l.isBuffer(ee))return E.destroy(new Error("Invalid protocolId")),!1;if(N+=ee.length+2,J!==3&&J!==4&&J!==5)return E.destroy(new Error("Invalid protocol version")),!1;if(N+=1,(typeof D=="string"||l.isBuffer(D))&&(D||J>=4)&&(D||de))N+=l.byteLength(D)+2;else{if(J<4)return E.destroy(new Error("clientId must be supplied before 3.1.1")),!1;if(de*1===0)return E.destroy(new Error("clientId must be given if cleanSession set to 0")),!1}if(typeof O!="number"||O<0||O>65535||O%1!==0)return E.destroy(new Error("Invalid keepalive")),!1;N+=2,N+=1;let H,we;if(J===5){if(H=ve(E,Y),!H)return!1;N+=H.length}if(he){if(typeof he!="object")return E.destroy(new Error("Invalid will")),!1;if(!he.topic||typeof he.topic!="string")return E.destroy(new Error("Invalid will topic")),!1;if(N+=l.byteLength(he.topic)+2,N+=2,he.payload)if(he.payload.length>=0)typeof he.payload=="string"?N+=l.byteLength(he.payload):N+=he.payload.length;else return E.destroy(new Error("Invalid will payload")),!1;if(we={},J===5){if(we=ve(E,he.properties),!we)return!1;N+=we.length}}let _e=!1;if(j!=null)if(ue(j))_e=!0,N+=l.byteLength(j)+2;else return E.destroy(new Error("Invalid username")),!1;if(te!=null){if(!_e)return E.destroy(new Error("Username is required to use password")),!1;if(ue(te))N+=Ee(te)+2;else return E.destroy(new Error("Invalid password")),!1}E.write(t.CONNECT_HEADER),G(E,N),ie(E,ee),le.bridgeMode&&(J+=128),E.write(J===131?t.VERSION131:J===132?t.VERSION132:J===4?t.VERSION4:J===5?t.VERSION5:t.VERSION3);let Ae=0;return Ae|=j!=null?t.USERNAME_MASK:0,Ae|=te!=null?t.PASSWORD_MASK:0,Ae|=he&&he.retain?t.WILL_RETAIN_MASK:0,Ae|=he&&he.qos?he.qos<<t.WILL_QOS_SHIFT:0,Ae|=he?t.WILL_FLAG_MASK:0,Ae|=de?t.CLEAN_SESSION_MASK:0,E.write(l.from([Ae])),m(E,O),J===5&&H.write(),ie(E,D),he&&(J===5&&we.write(),X(E,he.topic),ie(E,he.payload)),j!=null&&ie(E,j),te!=null&&ie(E,te),!0}function k(x,E,z){let le=z?z.protocolVersion:4,ee=x||{},J=le===5?ee.reasonCode:ee.returnCode,he=ee.properties,de=2;if(typeof J!="number")return E.destroy(new Error("Invalid return code")),!1;let O=null;if(le===5){if(O=ve(E,he),!O)return!1;de+=O.length}return E.write(t.CONNACK_HEADER),G(E,de),E.write(ee.sessionPresent?t.SESSIONPRESENT_HEADER:s),E.write(l.from([J])),O==null||O.write(),!0}function U(x,E,z){i("publish: packet: %o",x);let le=z?z.protocolVersion:4,ee=x||{},J=ee.qos||0,he=ee.retain?t.RETAIN_MASK:0,de=ee.topic,O=ee.payload||h,D=ee.messageId,j=ee.properties,te=0;if(typeof de=="string")te+=l.byteLength(de)+2;else if(l.isBuffer(de))te+=de.length+2;else return E.destroy(new Error("Invalid topic")),!1;if(l.isBuffer(O)?te+=O.length:te+=l.byteLength(O),J&&typeof D!="number")return E.destroy(new Error("Invalid messageId")),!1;J&&(te+=2);let Y=null;if(le===5){if(Y=ve(E,j),!Y)return!1;te+=Y.length}return E.write(t.PUBLISH_HEADER[J][ee.dup?1:0][he?1:0]),G(E,te),m(E,Ee(de)),E.write(de),J>0&&m(E,D),Y==null||Y.write(),i("publish: payload: %o",O),E.write(O)}function v(x,E,z){let le=z?z.protocolVersion:4,ee=x||{},J=ee.cmd||"puback",he=ee.messageId,de=ee.dup&&J==="pubrel"?t.DUP_MASK:0,O=0,D=ee.reasonCode,j=ee.properties,te=le===5?3:2;if(J==="pubrel"&&(O=1),typeof he!="number")return E.destroy(new Error("Invalid messageId")),!1;let Y=null;if(le===5&&typeof j=="object"){if(Y=S(E,j,z,te),!Y)return!1;te+=Y.length}return E.write(t.ACKS[J][O][de][0]),te===3&&(te+=D!==0?1:-1),G(E,te),m(E,he),le===5&&te!==2&&E.write(l.from([D])),Y!==null?Y.write():te===4&&E.write(l.from([0])),!0}function P(x,E,z){i("subscribe: packet: ");let le=z?z.protocolVersion:4,ee=x||{},J=ee.dup?t.DUP_MASK:0,he=ee.messageId,de=ee.subscriptions,O=ee.properties,D=0;if(typeof he!="number")return E.destroy(new Error("Invalid messageId")),!1;D+=2;let j=null;if(le===5){if(j=ve(E,O),!j)return!1;D+=j.length}if(typeof de=="object"&&de.length)for(let Y=0;Y<de.length;Y+=1){let N=de[Y].topic,H=de[Y].qos;if(typeof N!="string")return E.destroy(new Error("Invalid subscriptions - invalid topic")),!1;if(typeof H!="number")return E.destroy(new Error("Invalid subscriptions - invalid qos")),!1;if(le===5){if(typeof(de[Y].nl||!1)!="boolean")return E.destroy(new Error("Invalid subscriptions - invalid No Local")),!1;if(typeof(de[Y].rap||!1)!="boolean")return E.destroy(new Error("Invalid subscriptions - invalid Retain as Published")),!1;let we=de[Y].rh||0;if(typeof we!="number"||we>2)return E.destroy(new Error("Invalid subscriptions - invalid Retain Handling")),!1}D+=l.byteLength(N)+2+1}else return E.destroy(new Error("Invalid subscriptions")),!1;i("subscribe: writing to stream: %o",t.SUBSCRIBE_HEADER),E.write(t.SUBSCRIBE_HEADER[1][J?1:0][0]),G(E,D),m(E,he),j!==null&&j.write();let te=!0;for(let Y of de){let N=Y.topic,H=Y.qos,we=+Y.nl,_e=+Y.rap,Ae=Y.rh,Re;X(E,N),Re=t.SUBSCRIBE_OPTIONS_QOS[H],le===5&&(Re|=we?t.SUBSCRIBE_OPTIONS_NL:0,Re|=_e?t.SUBSCRIBE_OPTIONS_RAP:0,Re|=Ae?t.SUBSCRIBE_OPTIONS_RH[Ae]:0),te=E.write(l.from([Re]))}return te}function M(x,E,z){let le=z?z.protocolVersion:4,ee=x||{},J=ee.messageId,he=ee.granted,de=ee.properties,O=0;if(typeof J!="number")return E.destroy(new Error("Invalid messageId")),!1;if(O+=2,typeof he=="object"&&he.length)for(let j=0;j<he.length;j+=1){if(typeof he[j]!="number")return E.destroy(new Error("Invalid qos vector")),!1;O+=1}else return E.destroy(new Error("Invalid qos vector")),!1;let D=null;if(le===5){if(D=S(E,de,z,O),!D)return!1;O+=D.length}return E.write(t.SUBACK_HEADER),G(E,O),m(E,J),D!==null&&D.write(),E.write(l.from(he))}function F(x,E,z){let le=z?z.protocolVersion:4,ee=x||{},J=ee.messageId,he=ee.dup?t.DUP_MASK:0,de=ee.unsubscriptions,O=ee.properties,D=0;if(typeof J!="number")return E.destroy(new Error("Invalid messageId")),!1;if(D+=2,typeof de=="object"&&de.length)for(let Y=0;Y<de.length;Y+=1){if(typeof de[Y]!="string")return E.destroy(new Error("Invalid unsubscriptions")),!1;D+=l.byteLength(de[Y])+2}else return E.destroy(new Error("Invalid unsubscriptions")),!1;let j=null;if(le===5){if(j=ve(E,O),!j)return!1;D+=j.length}E.write(t.UNSUBSCRIBE_HEADER[1][he?1:0][0]),G(E,D),m(E,J),j!==null&&j.write();let te=!0;for(let Y=0;Y<de.length;Y++)te=X(E,de[Y]);return te}function W(x,E,z){let le=z?z.protocolVersion:4,ee=x||{},J=ee.messageId,he=ee.dup?t.DUP_MASK:0,de=ee.granted,O=ee.properties,D=ee.cmd,j=0,te=2;if(typeof J!="number")return E.destroy(new Error("Invalid messageId")),!1;if(le===5)if(typeof de=="object"&&de.length)for(let N=0;N<de.length;N+=1){if(typeof de[N]!="number")return E.destroy(new Error("Invalid qos vector")),!1;te+=1}else return E.destroy(new Error("Invalid qos vector")),!1;let Y=null;if(le===5){if(Y=S(E,O,z,te),!Y)return!1;te+=Y.length}return E.write(t.ACKS[D][j][he][0]),G(E,te),m(E,J),Y!==null&&Y.write(),le===5&&E.write(l.from(de)),!0}function Q(x,E,z){return E.write(t.EMPTY[x.cmd])}function ae(x,E,z){let le=z?z.protocolVersion:4,ee=x||{},J=ee.reasonCode,he=ee.properties,de=le===5?1:0,O=null;if(le===5){if(O=S(E,he,z,de),!O)return!1;de+=O.length}return E.write(l.from([t.codes.disconnect<<4])),G(E,de),le===5&&E.write(l.from([J])),O!==null&&O.write(),!0}function I(x,E,z){let le=z?z.protocolVersion:4,ee=x||{},J=ee.reasonCode,he=ee.properties,de=le===5?1:0;le!==5&&E.destroy(new Error("Invalid mqtt version for auth packet"));let O=S(E,he,z,de);return O?(de+=O.length,E.write(l.from([t.codes.auth<<4])),G(E,de),E.write(l.from([J])),O!==null&&O.write(),!0):!1}var $={};function G(x,E){if(E>t.VARBYTEINT_MAX)return x.destroy(new Error(`Invalid variable byte integer: ${E}`)),!1;let z=$[E];return z||(z=g(E),E<16384&&($[E]=z)),i("writeVarByteInt: writing to stream: %o",z),x.write(z)}function X(x,E){let z=l.byteLength(E);return m(x,z),i("writeString: %s",E),x.write(E,"utf8")}function ge(x,E,z){X(x,E),X(x,z)}function Z(x,E){return i("writeNumberCached: number: %d",E),i("writeNumberCached: %o",a[E]),x.write(a[E])}function q(x,E){let z=c(E);return i("writeNumberGenerated: %o",z),x.write(z)}function be(x,E){let z=b(E);return i("write4ByteNumber: %o",z),x.write(z)}function ie(x,E){typeof E=="string"?X(x,E):E?(m(x,E.length),x.write(E)):m(x,0)}function ve(x,E){if(typeof E!="object"||E.length!=null)return{length:1,write(){ce(x,{},0)}};let z=0;function le(ee,J){let he=t.propertiesTypes[ee],de=0;switch(he){case"byte":{if(typeof J!="boolean")return x.destroy(new Error(`Invalid ${ee}: ${J}`)),!1;de+=2;break}case"int8":{if(typeof J!="number"||J<0||J>255)return x.destroy(new Error(`Invalid ${ee}: ${J}`)),!1;de+=2;break}case"binary":{if(J&&J===null)return x.destroy(new Error(`Invalid ${ee}: ${J}`)),!1;de+=1+l.byteLength(J)+2;break}case"int16":{if(typeof J!="number"||J<0||J>65535)return x.destroy(new Error(`Invalid ${ee}: ${J}`)),!1;de+=3;break}case"int32":{if(typeof J!="number"||J<0||J>4294967295)return x.destroy(new Error(`Invalid ${ee}: ${J}`)),!1;de+=5;break}case"var":{if(typeof J!="number"||J<0||J>268435455)return x.destroy(new Error(`Invalid ${ee}: ${J}`)),!1;de+=1+l.byteLength(g(J));break}case"string":{if(typeof J!="string")return x.destroy(new Error(`Invalid ${ee}: ${J}`)),!1;de+=3+l.byteLength(J.toString());break}case"pair":{if(typeof J!="object")return x.destroy(new Error(`Invalid ${ee}: ${J}`)),!1;de+=Object.getOwnPropertyNames(J).reduce((O,D)=>{let j=J[D];return Array.isArray(j)?O+=j.reduce((te,Y)=>(te+=3+l.byteLength(D.toString())+2+l.byteLength(Y.toString()),te),0):O+=3+l.byteLength(D.toString())+2+l.byteLength(J[D].toString()),O},0);break}default:return x.destroy(new Error(`Invalid property ${ee}: ${J}`)),!1}return de}if(E)for(let ee in E){let J=0,he=0,de=E[ee];if(Array.isArray(de))for(let O=0;O<de.length;O++){if(he=le(ee,de[O]),!he)return!1;J+=he}else{if(he=le(ee,de),!he)return!1;J=he}if(!J)return!1;z+=J}return{length:l.byteLength(g(z))+z,write(){ce(x,E,z)}}}function S(x,E,z,le){let ee=["reasonString","userProperties"],J=z&&z.properties&&z.properties.maximumPacketSize?z.properties.maximumPacketSize:0,he=ve(x,E);if(J)for(;le+he.length>J;){let de=ee.shift();if(de&&E[de])delete E[de],he=ve(x,E);else return!1}return he}function K(x,E,z){switch(t.propertiesTypes[E]){case"byte":{x.write(l.from([t.properties[E]])),x.write(l.from([+z]));break}case"int8":{x.write(l.from([t.properties[E]])),x.write(l.from([z]));break}case"binary":{x.write(l.from([t.properties[E]])),ie(x,z);break}case"int16":{x.write(l.from([t.properties[E]])),m(x,z);break}case"int32":{x.write(l.from([t.properties[E]])),be(x,z);break}case"var":{x.write(l.from([t.properties[E]])),G(x,z);break}case"string":{x.write(l.from([t.properties[E]])),X(x,z);break}case"pair":{Object.getOwnPropertyNames(z).forEach(le=>{let ee=z[le];Array.isArray(ee)?ee.forEach(J=>{x.write(l.from([t.properties[E]])),ge(x,le.toString(),J.toString())}):(x.write(l.from([t.properties[E]])),ge(x,le.toString(),ee.toString()))});break}default:return x.destroy(new Error(`Invalid property ${E} value: ${z}`)),!1}}function ce(x,E,z){G(x,z);for(let le in E)if(Object.prototype.hasOwnProperty.call(E,le)&&E[le]!==null){let ee=E[le];if(Array.isArray(ee))for(let J=0;J<ee.length;J++)K(x,le,ee[J]);else K(x,le,ee)}}function Ee(x){return x?x instanceof l?x.length:l.byteLength(x):0}function ue(x){return typeof x=="string"||x instanceof l}n.exports=T}),Sl=ye((e,n)=>{se(),oe(),ne();var t=vs(),{EventEmitter:l}=(lr(),Me(tr)),{Buffer:h}=(et(),Me(Ze));function s(o,i){let a=new r;return t(o,a,i),a.concat()}var r=class extends l{constructor(){super(),this._array=new Array(20),this._i=0}write(o){return this._array[this._i++]=o,!0}concat(){let o=0,i=new Array(this._array.length),a=this._array,c=0,p;for(p=0;p<a.length&&a[p]!==void 0;p++)typeof a[p]!="string"?i[p]=a[p].length:i[p]=h.byteLength(a[p]),o+=i[p];let g=h.allocUnsafe(o);for(p=0;p<a.length&&a[p]!==void 0;p++)typeof a[p]!="string"?(a[p].copy(g,c),c+=i[p]):(g.write(a[p],c),c+=i[p]);return g}destroy(o){o&&this.emit("error",o)}};n.exports=s}),Al=ye(e=>{se(),oe(),ne(),e.parser=vl().parser,e.generate=Sl(),e.writeToStream=vs()}),_s=ye(e=>{se(),oe(),ne(),Object.defineProperty(e,"__esModule",{value:!0});var n=class{constructor(){this.nextId=Math.max(1,Math.floor(Math.random()*65535))}allocate(){let t=this.nextId++;return this.nextId===65536&&(this.nextId=1),t}getLastAllocated(){return this.nextId===1?65535:this.nextId-1}register(t){return!0}deallocate(t){}clear(){}};e.default=n}),Il=ye((e,n)=>{se(),oe(),ne(),n.exports=l;function t(s){return s instanceof sr?sr.from(s):new s.constructor(s.buffer.slice(),s.byteOffset,s.length)}function l(s){if(s=s||{},s.circles)return h(s);return s.proto?i:o;function r(a,c){for(var p=Object.keys(a),g=new Array(p.length),b=0;b<p.length;b++){var m=p[b],y=a[m];typeof y!="object"||y===null?g[m]=y:y instanceof Date?g[m]=new Date(y):ArrayBuffer.isView(y)?g[m]=t(y):g[m]=c(y)}return g}function o(a){if(typeof a!="object"||a===null)return a;if(a instanceof Date)return new Date(a);if(Array.isArray(a))return r(a,o);if(a instanceof Map)return new Map(r(Array.from(a),o));if(a instanceof Set)return new Set(r(Array.from(a),o));var c={};for(var p in a)if(Object.hasOwnProperty.call(a,p)!==!1){var g=a[p];typeof g!="object"||g===null?c[p]=g:g instanceof Date?c[p]=new Date(g):g instanceof Map?c[p]=new Map(r(Array.from(g),o)):g instanceof Set?c[p]=new Set(r(Array.from(g),o)):ArrayBuffer.isView(g)?c[p]=t(g):c[p]=o(g)}return c}function i(a){if(typeof a!="object"||a===null)return a;if(a instanceof Date)return new Date(a);if(Array.isArray(a))return r(a,i);if(a instanceof Map)return new Map(r(Array.from(a),i));if(a instanceof Set)return new Set(r(Array.from(a),i));var c={};for(var p in a){var g=a[p];typeof g!="object"||g===null?c[p]=g:g instanceof Date?c[p]=new Date(g):g instanceof Map?c[p]=new Map(r(Array.from(g),i)):g instanceof Set?c[p]=new Set(r(Array.from(g),i)):ArrayBuffer.isView(g)?c[p]=t(g):c[p]=i(g)}return c}}function h(s){var r=[],o=[];return s.proto?c:a;function i(p,g){for(var b=Object.keys(p),m=new Array(b.length),y=0;y<b.length;y++){var T=b[y],L=p[T];if(typeof L!="object"||L===null)m[T]=L;else if(L instanceof Date)m[T]=new Date(L);else if(ArrayBuffer.isView(L))m[T]=t(L);else{var C=r.indexOf(L);C!==-1?m[T]=o[C]:m[T]=g(L)}}return m}function a(p){if(typeof p!="object"||p===null)return p;if(p instanceof Date)return new Date(p);if(Array.isArray(p))return i(p,a);if(p instanceof Map)return new Map(i(Array.from(p),a));if(p instanceof Set)return new Set(i(Array.from(p),a));var g={};r.push(p),o.push(g);for(var b in p)if(Object.hasOwnProperty.call(p,b)!==!1){var m=p[b];if(typeof m!="object"||m===null)g[b]=m;else if(m instanceof Date)g[b]=new Date(m);else if(m instanceof Map)g[b]=new Map(i(Array.from(m),a));else if(m instanceof Set)g[b]=new Set(i(Array.from(m),a));else if(ArrayBuffer.isView(m))g[b]=t(m);else{var y=r.indexOf(m);y!==-1?g[b]=o[y]:g[b]=a(m)}}return r.pop(),o.pop(),g}function c(p){if(typeof p!="object"||p===null)return p;if(p instanceof Date)return new Date(p);if(Array.isArray(p))return i(p,c);if(p instanceof Map)return new Map(i(Array.from(p),c));if(p instanceof Set)return new Set(i(Array.from(p),c));var g={};r.push(p),o.push(g);for(var b in p){var m=p[b];if(typeof m!="object"||m===null)g[b]=m;else if(m instanceof Date)g[b]=new Date(m);else if(m instanceof Map)g[b]=new Map(i(Array.from(m),c));else if(m instanceof Set)g[b]=new Set(i(Array.from(m),c));else if(ArrayBuffer.isView(m))g[b]=t(m);else{var y=r.indexOf(m);y!==-1?g[b]=o[y]:g[b]=c(m)}}return r.pop(),o.pop(),g}}}),Tl=ye((e,n)=>{se(),oe(),ne(),n.exports=Il()()}),kl=ye(e=>{se(),oe(),ne(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateTopics=e.validateTopic=void 0;function n(l){let h=l.split("/");for(let s=0;s<h.length;s++)if(h[s]!=="+"){if(h[s]==="#")return s===h.length-1;if(h[s].indexOf("+")!==-1||h[s].indexOf("#")!==-1)return!1}return!0}e.validateTopic=n;function t(l){if(l.length===0)return"empty_topic_list";for(let h=0;h<l.length;h++)if(!n(l[h]))return l[h];return null}e.validateTopics=t}),Es=ye(e=>{se(),oe(),ne(),Object.defineProperty(e,"__esModule",{value:!0});var n=rr(),t={objectMode:!0},l={clean:!0},h=class{constructor(s){this.options=s||{},this.options=Object.assign(Object.assign({},l),s),this._inflights=new Map}put(s,r){return this._inflights.set(s.messageId,s),r&&r(),this}createStream(){let s=new n.Readable(t),r=[],o=!1,i=0;return this._inflights.forEach((a,c)=>{r.push(a)}),s._read=()=>{!o&&i<r.length?s.push(r[i++]):s.push(null)},s.destroy=a=>{if(!o)return o=!0,setTimeout(()=>{s.emit("close")},0),s},s}del(s,r){let o=this._inflights.get(s.messageId);return o?(this._inflights.delete(s.messageId),r(null,o)):r&&r(new Error("missing packet")),this}get(s,r){let o=this._inflights.get(s.messageId);return o?r(null,o):r&&r(new Error("missing packet")),this}close(s){this.options.clean&&(this._inflights=null),s&&s()}};e.default=h}),Ol=ye(e=>{se(),oe(),ne(),Object.defineProperty(e,"__esModule",{value:!0});var n=[0,16,128,131,135,144,145,151,153],t=(l,h,s)=>{l.log("handlePublish: packet %o",h),s=typeof s<"u"?s:l.noop;let r=h.topic.toString(),o=h.payload,{qos:i}=h,{messageId:a}=h,{options:c}=l;if(l.options.protocolVersion===5){let p;if(h.properties&&(p=h.properties.topicAlias),typeof p<"u")if(r.length===0)if(p>0&&p<=65535){let g=l.topicAliasRecv.getTopicByAlias(p);if(g)r=g,l.log("handlePublish :: topic complemented by alias. topic: %s - alias: %d",r,p);else{l.log("handlePublish :: unregistered topic alias. alias: %d",p),l.emit("error",new Error("Received unregistered Topic Alias"));return}}else{l.log("handlePublish :: topic alias out of range. alias: %d",p),l.emit("error",new Error("Received Topic Alias is out of range"));return}else if(l.topicAliasRecv.put(r,p))l.log("handlePublish :: registered topic: %s - alias: %d",r,p);else{l.log("handlePublish :: topic alias out of range. alias: %d",p),l.emit("error",new Error("Received Topic Alias is out of range"));return}}switch(l.log("handlePublish: qos %d",i),i){case 2:{c.customHandleAcks(r,o,h,(p,g)=>{if(typeof p=="number"&&(g=p,p=null),p)return l.emit("error",p);if(n.indexOf(g)===-1)return l.emit("error",new Error("Wrong reason code for pubrec"));g?l._sendPacket({cmd:"pubrec",messageId:a,reasonCode:g},s):l.incomingStore.put(h,()=>{l._sendPacket({cmd:"pubrec",messageId:a},s)})});break}case 1:{c.customHandleAcks(r,o,h,(p,g)=>{if(typeof p=="number"&&(g=p,p=null),p)return l.emit("error",p);if(n.indexOf(g)===-1)return l.emit("error",new Error("Wrong reason code for puback"));g||l.emit("message",r,o,h),l.handleMessage(h,b=>{if(b)return s&&s(b);l._sendPacket({cmd:"puback",messageId:a,reasonCode:g},s)})});break}case 0:l.emit("message",r,o,h),l.handleMessage(h,s);break;default:l.log("handlePublish: unknown QoS. Doing nothing.");break}};e.default=t}),wr=ye(e=>{se(),oe(),ne(),Object.defineProperty(e,"__esModule",{value:!0}),e.nextTick=e.applyMixin=e.ErrorWithReasonCode=void 0;var n=class Ss extends Error{constructor(h,s){super(h),this.code=s,Object.setPrototypeOf(this,Ss.prototype),Object.getPrototypeOf(this).name="ErrorWithReasonCode"}};e.ErrorWithReasonCode=n;function t(l,h,s=!1){var r;let o=[h];for(;;){let i=o[0],a=Object.getPrototypeOf(i);if(a!=null&&a.prototype)o.unshift(a);else break}for(let i of o)for(let a of Object.getOwnPropertyNames(i.prototype))(s||a!=="constructor")&&Object.defineProperty(l.prototype,a,(r=Object.getOwnPropertyDescriptor(i.prototype,a))!==null&&r!==void 0?r:Object.create(null))}e.applyMixin=t,e.nextTick=ze?ze.nextTick:l=>{setTimeout(l,0)}}),Vr=ye(e=>{se(),oe(),ne(),Object.defineProperty(e,"__esModule",{value:!0}),e.ReasonCodes=void 0,e.ReasonCodes={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};var n=(t,l)=>{let{messageId:h}=l,s=l.cmd,r=null,o=t.outgoing[h]?t.outgoing[h].cb:null,i;if(!o){t.log("_handleAck :: Server sent an ack in error. Ignoring.");return}switch(t.log("_handleAck :: packet type",s),s){case"pubcomp":case"puback":{let a=l.reasonCode;a&&a>0&&a!==16?(i=new Error(`Publish error: ${e.ReasonCodes[a]}`),i.code=a,t._removeOutgoingAndStoreMessage(h,()=>{o(i,l)})):t._removeOutgoingAndStoreMessage(h,o);break}case"pubrec":{r={cmd:"pubrel",qos:2,messageId:h};let a=l.reasonCode;a&&a>0&&a!==16?(i=new Error(`Publish error: ${e.ReasonCodes[a]}`),i.code=a,t._removeOutgoingAndStoreMessage(h,()=>{o(i,l)})):t._sendPacket(r);break}case"suback":{delete t.outgoing[h],t.messageIdProvider.deallocate(h);let a=l.granted;for(let c=0;c<a.length;c++)if(a[c]&128){let p=t.messageIdToTopic[h];p&&p.forEach(g=>{delete t._resubscribeTopics[g]})}delete t.messageIdToTopic[h],t._invokeStoreProcessingQueue(),o(null,l);break}case"unsuback":{delete t.outgoing[h],t.messageIdProvider.deallocate(h),t._invokeStoreProcessingQueue(),o(null);break}default:t.emit("error",new Error("unrecognized packet type"))}t.disconnecting&&Object.keys(t.outgoing).length===0&&t.emit("outgoingEmpty")};e.default=n}),Cl=ye(e=>{se(),oe(),ne(),Object.defineProperty(e,"__esModule",{value:!0});var n=wr(),t=Vr(),l=(h,s)=>{let{options:r}=h,o=r.protocolVersion,i=o===5?s.reasonCode:s.returnCode;if(o!==5){let a=new n.ErrorWithReasonCode(`Protocol error: Auth packets are only supported in MQTT 5. Your version:${o}`,i);h.emit("error",a);return}h.handleAuth(s,(a,c)=>{if(a){h.emit("error",a);return}if(i===24)h.reconnecting=!1,h._sendPacket(c);else{let p=new n.ErrorWithReasonCode(`Connection refused: ${t.ReasonCodes[i]}`,i);h.emit("error",p)}})};e.default=l}),Rl=ye(e=>{var b,m,y,T,L,C,k,U,v,P,M,F,W,Q,ae,I,$,G,X,ge,Z,q,be,ie,ve,S,yn,ce,Ee,ue,x,E,As,le,ee,J,he,Ut,O,Lt,j,wn,Y,Pr,H,Br,_e,Ue,Re,vn,u,br,_;se(),oe(),ne(),Object.defineProperty(e,"__esModule",{value:!0}),e.LRUCache=void 0;var n=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,t=new Set,l=typeof ze=="object"&&ze?ze:{},h=(A,w,R,V)=>{typeof l.emitWarning=="function"?l.emitWarning(A,w,R,V):console.error(`[${R}] ${w}: ${A}`)},s=globalThis.AbortController,r=globalThis.AbortSignal;if(typeof s>"u"){r=class{constructor(){je(this,"onabort");je(this,"_onabort",[]);je(this,"reason");je(this,"aborted",!1)}addEventListener(R,V){this._onabort.push(V)}},s=class{constructor(){je(this,"signal",new r);w()}abort(R){var V,fe;if(!this.signal.aborted){this.signal.reason=R,this.signal.aborted=!0;for(let re of this.signal._onabort)re(R);(fe=(V=this.signal).onabort)==null||fe.call(V,R)}}};let A=((b=l.env)==null?void 0:b.LRU_CACHE_IGNORE_AC_WARNING)!=="1",w=()=>{A&&(A=!1,h("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",w))}}var o=A=>!t.has(A),i=A=>A&&A===Math.floor(A)&&A>0&&isFinite(A),a=A=>i(A)?A<=Math.pow(2,8)?Uint8Array:A<=Math.pow(2,16)?Uint16Array:A<=Math.pow(2,32)?Uint32Array:A<=Number.MAX_SAFE_INTEGER?c:null:null,c=class extends Array{constructor(A){super(A),this.fill(0)}},p=(m=class{constructor(w,R){je(this,"heap");je(this,"length");if(!B(m,y))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new R(w),this.length=0}static create(w){let R=a(w);if(!R)return[];Te(m,y,!0);let V=new m(w,R);return Te(m,y,!1),V}push(w){this.heap[this.length++]=w}pop(){return this.heap[--this.length]}},y=new WeakMap,Ce(m,y,!1),m),g=(_=class{constructor(w){Ce(this,S);Ce(this,E);Ce(this,he);Ce(this,O);Ce(this,j);Ce(this,Y);Ce(this,H);Ce(this,_e);Ce(this,Re);Ce(this,u);Ce(this,T,void 0);Ce(this,L,void 0);Ce(this,C,void 0);Ce(this,k,void 0);Ce(this,U,void 0);je(this,"ttl");je(this,"ttlResolution");je(this,"ttlAutopurge");je(this,"updateAgeOnGet");je(this,"updateAgeOnHas");je(this,"allowStale");je(this,"noDisposeOnSet");je(this,"noUpdateTTL");je(this,"maxEntrySize");je(this,"sizeCalculation");je(this,"noDeleteOnFetchRejection");je(this,"noDeleteOnStaleGet");je(this,"allowStaleOnFetchAbort");je(this,"allowStaleOnFetchRejection");je(this,"ignoreFetchAbort");Ce(this,v,void 0);Ce(this,P,void 0);Ce(this,M,void 0);Ce(this,F,void 0);Ce(this,W,void 0);Ce(this,Q,void 0);Ce(this,ae,void 0);Ce(this,I,void 0);Ce(this,$,void 0);Ce(this,G,void 0);Ce(this,X,void 0);Ce(this,ge,void 0);Ce(this,Z,void 0);Ce(this,q,void 0);Ce(this,be,void 0);Ce(this,ie,void 0);Ce(this,ve,void 0);Ce(this,ce,()=>{});Ce(this,Ee,()=>{});Ce(this,ue,()=>{});Ce(this,x,()=>!1);Ce(this,le,w=>{});Ce(this,ee,(w,R,V)=>{});Ce(this,J,(w,R,V,fe)=>{if(V||fe)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});let{max:R=0,ttl:V,ttlResolution:fe=1,ttlAutopurge:re,updateAgeOnGet:me,updateAgeOnHas:Se,allowStale:ke,dispose:$e,disposeAfter:tt,noDisposeOnSet:xe,noUpdateTTL:rt,maxSize:Ve=0,maxEntrySize:He=0,sizeCalculation:qe,fetchMethod:Je,noDeleteOnFetchRejection:Oe,noDeleteOnStaleGet:Fe,allowStaleOnFetchRejection:it,allowStaleOnFetchAbort:Ye,ignoreFetchAbort:ht}=w;if(R!==0&&!i(R))throw new TypeError("max option must be a nonnegative integer");let Dt=R?a(R):Array;if(!Dt)throw new Error("invalid max value: "+R);if(Te(this,T,R),Te(this,L,Ve),this.maxEntrySize=He||B(this,L),this.sizeCalculation=qe,this.sizeCalculation){if(!B(this,L)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(Je!==void 0&&typeof Je!="function")throw new TypeError("fetchMethod must be a function if specified");if(Te(this,U,Je),Te(this,ie,!!Je),Te(this,M,new Map),Te(this,F,new Array(R).fill(void 0)),Te(this,W,new Array(R).fill(void 0)),Te(this,Q,new Dt(R)),Te(this,ae,new Dt(R)),Te(this,I,0),Te(this,$,0),Te(this,G,p.create(R)),Te(this,v,0),Te(this,P,0),typeof $e=="function"&&Te(this,C,$e),typeof tt=="function"?(Te(this,k,tt),Te(this,X,[])):(Te(this,k,void 0),Te(this,X,void 0)),Te(this,be,!!B(this,C)),Te(this,ve,!!B(this,k)),this.noDisposeOnSet=!!xe,this.noUpdateTTL=!!rt,this.noDeleteOnFetchRejection=!!Oe,this.allowStaleOnFetchRejection=!!it,this.allowStaleOnFetchAbort=!!Ye,this.ignoreFetchAbort=!!ht,this.maxEntrySize!==0){if(B(this,L)!==0&&!i(B(this,L)))throw new TypeError("maxSize must be a positive integer if specified");if(!i(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");Ie(this,E,As).call(this)}if(this.allowStale=!!ke,this.noDeleteOnStaleGet=!!Fe,this.updateAgeOnGet=!!me,this.updateAgeOnHas=!!Se,this.ttlResolution=i(fe)||fe===0?fe:1,this.ttlAutopurge=!!re,this.ttl=V||0,this.ttl){if(!i(this.ttl))throw new TypeError("ttl must be a positive integer if specified");Ie(this,S,yn).call(this)}if(B(this,T)===0&&this.ttl===0&&B(this,L)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!B(this,T)&&!B(this,L)){let xt="LRU_CACHE_UNBOUNDED";o(xt)&&(t.add(xt),h("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",xt,_))}}static unsafeExposeInternals(w){return{starts:B(w,Z),ttls:B(w,q),sizes:B(w,ge),keyMap:B(w,M),keyList:B(w,F),valList:B(w,W),next:B(w,Q),prev:B(w,ae),get head(){return B(w,I)},get tail(){return B(w,$)},free:B(w,G),isBackgroundFetch:R=>{var V;return Ie(V=w,_e,Ue).call(V,R)},backgroundFetch:(R,V,fe,re)=>{var me;return Ie(me=w,H,Br).call(me,R,V,fe,re)},moveToTail:R=>{var V;return Ie(V=w,u,br).call(V,R)},indexes:R=>{var V;return Ie(V=w,he,Ut).call(V,R)},rindexes:R=>{var V;return Ie(V=w,O,Lt).call(V,R)},isStale:R=>{var V;return B(V=w,x).call(V,R)}}}get max(){return B(this,T)}get maxSize(){return B(this,L)}get calculatedSize(){return B(this,P)}get size(){return B(this,v)}get fetchMethod(){return B(this,U)}get dispose(){return B(this,C)}get disposeAfter(){return B(this,k)}getRemainingTTL(w){return B(this,M).has(w)?1/0:0}*entries(){for(let w of Ie(this,he,Ut).call(this))B(this,W)[w]!==void 0&&B(this,F)[w]!==void 0&&!Ie(this,_e,Ue).call(this,B(this,W)[w])&&(yield[B(this,F)[w],B(this,W)[w]])}*rentries(){for(let w of Ie(this,O,Lt).call(this))B(this,W)[w]!==void 0&&B(this,F)[w]!==void 0&&!Ie(this,_e,Ue).call(this,B(this,W)[w])&&(yield[B(this,F)[w],B(this,W)[w]])}*keys(){for(let w of Ie(this,he,Ut).call(this)){let R=B(this,F)[w];R!==void 0&&!Ie(this,_e,Ue).call(this,B(this,W)[w])&&(yield R)}}*rkeys(){for(let w of Ie(this,O,Lt).call(this)){let R=B(this,F)[w];R!==void 0&&!Ie(this,_e,Ue).call(this,B(this,W)[w])&&(yield R)}}*values(){for(let w of Ie(this,he,Ut).call(this))B(this,W)[w]!==void 0&&!Ie(this,_e,Ue).call(this,B(this,W)[w])&&(yield B(this,W)[w])}*rvalues(){for(let w of Ie(this,O,Lt).call(this))B(this,W)[w]!==void 0&&!Ie(this,_e,Ue).call(this,B(this,W)[w])&&(yield B(this,W)[w])}[Symbol.iterator](){return this.entries()}find(w,R={}){for(let V of Ie(this,he,Ut).call(this)){let fe=B(this,W)[V],re=Ie(this,_e,Ue).call(this,fe)?fe.__staleWhileFetching:fe;if(re!==void 0&&w(re,B(this,F)[V],this))return this.get(B(this,F)[V],R)}}forEach(w,R=this){for(let V of Ie(this,he,Ut).call(this)){let fe=B(this,W)[V],re=Ie(this,_e,Ue).call(this,fe)?fe.__staleWhileFetching:fe;re!==void 0&&w.call(R,re,B(this,F)[V],this)}}rforEach(w,R=this){for(let V of Ie(this,O,Lt).call(this)){let fe=B(this,W)[V],re=Ie(this,_e,Ue).call(this,fe)?fe.__staleWhileFetching:fe;re!==void 0&&w.call(R,re,B(this,F)[V],this)}}purgeStale(){let w=!1;for(let R of Ie(this,O,Lt).call(this,{allowStale:!0}))B(this,x).call(this,R)&&(this.delete(B(this,F)[R]),w=!0);return w}dump(){let w=[];for(let R of Ie(this,he,Ut).call(this,{allowStale:!0})){let V=B(this,F)[R],fe=B(this,W)[R],re=Ie(this,_e,Ue).call(this,fe)?fe.__staleWhileFetching:fe;if(re===void 0||V===void 0)continue;let me={value:re};if(B(this,q)&&B(this,Z)){me.ttl=B(this,q)[R];let Se=n.now()-B(this,Z)[R];me.start=Math.floor(Date.now()-Se)}B(this,ge)&&(me.size=B(this,ge)[R]),w.unshift([V,me])}return w}load(w){this.clear();for(let[R,V]of w){if(V.start){let fe=Date.now()-V.start;V.start=n.now()-fe}this.set(R,V.value,V)}}set(w,R,V={}){var rt,Ve,He,qe,Je;if(R===void 0)return this.delete(w),this;let{ttl:fe=this.ttl,start:re,noDisposeOnSet:me=this.noDisposeOnSet,sizeCalculation:Se=this.sizeCalculation,status:ke}=V,{noUpdateTTL:$e=this.noUpdateTTL}=V,tt=B(this,J).call(this,w,R,V.size||0,Se);if(this.maxEntrySize&&tt>this.maxEntrySize)return ke&&(ke.set="miss",ke.maxEntrySizeExceeded=!0),this.delete(w),this;let xe=B(this,v)===0?void 0:B(this,M).get(w);if(xe===void 0)xe=B(this,v)===0?B(this,$):B(this,G).length!==0?B(this,G).pop():B(this,v)===B(this,T)?Ie(this,Y,Pr).call(this,!1):B(this,v),B(this,F)[xe]=w,B(this,W)[xe]=R,B(this,M).set(w,xe),B(this,Q)[B(this,$)]=xe,B(this,ae)[xe]=B(this,$),Te(this,$,xe),vr(this,v)._++,B(this,ee).call(this,xe,tt,ke),ke&&(ke.set="add"),$e=!1;else{Ie(this,u,br).call(this,xe);let Oe=B(this,W)[xe];if(R!==Oe){if(B(this,ie)&&Ie(this,_e,Ue).call(this,Oe)){Oe.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:Fe}=Oe;Fe!==void 0&&!me&&(B(this,be)&&((rt=B(this,C))==null||rt.call(this,Fe,w,"set")),B(this,ve)&&((Ve=B(this,X))==null||Ve.push([Fe,w,"set"])))}else me||(B(this,be)&&((He=B(this,C))==null||He.call(this,Oe,w,"set")),B(this,ve)&&((qe=B(this,X))==null||qe.push([Oe,w,"set"])));if(B(this,le).call(this,xe),B(this,ee).call(this,xe,tt,ke),B(this,W)[xe]=R,ke){ke.set="replace";let Fe=Oe&&Ie(this,_e,Ue).call(this,Oe)?Oe.__staleWhileFetching:Oe;Fe!==void 0&&(ke.oldValue=Fe)}}else ke&&(ke.set="update")}if(fe!==0&&!B(this,q)&&Ie(this,S,yn).call(this),B(this,q)&&($e||B(this,ue).call(this,xe,fe,re),ke&&B(this,Ee).call(this,ke,xe)),!me&&B(this,ve)&&B(this,X)){let Oe=B(this,X),Fe;for(;Fe=Oe==null?void 0:Oe.shift();)(Je=B(this,k))==null||Je.call(this,...Fe)}return this}pop(){var w;try{for(;B(this,v);){let R=B(this,W)[B(this,I)];if(Ie(this,Y,Pr).call(this,!0),Ie(this,_e,Ue).call(this,R)){if(R.__staleWhileFetching)return R.__staleWhileFetching}else if(R!==void 0)return R}}finally{if(B(this,ve)&&B(this,X)){let R=B(this,X),V;for(;V=R==null?void 0:R.shift();)(w=B(this,k))==null||w.call(this,...V)}}}has(w,R={}){let{updateAgeOnHas:V=this.updateAgeOnHas,status:fe}=R,re=B(this,M).get(w);if(re!==void 0){let me=B(this,W)[re];if(Ie(this,_e,Ue).call(this,me)&&me.__staleWhileFetching===void 0)return!1;if(B(this,x).call(this,re))fe&&(fe.has="stale",B(this,Ee).call(this,fe,re));else return V&&B(this,ce).call(this,re),fe&&(fe.has="hit",B(this,Ee).call(this,fe,re)),!0}else fe&&(fe.has="miss");return!1}peek(w,R={}){let{allowStale:V=this.allowStale}=R,fe=B(this,M).get(w);if(fe!==void 0&&(V||!B(this,x).call(this,fe))){let re=B(this,W)[fe];return Ie(this,_e,Ue).call(this,re)?re.__staleWhileFetching:re}}async fetch(w,R={}){let{allowStale:V=this.allowStale,updateAgeOnGet:fe=this.updateAgeOnGet,noDeleteOnStaleGet:re=this.noDeleteOnStaleGet,ttl:me=this.ttl,noDisposeOnSet:Se=this.noDisposeOnSet,size:ke=0,sizeCalculation:$e=this.sizeCalculation,noUpdateTTL:tt=this.noUpdateTTL,noDeleteOnFetchRejection:xe=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:rt=this.allowStaleOnFetchRejection,ignoreFetchAbort:Ve=this.ignoreFetchAbort,allowStaleOnFetchAbort:He=this.allowStaleOnFetchAbort,context:qe,forceRefresh:Je=!1,status:Oe,signal:Fe}=R;if(!B(this,ie))return Oe&&(Oe.fetch="get"),this.get(w,{allowStale:V,updateAgeOnGet:fe,noDeleteOnStaleGet:re,status:Oe});let it={allowStale:V,updateAgeOnGet:fe,noDeleteOnStaleGet:re,ttl:me,noDisposeOnSet:Se,size:ke,sizeCalculation:$e,noUpdateTTL:tt,noDeleteOnFetchRejection:xe,allowStaleOnFetchRejection:rt,allowStaleOnFetchAbort:He,ignoreFetchAbort:Ve,status:Oe,signal:Fe},Ye=B(this,M).get(w);if(Ye===void 0){Oe&&(Oe.fetch="miss");let ht=Ie(this,H,Br).call(this,w,Ye,it,qe);return ht.__returned=ht}else{let ht=B(this,W)[Ye];if(Ie(this,_e,Ue).call(this,ht)){let qn=V&&ht.__staleWhileFetching!==void 0;return Oe&&(Oe.fetch="inflight",qn&&(Oe.returnedStale=!0)),qn?ht.__staleWhileFetching:ht.__returned=ht}let Dt=B(this,x).call(this,Ye);if(!Je&&!Dt)return Oe&&(Oe.fetch="hit"),Ie(this,u,br).call(this,Ye),fe&&B(this,ce).call(this,Ye),Oe&&B(this,Ee).call(this,Oe,Ye),ht;let xt=Ie(this,H,Br).call(this,w,Ye,it,qe),$n=xt.__staleWhileFetching!==void 0&&V;return Oe&&(Oe.fetch=Dt?"stale":"refresh",$n&&Dt&&(Oe.returnedStale=!0)),$n?xt.__staleWhileFetching:xt.__returned=xt}}get(w,R={}){let{allowStale:V=this.allowStale,updateAgeOnGet:fe=this.updateAgeOnGet,noDeleteOnStaleGet:re=this.noDeleteOnStaleGet,status:me}=R,Se=B(this,M).get(w);if(Se!==void 0){let ke=B(this,W)[Se],$e=Ie(this,_e,Ue).call(this,ke);return me&&B(this,Ee).call(this,me,Se),B(this,x).call(this,Se)?(me&&(me.get="stale"),$e?(me&&V&&ke.__staleWhileFetching!==void 0&&(me.returnedStale=!0),V?ke.__staleWhileFetching:void 0):(re||this.delete(w),me&&V&&(me.returnedStale=!0),V?ke:void 0)):(me&&(me.get="hit"),$e?ke.__staleWhileFetching:(Ie(this,u,br).call(this,Se),fe&&B(this,ce).call(this,Se),ke))}else me&&(me.get="miss")}delete(w){var V,fe,re,me;let R=!1;if(B(this,v)!==0){let Se=B(this,M).get(w);if(Se!==void 0)if(R=!0,B(this,v)===1)this.clear();else{B(this,le).call(this,Se);let ke=B(this,W)[Se];Ie(this,_e,Ue).call(this,ke)?ke.__abortController.abort(new Error("deleted")):(B(this,be)||B(this,ve))&&(B(this,be)&&((V=B(this,C))==null||V.call(this,ke,w,"delete")),B(this,ve)&&((fe=B(this,X))==null||fe.push([ke,w,"delete"]))),B(this,M).delete(w),B(this,F)[Se]=void 0,B(this,W)[Se]=void 0,Se===B(this,$)?Te(this,$,B(this,ae)[Se]):Se===B(this,I)?Te(this,I,B(this,Q)[Se]):(B(this,Q)[B(this,ae)[Se]]=B(this,Q)[Se],B(this,ae)[B(this,Q)[Se]]=B(this,ae)[Se]),vr(this,v)._--,B(this,G).push(Se)}}if(B(this,ve)&&((re=B(this,X))!=null&&re.length)){let Se=B(this,X),ke;for(;ke=Se==null?void 0:Se.shift();)(me=B(this,k))==null||me.call(this,...ke)}return R}clear(){var w,R,V;for(let fe of Ie(this,O,Lt).call(this,{allowStale:!0})){let re=B(this,W)[fe];if(Ie(this,_e,Ue).call(this,re))re.__abortController.abort(new Error("deleted"));else{let me=B(this,F)[fe];B(this,be)&&((w=B(this,C))==null||w.call(this,re,me,"delete")),B(this,ve)&&((R=B(this,X))==null||R.push([re,me,"delete"]))}}if(B(this,M).clear(),B(this,W).fill(void 0),B(this,F).fill(void 0),B(this,q)&&B(this,Z)&&(B(this,q).fill(0),B(this,Z).fill(0)),B(this,ge)&&B(this,ge).fill(0),Te(this,I,0),Te(this,$,0),B(this,G).length=0,Te(this,P,0),Te(this,v,0),B(this,ve)&&B(this,X)){let fe=B(this,X),re;for(;re=fe==null?void 0:fe.shift();)(V=B(this,k))==null||V.call(this,...re)}}},T=new WeakMap,L=new WeakMap,C=new WeakMap,k=new WeakMap,U=new WeakMap,v=new WeakMap,P=new WeakMap,M=new WeakMap,F=new WeakMap,W=new WeakMap,Q=new WeakMap,ae=new WeakMap,I=new WeakMap,$=new WeakMap,G=new WeakMap,X=new WeakMap,ge=new WeakMap,Z=new WeakMap,q=new WeakMap,be=new WeakMap,ie=new WeakMap,ve=new WeakMap,S=new WeakSet,yn=function(){let w=new c(B(this,T)),R=new c(B(this,T));Te(this,q,w),Te(this,Z,R),Te(this,ue,(re,me,Se=n.now())=>{if(R[re]=me!==0?Se:0,w[re]=me,me!==0&&this.ttlAutopurge){let ke=setTimeout(()=>{B(this,x).call(this,re)&&this.delete(B(this,F)[re])},me+1);ke.unref&&ke.unref()}}),Te(this,ce,re=>{R[re]=w[re]!==0?n.now():0}),Te(this,Ee,(re,me)=>{if(w[me]){let Se=w[me],ke=R[me];re.ttl=Se,re.start=ke,re.now=V||fe();let $e=re.now-ke;re.remainingTTL=Se-$e}});let V=0,fe=()=>{let re=n.now();if(this.ttlResolution>0){V=re;let me=setTimeout(()=>V=0,this.ttlResolution);me.unref&&me.unref()}return re};this.getRemainingTTL=re=>{let me=B(this,M).get(re);if(me===void 0)return 0;let Se=w[me],ke=R[me];if(Se===0||ke===0)return 1/0;let $e=(V||fe())-ke;return Se-$e},Te(this,x,re=>w[re]!==0&&R[re]!==0&&(V||fe())-R[re]>w[re])},ce=new WeakMap,Ee=new WeakMap,ue=new WeakMap,x=new WeakMap,E=new WeakSet,As=function(){let w=new c(B(this,T));Te(this,P,0),Te(this,ge,w),Te(this,le,R=>{Te(this,P,B(this,P)-w[R]),w[R]=0}),Te(this,J,(R,V,fe,re)=>{if(Ie(this,_e,Ue).call(this,V))return 0;if(!i(fe))if(re){if(typeof re!="function")throw new TypeError("sizeCalculation must be a function");if(fe=re(V,R),!i(fe))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return fe}),Te(this,ee,(R,V,fe)=>{if(w[R]=V,B(this,L)){let re=B(this,L)-w[R];for(;B(this,P)>re;)Ie(this,Y,Pr).call(this,!0)}Te(this,P,B(this,P)+w[R]),fe&&(fe.entrySize=V,fe.totalCalculatedSize=B(this,P))})},le=new WeakMap,ee=new WeakMap,J=new WeakMap,he=new WeakSet,Ut=function*({allowStale:w=this.allowStale}={}){if(B(this,v))for(let R=B(this,$);!(!Ie(this,j,wn).call(this,R)||((w||!B(this,x).call(this,R))&&(yield R),R===B(this,I)));)R=B(this,ae)[R]},O=new WeakSet,Lt=function*({allowStale:w=this.allowStale}={}){if(B(this,v))for(let R=B(this,I);!(!Ie(this,j,wn).call(this,R)||((w||!B(this,x).call(this,R))&&(yield R),R===B(this,$)));)R=B(this,Q)[R]},j=new WeakSet,wn=function(w){return w!==void 0&&B(this,M).get(B(this,F)[w])===w},Y=new WeakSet,Pr=function(w){var re,me;let R=B(this,I),V=B(this,F)[R],fe=B(this,W)[R];return B(this,ie)&&Ie(this,_e,Ue).call(this,fe)?fe.__abortController.abort(new Error("evicted")):(B(this,be)||B(this,ve))&&(B(this,be)&&((re=B(this,C))==null||re.call(this,fe,V,"evict")),B(this,ve)&&((me=B(this,X))==null||me.push([fe,V,"evict"]))),B(this,le).call(this,R),w&&(B(this,F)[R]=void 0,B(this,W)[R]=void 0,B(this,G).push(R)),B(this,v)===1?(Te(this,I,Te(this,$,0)),B(this,G).length=0):Te(this,I,B(this,Q)[R]),B(this,M).delete(V),vr(this,v)._--,R},H=new WeakSet,Br=function(w,R,V,fe){let re=R===void 0?void 0:B(this,W)[R];if(Ie(this,_e,Ue).call(this,re))return re;let me=new s,{signal:Se}=V;Se==null||Se.addEventListener("abort",()=>me.abort(Se.reason),{signal:me.signal});let ke={signal:me.signal,options:V,context:fe},$e=(qe,Je=!1)=>{let{aborted:Oe}=me.signal,Fe=V.ignoreFetchAbort&&qe!==void 0;if(V.status&&(Oe&&!Je?(V.status.fetchAborted=!0,V.status.fetchError=me.signal.reason,Fe&&(V.status.fetchAbortIgnored=!0)):V.status.fetchResolved=!0),Oe&&!Fe&&!Je)return xe(me.signal.reason);let it=Ve;return B(this,W)[R]===Ve&&(qe===void 0?it.__staleWhileFetching?B(this,W)[R]=it.__staleWhileFetching:this.delete(w):(V.status&&(V.status.fetchUpdated=!0),this.set(w,qe,ke.options))),qe},tt=qe=>(V.status&&(V.status.fetchRejected=!0,V.status.fetchError=qe),xe(qe)),xe=qe=>{let{aborted:Je}=me.signal,Oe=Je&&V.allowStaleOnFetchAbort,Fe=Oe||V.allowStaleOnFetchRejection,it=Fe||V.noDeleteOnFetchRejection,Ye=Ve;if(B(this,W)[R]===Ve&&(!it||Ye.__staleWhileFetching===void 0?this.delete(w):Oe||(B(this,W)[R]=Ye.__staleWhileFetching)),Fe)return V.status&&Ye.__staleWhileFetching!==void 0&&(V.status.returnedStale=!0),Ye.__staleWhileFetching;if(Ye.__returned===Ye)throw qe},rt=(qe,Je)=>{var Fe;let Oe=(Fe=B(this,U))==null?void 0:Fe.call(this,w,re,ke);Oe&&Oe instanceof Promise&&Oe.then(it=>qe(it===void 0?void 0:it),Je),me.signal.addEventListener("abort",()=>{(!V.ignoreFetchAbort||V.allowStaleOnFetchAbort)&&(qe(void 0),V.allowStaleOnFetchAbort&&(qe=it=>$e(it,!0)))})};V.status&&(V.status.fetchDispatched=!0);let Ve=new Promise(rt).then($e,tt),He=Object.assign(Ve,{__abortController:me,__staleWhileFetching:re,__returned:void 0});return R===void 0?(this.set(w,He,{...ke.options,status:void 0}),R=B(this,M).get(w)):B(this,W)[R]=He,He},_e=new WeakSet,Ue=function(w){if(!B(this,ie))return!1;let R=w;return!!R&&R instanceof Promise&&R.hasOwnProperty("__staleWhileFetching")&&R.__abortController instanceof s},Re=new WeakSet,vn=function(w,R){B(this,ae)[R]=w,B(this,Q)[w]=R},u=new WeakSet,br=function(w){w!==B(this,$)&&(w===B(this,I)?Te(this,I,B(this,Q)[w]):Ie(this,Re,vn).call(this,B(this,ae)[w],B(this,Q)[w]),Ie(this,Re,vn).call(this,B(this,$),w),Te(this,$,w))},_);e.LRUCache=g}),Pt=ye(e=>{se(),oe(),ne(),Object.defineProperty(e,"t",{value:!0}),e.ContainerIterator=e.Container=e.Base=void 0;var n=class{constructor(h=0){this.iteratorType=h}equals(h){return this.o===h.o}};e.ContainerIterator=n;var t=class{constructor(){this.i=0}get length(){return this.i}size(){return this.i}empty(){return this.i===0}};e.Base=t;var l=class extends t{};e.Container=l}),Pl=ye(e=>{se(),oe(),ne(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var n=Pt(),t=class extends n.Base{constructor(h=[]){super(),this.S=[];let s=this;h.forEach(function(r){s.push(r)})}clear(){this.i=0,this.S=[]}push(h){return this.S.push(h),this.i+=1,this.i}pop(){if(this.i!==0)return this.i-=1,this.S.pop()}top(){return this.S[this.i-1]}},l=t;e.default=l}),Bl=ye(e=>{se(),oe(),ne(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var n=Pt(),t=class extends n.Base{constructor(h=[]){super(),this.j=0,this.q=[];let s=this;h.forEach(function(r){s.push(r)})}clear(){this.q=[],this.i=this.j=0}push(h){let s=this.q.length;if(this.j/s>.5&&this.j+this.i>=s&&s>4096){let r=this.i;for(let o=0;o<r;++o)this.q[o]=this.q[this.j+o];this.j=0,this.q[this.i]=h}else this.q[this.j+this.i]=h;return++this.i}pop(){if(this.i===0)return;let h=this.q[this.j++];return this.i-=1,h}front(){if(this.i!==0)return this.q[this.j]}},l=t;e.default=l}),xl=ye(e=>{se(),oe(),ne(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var n=Pt(),t=class extends n.Base{constructor(h=[],s=function(o,i){return o>i?-1:o<i?1:0},r=!0){if(super(),this.v=s,Array.isArray(h))this.C=r?[...h]:h;else{this.C=[];let i=this;h.forEach(function(a){i.C.push(a)})}this.i=this.C.length;let o=this.i>>1;for(let i=this.i-1>>1;i>=0;--i)this.k(i,o)}m(h){let s=this.C[h];for(;h>0;){let r=h-1>>1,o=this.C[r];if(this.v(o,s)<=0)break;this.C[h]=o,h=r}this.C[h]=s}k(h,s){let r=this.C[h];for(;h<s;){let o=h<<1|1,i=o+1,a=this.C[o];if(i<this.i&&this.v(a,this.C[i])>0&&(o=i,a=this.C[i]),this.v(a,r)>=0)break;this.C[h]=a,h=o}this.C[h]=r}clear(){this.i=0,this.C.length=0}push(h){this.C.push(h),this.m(this.i),this.i+=1}pop(){if(this.i===0)return;let h=this.C[0],s=this.C.pop();return this.i-=1,this.i&&(this.C[0]=s,this.k(0,this.i>>1)),h}top(){return this.C[0]}find(h){return this.C.indexOf(h)>=0}remove(h){let s=this.C.indexOf(h);return s<0?!1:(s===0?this.pop():s===this.i-1?(this.C.pop(),this.i-=1):(this.C.splice(s,1,this.C.pop()),this.i-=1,this.m(s),this.k(s,this.i>>1)),!0)}updateItem(h){let s=this.C.indexOf(h);return s<0?!1:(this.m(s),this.k(s,this.i>>1),!0)}toArray(){return[...this.C]}},l=t;e.default=l}),jn=ye(e=>{se(),oe(),ne(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var n=Pt(),t=class extends n.Container{},l=t;e.default=l}),Bt=ye(e=>{se(),oe(),ne(),Object.defineProperty(e,"t",{value:!0}),e.throwIteratorAccessError=n;function n(){throw new RangeError("Iterator access denied!")}}),Is=ye(e=>{se(),oe(),ne(),Object.defineProperty(e,"t",{value:!0}),e.RandomIterator=void 0;var n=Pt(),t=Bt(),l=class extends n.ContainerIterator{constructor(h,s){super(s),this.o=h,this.iteratorType===0?(this.pre=function(){return this.o===0&&(0,t.throwIteratorAccessError)(),this.o-=1,this},this.next=function(){return this.o===this.container.size()&&(0,t.throwIteratorAccessError)(),this.o+=1,this}):(this.pre=function(){return this.o===this.container.size()-1&&(0,t.throwIteratorAccessError)(),this.o+=1,this},this.next=function(){return this.o===-1&&(0,t.throwIteratorAccessError)(),this.o-=1,this})}get pointer(){return this.container.getElementByPos(this.o)}set pointer(h){this.container.setElementByPos(this.o,h)}};e.RandomIterator=l}),Ml=ye(e=>{se(),oe(),ne(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var n=l(jn()),t=Is();function l(o){return o&&o.t?o:{default:o}}var h=class Ts extends t.RandomIterator{constructor(i,a,c){super(i,c),this.container=a}copy(){return new Ts(this.o,this.container,this.iteratorType)}},s=class extends n.default{constructor(o=[],i=!0){if(super(),Array.isArray(o))this.J=i?[...o]:o,this.i=o.length;else{this.J=[];let a=this;o.forEach(function(c){a.pushBack(c)})}}clear(){this.i=0,this.J.length=0}begin(){return new h(0,this)}end(){return new h(this.i,this)}rBegin(){return new h(this.i-1,this,1)}rEnd(){return new h(-1,this,1)}front(){return this.J[0]}back(){return this.J[this.i-1]}getElementByPos(o){if(o<0||o>this.i-1)throw new RangeError;return this.J[o]}eraseElementByPos(o){if(o<0||o>this.i-1)throw new RangeError;return this.J.splice(o,1),this.i-=1,this.i}eraseElementByValue(o){let i=0;for(let a=0;a<this.i;++a)this.J[a]!==o&&(this.J[i++]=this.J[a]);return this.i=this.J.length=i,this.i}eraseElementByIterator(o){let i=o.o;return o=o.next(),this.eraseElementByPos(i),o}pushBack(o){return this.J.push(o),this.i+=1,this.i}popBack(){if(this.i!==0)return this.i-=1,this.J.pop()}setElementByPos(o,i){if(o<0||o>this.i-1)throw new RangeError;this.J[o]=i}insert(o,i,a=1){if(o<0||o>this.i)throw new RangeError;return this.J.splice(o,0,...new Array(a).fill(i)),this.i+=a,this.i}find(o){for(let i=0;i<this.i;++i)if(this.J[i]===o)return new h(i,this);return this.end()}reverse(){this.J.reverse()}unique(){let o=1;for(let i=1;i<this.i;++i)this.J[i]!==this.J[i-1]&&(this.J[o++]=this.J[i]);return this.i=this.J.length=o,this.i}sort(o){this.J.sort(o)}forEach(o){for(let i=0;i<this.i;++i)o(this.J[i],i,this)}[Symbol.iterator](){return(function*(){yield*this.J}).bind(this)()}},r=s;e.default=r}),Ul=ye(e=>{se(),oe(),ne(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var n=h(jn()),t=Pt(),l=Bt();function h(i){return i&&i.t?i:{default:i}}var s=class ks extends t.ContainerIterator{constructor(a,c,p,g){super(g),this.o=a,this.h=c,this.container=p,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.L,this})}get pointer(){return this.o===this.h&&(0,l.throwIteratorAccessError)(),this.o.l}set pointer(a){this.o===this.h&&(0,l.throwIteratorAccessError)(),this.o.l=a}copy(){return new ks(this.o,this.h,this.container,this.iteratorType)}},r=class extends n.default{constructor(i=[]){super(),this.h={},this.p=this._=this.h.L=this.h.B=this.h;let a=this;i.forEach(function(c){a.pushBack(c)})}V(i){let{L:a,B:c}=i;a.B=c,c.L=a,i===this.p&&(this.p=c),i===this._&&(this._=a),this.i-=1}G(i,a){let c=a.B,p={l:i,L:a,B:c};a.B=p,c.L=p,a===this.h&&(this.p=p),c===this.h&&(this._=p),this.i+=1}clear(){this.i=0,this.p=this._=this.h.L=this.h.B=this.h}begin(){return new s(this.p,this.h,this)}end(){return new s(this.h,this.h,this)}rBegin(){return new s(this._,this.h,this,1)}rEnd(){return new s(this.h,this.h,this,1)}front(){return this.p.l}back(){return this._.l}getElementByPos(i){if(i<0||i>this.i-1)throw new RangeError;let a=this.p;for(;i--;)a=a.B;return a.l}eraseElementByPos(i){if(i<0||i>this.i-1)throw new RangeError;let a=this.p;for(;i--;)a=a.B;return this.V(a),this.i}eraseElementByValue(i){let a=this.p;for(;a!==this.h;)a.l===i&&this.V(a),a=a.B;return this.i}eraseElementByIterator(i){let a=i.o;return a===this.h&&(0,l.throwIteratorAccessError)(),i=i.next(),this.V(a),i}pushBack(i){return this.G(i,this._),this.i}popBack(){if(this.i===0)return;let i=this._.l;return this.V(this._),i}pushFront(i){return this.G(i,this.h),this.i}popFront(){if(this.i===0)return;let i=this.p.l;return this.V(this.p),i}setElementByPos(i,a){if(i<0||i>this.i-1)throw new RangeError;let c=this.p;for(;i--;)c=c.B;c.l=a}insert(i,a,c=1){if(i<0||i>this.i)throw new RangeError;if(c<=0)return this.i;if(i===0)for(;c--;)this.pushFront(a);else if(i===this.i)for(;c--;)this.pushBack(a);else{let p=this.p;for(let b=1;b<i;++b)p=p.B;let g=p.B;for(this.i+=c;c--;)p.B={l:a,L:p},p.B.L=p,p=p.B;p.B=g,g.L=p}return this.i}find(i){let a=this.p;for(;a!==this.h;){if(a.l===i)return new s(a,this.h,this);a=a.B}return this.end()}reverse(){if(this.i<=1)return;let i=this.p,a=this._,c=0;for(;c<<1<this.i;){let p=i.l;i.l=a.l,a.l=p,i=i.B,a=a.L,c+=1}}unique(){if(this.i<=1)return this.i;let i=this.p;for(;i!==this.h;){let a=i;for(;a.B!==this.h&&a.l===a.B.l;)a=a.B,this.i-=1;i.B=a.B,i.B.L=i,i=i.B}return this.i}sort(i){if(this.i<=1)return;let a=[];this.forEach(function(p){a.push(p)}),a.sort(i);let c=this.p;a.forEach(function(p){c.l=p,c=c.B})}merge(i){let a=this;if(this.i===0)i.forEach(function(c){a.pushBack(c)});else{let c=this.p;i.forEach(function(p){for(;c!==a.h&&c.l<=p;)c=c.B;a.G(p,c.L)})}return this.i}forEach(i){let a=this.p,c=0;for(;a!==this.h;)i(a.l,c++,this),a=a.B}[Symbol.iterator](){return(function*(){if(this.i===0)return;let i=this.p;for(;i!==this.h;)yield i.l,i=i.B}).bind(this)()}},o=r;e.default=o}),Ll=ye(e=>{se(),oe(),ne(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var n=l(jn()),t=Is();function l(o){return o&&o.t?o:{default:o}}var h=class Os extends t.RandomIterator{constructor(i,a,c){super(i,c),this.container=a}copy(){return new Os(this.o,this.container,this.iteratorType)}},s=class extends n.default{constructor(o=[],i=4096){super(),this.j=0,this.D=0,this.R=0,this.N=0,this.P=0,this.A=[];let a=(()=>{if(typeof o.length=="number")return o.length;if(typeof o.size=="number")return o.size;if(typeof o.size=="function")return o.size();throw new TypeError("Cannot get the length or size of the container")})();this.F=i,this.P=Math.max(Math.ceil(a/this.F),1);for(let g=0;g<this.P;++g)this.A.push(new Array(this.F));let c=Math.ceil(a/this.F);this.j=this.R=(this.P>>1)-(c>>1),this.D=this.N=this.F-a%this.F>>1;let p=this;o.forEach(function(g){p.pushBack(g)})}T(){let o=[],i=Math.max(this.P>>1,1);for(let a=0;a<i;++a)o[a]=new Array(this.F);for(let a=this.j;a<this.P;++a)o[o.length]=this.A[a];for(let a=0;a<this.R;++a)o[o.length]=this.A[a];o[o.length]=[...this.A[this.R]],this.j=i,this.R=o.length-1;for(let a=0;a<i;++a)o[o.length]=new Array(this.F);this.A=o,this.P=o.length}O(o){let i=this.D+o+1,a=i%this.F,c=a-1,p=this.j+(i-a)/this.F;return a===0&&(p-=1),p%=this.P,c<0&&(c+=this.F),{curNodeBucketIndex:p,curNodePointerIndex:c}}clear(){this.A=[new Array(this.F)],this.P=1,this.j=this.R=this.i=0,this.D=this.N=this.F>>1}begin(){return new h(0,this)}end(){return new h(this.i,this)}rBegin(){return new h(this.i-1,this,1)}rEnd(){return new h(-1,this,1)}front(){if(this.i!==0)return this.A[this.j][this.D]}back(){if(this.i!==0)return this.A[this.R][this.N]}pushBack(o){return this.i&&(this.N<this.F-1?this.N+=1:this.R<this.P-1?(this.R+=1,this.N=0):(this.R=0,this.N=0),this.R===this.j&&this.N===this.D&&this.T()),this.i+=1,this.A[this.R][this.N]=o,this.i}popBack(){if(this.i===0)return;let o=this.A[this.R][this.N];return this.i!==1&&(this.N>0?this.N-=1:this.R>0?(this.R-=1,this.N=this.F-1):(this.R=this.P-1,this.N=this.F-1)),this.i-=1,o}pushFront(o){return this.i&&(this.D>0?this.D-=1:this.j>0?(this.j-=1,this.D=this.F-1):(this.j=this.P-1,this.D=this.F-1),this.j===this.R&&this.D===this.N&&this.T()),this.i+=1,this.A[this.j][this.D]=o,this.i}popFront(){if(this.i===0)return;let o=this.A[this.j][this.D];return this.i!==1&&(this.D<this.F-1?this.D+=1:this.j<this.P-1?(this.j+=1,this.D=0):(this.j=0,this.D=0)),this.i-=1,o}getElementByPos(o){if(o<0||o>this.i-1)throw new RangeError;let{curNodeBucketIndex:i,curNodePointerIndex:a}=this.O(o);return this.A[i][a]}setElementByPos(o,i){if(o<0||o>this.i-1)throw new RangeError;let{curNodeBucketIndex:a,curNodePointerIndex:c}=this.O(o);this.A[a][c]=i}insert(o,i,a=1){if(o<0||o>this.i)throw new RangeError;if(o===0)for(;a--;)this.pushFront(i);else if(o===this.i)for(;a--;)this.pushBack(i);else{let c=[];for(let p=o;p<this.i;++p)c.push(this.getElementByPos(p));this.cut(o-1);for(let p=0;p<a;++p)this.pushBack(i);for(let p=0;p<c.length;++p)this.pushBack(c[p])}return this.i}cut(o){if(o<0)return this.clear(),0;let{curNodeBucketIndex:i,curNodePointerIndex:a}=this.O(o);return this.R=i,this.N=a,this.i=o+1,this.i}eraseElementByPos(o){if(o<0||o>this.i-1)throw new RangeError;if(o===0)this.popFront();else if(o===this.i-1)this.popBack();else{let i=[];for(let c=o+1;c<this.i;++c)i.push(this.getElementByPos(c));this.cut(o),this.popBack();let a=this;i.forEach(function(c){a.pushBack(c)})}return this.i}eraseElementByValue(o){if(this.i===0)return 0;let i=[];for(let c=0;c<this.i;++c){let p=this.getElementByPos(c);p!==o&&i.push(p)}let a=i.length;for(let c=0;c<a;++c)this.setElementByPos(c,i[c]);return this.cut(a-1)}eraseElementByIterator(o){let i=o.o;return this.eraseElementByPos(i),o=o.next(),o}find(o){for(let i=0;i<this.i;++i)if(this.getElementByPos(i)===o)return new h(i,this);return this.end()}reverse(){let o=0,i=this.i-1;for(;o<i;){let a=this.getElementByPos(o);this.setElementByPos(o,this.getElementByPos(i)),this.setElementByPos(i,a),o+=1,i-=1}}unique(){if(this.i<=1)return this.i;let o=1,i=this.getElementByPos(0);for(let a=1;a<this.i;++a){let c=this.getElementByPos(a);c!==i&&(i=c,this.setElementByPos(o++,c))}for(;this.i>o;)this.popBack();return this.i}sort(o){let i=[];for(let a=0;a<this.i;++a)i.push(this.getElementByPos(a));i.sort(o);for(let a=0;a<this.i;++a)this.setElementByPos(a,i[a])}shrinkToFit(){if(this.i===0)return;let o=[];this.forEach(function(i){o.push(i)}),this.P=Math.max(Math.ceil(this.i/this.F),1),this.i=this.j=this.R=this.D=this.N=0,this.A=[];for(let i=0;i<this.P;++i)this.A.push(new Array(this.F));for(let i=0;i<o.length;++i)this.pushBack(o[i])}forEach(o){for(let i=0;i<this.i;++i)o(this.getElementByPos(i),i,this)}[Symbol.iterator](){return(function*(){for(let o=0;o<this.i;++o)yield this.getElementByPos(o)}).bind(this)()}},r=s;e.default=r}),Nl=ye(e=>{se(),oe(),ne(),Object.defineProperty(e,"t",{value:!0}),e.TreeNodeEnableIndex=e.TreeNode=void 0;var n=class{constructor(l,h){this.ee=1,this.u=void 0,this.l=void 0,this.U=void 0,this.W=void 0,this.tt=void 0,this.u=l,this.l=h}L(){let l=this;if(l.ee===1&&l.tt.tt===l)l=l.W;else if(l.U)for(l=l.U;l.W;)l=l.W;else{let h=l.tt;for(;h.U===l;)l=h,h=l.tt;l=h}return l}B(){let l=this;if(l.W){for(l=l.W;l.U;)l=l.U;return l}else{let h=l.tt;for(;h.W===l;)l=h,h=l.tt;return l.W!==h?h:l}}te(){let l=this.tt,h=this.W,s=h.U;return l.tt===this?l.tt=h:l.U===this?l.U=h:l.W=h,h.tt=l,h.U=this,this.tt=h,this.W=s,s&&(s.tt=this),h}se(){let l=this.tt,h=this.U,s=h.W;return l.tt===this?l.tt=h:l.U===this?l.U=h:l.W=h,h.tt=l,h.W=this,this.tt=h,this.U=s,s&&(s.tt=this),h}};e.TreeNode=n;var t=class extends n{constructor(){super(...arguments),this.rt=1}te(){let l=super.te();return this.ie(),l.ie(),l}se(){let l=super.se();return this.ie(),l.ie(),l}ie(){this.rt=1,this.U&&(this.rt+=this.U.rt),this.W&&(this.rt+=this.W.rt)}};e.TreeNodeEnableIndex=t}),Cs=ye(e=>{se(),oe(),ne(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var n=Nl(),t=Pt(),l=Bt(),h=class extends t.Container{constructor(r=function(i,a){return i<a?-1:i>a?1:0},o=!1){super(),this.Y=void 0,this.v=r,o?(this.re=n.TreeNodeEnableIndex,this.M=function(i,a,c){let p=this.ne(i,a,c);if(p){let g=p.tt;for(;g!==this.h;)g.rt+=1,g=g.tt;let b=this.he(p);if(b){let{parentNode:m,grandParent:y,curNode:T}=b;m.ie(),y.ie(),T.ie()}}return this.i},this.V=function(i){let a=this.fe(i);for(;a!==this.h;)a.rt-=1,a=a.tt}):(this.re=n.TreeNode,this.M=function(i,a,c){let p=this.ne(i,a,c);return p&&this.he(p),this.i},this.V=this.fe),this.h=new this.re}X(r,o){let i=this.h;for(;r;){let a=this.v(r.u,o);if(a<0)r=r.W;else if(a>0)i=r,r=r.U;else return r}return i}Z(r,o){let i=this.h;for(;r;)this.v(r.u,o)<=0?r=r.W:(i=r,r=r.U);return i}$(r,o){let i=this.h;for(;r;){let a=this.v(r.u,o);if(a<0)i=r,r=r.W;else if(a>0)r=r.U;else return r}return i}rr(r,o){let i=this.h;for(;r;)this.v(r.u,o)<0?(i=r,r=r.W):r=r.U;return i}ue(r){for(;;){let o=r.tt;if(o===this.h)return;if(r.ee===1){r.ee=0;return}if(r===o.U){let i=o.W;if(i.ee===1)i.ee=0,o.ee=1,o===this.Y?this.Y=o.te():o.te();else if(i.W&&i.W.ee===1){i.ee=o.ee,o.ee=0,i.W.ee=0,o===this.Y?this.Y=o.te():o.te();return}else i.U&&i.U.ee===1?(i.ee=1,i.U.ee=0,i.se()):(i.ee=1,r=o)}else{let i=o.U;if(i.ee===1)i.ee=0,o.ee=1,o===this.Y?this.Y=o.se():o.se();else if(i.U&&i.U.ee===1){i.ee=o.ee,o.ee=0,i.U.ee=0,o===this.Y?this.Y=o.se():o.se();return}else i.W&&i.W.ee===1?(i.ee=1,i.W.ee=0,i.te()):(i.ee=1,r=o)}}}fe(r){if(this.i===1)return this.clear(),this.h;let o=r;for(;o.U||o.W;){if(o.W)for(o=o.W;o.U;)o=o.U;else o=o.U;[r.u,o.u]=[o.u,r.u],[r.l,o.l]=[o.l,r.l],r=o}this.h.U===o?this.h.U=o.tt:this.h.W===o&&(this.h.W=o.tt),this.ue(o);let i=o.tt;return o===i.U?i.U=void 0:i.W=void 0,this.i-=1,this.Y.ee=0,i}oe(r,o){return r===void 0?!1:this.oe(r.U,o)||o(r)?!0:this.oe(r.W,o)}he(r){for(;;){let o=r.tt;if(o.ee===0)return;let i=o.tt;if(o===i.U){let a=i.W;if(a&&a.ee===1){if(a.ee=o.ee=0,i===this.Y)return;i.ee=1,r=i;continue}else if(r===o.W){if(r.ee=0,r.U&&(r.U.tt=o),r.W&&(r.W.tt=i),o.W=r.U,i.U=r.W,r.U=o,r.W=i,i===this.Y)this.Y=r,this.h.tt=r;else{let c=i.tt;c.U===i?c.U=r:c.W=r}return r.tt=i.tt,o.tt=r,i.tt=r,i.ee=1,{parentNode:o,grandParent:i,curNode:r}}else o.ee=0,i===this.Y?this.Y=i.se():i.se(),i.ee=1}else{let a=i.U;if(a&&a.ee===1){if(a.ee=o.ee=0,i===this.Y)return;i.ee=1,r=i;continue}else if(r===o.U){if(r.ee=0,r.U&&(r.U.tt=i),r.W&&(r.W.tt=o),i.W=r.U,o.U=r.W,r.U=i,r.W=o,i===this.Y)this.Y=r,this.h.tt=r;else{let c=i.tt;c.U===i?c.U=r:c.W=r}return r.tt=i.tt,o.tt=r,i.tt=r,i.ee=1,{parentNode:o,grandParent:i,curNode:r}}else o.ee=0,i===this.Y?this.Y=i.te():i.te(),i.ee=1}return}}ne(r,o,i){if(this.Y===void 0){this.i+=1,this.Y=new this.re(r,o),this.Y.ee=0,this.Y.tt=this.h,this.h.tt=this.Y,this.h.U=this.Y,this.h.W=this.Y;return}let a,c=this.h.U,p=this.v(c.u,r);if(p===0){c.l=o;return}else if(p>0)c.U=new this.re(r,o),c.U.tt=c,a=c.U,this.h.U=a;else{let g=this.h.W,b=this.v(g.u,r);if(b===0){g.l=o;return}else if(b<0)g.W=new this.re(r,o),g.W.tt=g,a=g.W,this.h.W=a;else{if(i!==void 0){let m=i.o;if(m!==this.h){let y=this.v(m.u,r);if(y===0){m.l=o;return}else if(y>0){let T=m.L(),L=this.v(T.u,r);if(L===0){T.l=o;return}else L<0&&(a=new this.re(r,o),T.W===void 0?(T.W=a,a.tt=T):(m.U=a,a.tt=m))}}}if(a===void 0)for(a=this.Y;;){let m=this.v(a.u,r);if(m>0){if(a.U===void 0){a.U=new this.re(r,o),a.U.tt=a,a=a.U;break}a=a.U}else if(m<0){if(a.W===void 0){a.W=new this.re(r,o),a.W.tt=a,a=a.W;break}a=a.W}else{a.l=o;return}}}}return this.i+=1,a}I(r,o){for(;r;){let i=this.v(r.u,o);if(i<0)r=r.W;else if(i>0)r=r.U;else return r}return r||this.h}clear(){this.i=0,this.Y=void 0,this.h.tt=void 0,this.h.U=this.h.W=void 0}updateKeyByIterator(r,o){let i=r.o;if(i===this.h&&(0,l.throwIteratorAccessError)(),this.i===1)return i.u=o,!0;if(i===this.h.U)return this.v(i.B().u,o)>0?(i.u=o,!0):!1;if(i===this.h.W)return this.v(i.L().u,o)<0?(i.u=o,!0):!1;let a=i.L().u;if(this.v(a,o)>=0)return!1;let c=i.B().u;return this.v(c,o)<=0?!1:(i.u=o,!0)}eraseElementByPos(r){if(r<0||r>this.i-1)throw new RangeError;let o=0,i=this;return this.oe(this.Y,function(a){return r===o?(i.V(a),!0):(o+=1,!1)}),this.i}eraseElementByKey(r){if(this.i===0)return!1;let o=this.I(this.Y,r);return o===this.h?!1:(this.V(o),!0)}eraseElementByIterator(r){let o=r.o;o===this.h&&(0,l.throwIteratorAccessError)();let i=o.W===void 0;return r.iteratorType===0?i&&r.next():(!i||o.U===void 0)&&r.next(),this.V(o),r}forEach(r){let o=0;for(let i of this)r(i,o++,this)}getElementByPos(r){if(r<0||r>this.i-1)throw new RangeError;let o,i=0;for(let a of this){if(i===r){o=a;break}i+=1}return o}getHeight(){if(this.i===0)return 0;let r=function(o){return o?Math.max(r(o.U),r(o.W))+1:0};return r(this.Y)}},s=h;e.default=s}),Rs=ye(e=>{se(),oe(),ne(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var n=Pt(),t=Bt(),l=class extends n.ContainerIterator{constructor(s,r,o){super(o),this.o=s,this.h=r,this.iteratorType===0?(this.pre=function(){return this.o===this.h.U&&(0,t.throwIteratorAccessError)(),this.o=this.o.L(),this},this.next=function(){return this.o===this.h&&(0,t.throwIteratorAccessError)(),this.o=this.o.B(),this}):(this.pre=function(){return this.o===this.h.W&&(0,t.throwIteratorAccessError)(),this.o=this.o.B(),this},this.next=function(){return this.o===this.h&&(0,t.throwIteratorAccessError)(),this.o=this.o.L(),this})}get index(){let s=this.o,r=this.h.tt;if(s===this.h)return r?r.rt-1:0;let o=0;for(s.U&&(o+=s.U.rt);s!==r;){let i=s.tt;s===i.W&&(o+=1,i.U&&(o+=i.U.rt)),s=i}return o}},h=l;e.default=h}),jl=ye(e=>{se(),oe(),ne(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var n=h(Cs()),t=h(Rs()),l=Bt();function h(i){return i&&i.t?i:{default:i}}var s=class Ps extends t.default{constructor(a,c,p,g){super(a,c,g),this.container=p}get pointer(){return this.o===this.h&&(0,l.throwIteratorAccessError)(),this.o.u}copy(){return new Ps(this.o,this.h,this.container,this.iteratorType)}},r=class extends n.default{constructor(i=[],a,c){super(a,c);let p=this;i.forEach(function(g){p.insert(g)})}*K(i){i!==void 0&&(yield*this.K(i.U),yield i.u,yield*this.K(i.W))}begin(){return new s(this.h.U||this.h,this.h,this)}end(){return new s(this.h,this.h,this)}rBegin(){return new s(this.h.W||this.h,this.h,this,1)}rEnd(){return new s(this.h,this.h,this,1)}front(){return this.h.U?this.h.U.u:void 0}back(){return this.h.W?this.h.W.u:void 0}insert(i,a){return this.M(i,void 0,a)}find(i){let a=this.I(this.Y,i);return new s(a,this.h,this)}lowerBound(i){let a=this.X(this.Y,i);return new s(a,this.h,this)}upperBound(i){let a=this.Z(this.Y,i);return new s(a,this.h,this)}reverseLowerBound(i){let a=this.$(this.Y,i);return new s(a,this.h,this)}reverseUpperBound(i){let a=this.rr(this.Y,i);return new s(a,this.h,this)}union(i){let a=this;return i.forEach(function(c){a.insert(c)}),this.i}[Symbol.iterator](){return this.K(this.Y)}},o=r;e.default=o}),Dl=ye(e=>{se(),oe(),ne(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var n=h(Cs()),t=h(Rs()),l=Bt();function h(i){return i&&i.t?i:{default:i}}var s=class Bs extends t.default{constructor(a,c,p,g){super(a,c,g),this.container=p}get pointer(){this.o===this.h&&(0,l.throwIteratorAccessError)();let a=this;return new Proxy([],{get(c,p){if(p==="0")return a.o.u;if(p==="1")return a.o.l},set(c,p,g){if(p!=="1")throw new TypeError("props must be 1");return a.o.l=g,!0}})}copy(){return new Bs(this.o,this.h,this.container,this.iteratorType)}},r=class extends n.default{constructor(i=[],a,c){super(a,c);let p=this;i.forEach(function(g){p.setElement(g[0],g[1])})}*K(i){i!==void 0&&(yield*this.K(i.U),yield[i.u,i.l],yield*this.K(i.W))}begin(){return new s(this.h.U||this.h,this.h,this)}end(){return new s(this.h,this.h,this)}rBegin(){return new s(this.h.W||this.h,this.h,this,1)}rEnd(){return new s(this.h,this.h,this,1)}front(){if(this.i===0)return;let i=this.h.U;return[i.u,i.l]}back(){if(this.i===0)return;let i=this.h.W;return[i.u,i.l]}lowerBound(i){let a=this.X(this.Y,i);return new s(a,this.h,this)}upperBound(i){let a=this.Z(this.Y,i);return new s(a,this.h,this)}reverseLowerBound(i){let a=this.$(this.Y,i);return new s(a,this.h,this)}reverseUpperBound(i){let a=this.rr(this.Y,i);return new s(a,this.h,this)}setElement(i,a,c){return this.M(i,a,c)}find(i){let a=this.I(this.Y,i);return new s(a,this.h,this)}getElementByKey(i){return this.I(this.Y,i).l}union(i){let a=this;return i.forEach(function(c){a.setElement(c[0],c[1])}),this.i}[Symbol.iterator](){return this.K(this.Y)}},o=r;e.default=o}),xs=ye(e=>{se(),oe(),ne(),Object.defineProperty(e,"t",{value:!0}),e.default=n;function n(t){let l=typeof t;return l==="object"&&t!==null||l==="function"}}),Ms=ye(e=>{se(),oe(),ne(),Object.defineProperty(e,"t",{value:!0}),e.HashContainerIterator=e.HashContainer=void 0;var n=Pt(),t=h(xs()),l=Bt();function h(o){return o&&o.t?o:{default:o}}var s=class extends n.ContainerIterator{constructor(o,i,a){super(a),this.o=o,this.h=i,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.L,this})}};e.HashContainerIterator=s;var r=class extends n.Container{constructor(){super(),this.H=[],this.g={},this.HASH_TAG=Symbol("@@HASH_TAG"),Object.setPrototypeOf(this.g,null),this.h={},this.h.L=this.h.B=this.p=this._=this.h}V(o){let{L:i,B:a}=o;i.B=a,a.L=i,o===this.p&&(this.p=a),o===this._&&(this._=i),this.i-=1}M(o,i,a){a===void 0&&(a=(0,t.default)(o));let c;if(a){let p=o[this.HASH_TAG];if(p!==void 0)return this.H[p].l=i,this.i;Object.defineProperty(o,this.HASH_TAG,{value:this.H.length,configurable:!0}),c={u:o,l:i,L:this._,B:this.h},this.H.push(c)}else{let p=this.g[o];if(p)return p.l=i,this.i;c={u:o,l:i,L:this._,B:this.h},this.g[o]=c}return this.i===0?(this.p=c,this.h.B=c):this._.B=c,this._=c,this.h.L=c,++this.i}I(o,i){if(i===void 0&&(i=(0,t.default)(o)),i){let a=o[this.HASH_TAG];return a===void 0?this.h:this.H[a]}else return this.g[o]||this.h}clear(){let o=this.HASH_TAG;this.H.forEach(function(i){delete i.u[o]}),this.H=[],this.g={},Object.setPrototypeOf(this.g,null),this.i=0,this.p=this._=this.h.L=this.h.B=this.h}eraseElementByKey(o,i){let a;if(i===void 0&&(i=(0,t.default)(o)),i){let c=o[this.HASH_TAG];if(c===void 0)return!1;delete o[this.HASH_TAG],a=this.H[c],delete this.H[c]}else{if(a=this.g[o],a===void 0)return!1;delete this.g[o]}return this.V(a),!0}eraseElementByIterator(o){let i=o.o;return i===this.h&&(0,l.throwIteratorAccessError)(),this.V(i),o.next()}eraseElementByPos(o){if(o<0||o>this.i-1)throw new RangeError;let i=this.p;for(;o--;)i=i.B;return this.V(i),this.i}};e.HashContainer=r}),Fl=ye(e=>{se(),oe(),ne(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var n=Ms(),t=Bt(),l=class Us extends n.HashContainerIterator{constructor(o,i,a,c){super(o,i,c),this.container=a}get pointer(){return this.o===this.h&&(0,t.throwIteratorAccessError)(),this.o.u}copy(){return new Us(this.o,this.h,this.container,this.iteratorType)}},h=class extends n.HashContainer{constructor(r=[]){super();let o=this;r.forEach(function(i){o.insert(i)})}begin(){return new l(this.p,this.h,this)}end(){return new l(this.h,this.h,this)}rBegin(){return new l(this._,this.h,this,1)}rEnd(){return new l(this.h,this.h,this,1)}front(){return this.p.u}back(){return this._.u}insert(r,o){return this.M(r,void 0,o)}getElementByPos(r){if(r<0||r>this.i-1)throw new RangeError;let o=this.p;for(;r--;)o=o.B;return o.u}find(r,o){let i=this.I(r,o);return new l(i,this.h,this)}forEach(r){let o=0,i=this.p;for(;i!==this.h;)r(i.u,o++,this),i=i.B}[Symbol.iterator](){return(function*(){let r=this.p;for(;r!==this.h;)yield r.u,r=r.B}).bind(this)()}},s=h;e.default=s}),Wl=ye(e=>{se(),oe(),ne(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var n=Ms(),t=h(xs()),l=Bt();function h(i){return i&&i.t?i:{default:i}}var s=class Ls extends n.HashContainerIterator{constructor(a,c,p,g){super(a,c,g),this.container=p}get pointer(){this.o===this.h&&(0,l.throwIteratorAccessError)();let a=this;return new Proxy([],{get(c,p){if(p==="0")return a.o.u;if(p==="1")return a.o.l},set(c,p,g){if(p!=="1")throw new TypeError("props must be 1");return a.o.l=g,!0}})}copy(){return new Ls(this.o,this.h,this.container,this.iteratorType)}},r=class extends n.HashContainer{constructor(i=[]){super();let a=this;i.forEach(function(c){a.setElement(c[0],c[1])})}begin(){return new s(this.p,this.h,this)}end(){return new s(this.h,this.h,this)}rBegin(){return new s(this._,this.h,this,1)}rEnd(){return new s(this.h,this.h,this,1)}front(){if(this.i!==0)return[this.p.u,this.p.l]}back(){if(this.i!==0)return[this._.u,this._.l]}setElement(i,a,c){return this.M(i,a,c)}getElementByKey(i,a){if(a===void 0&&(a=(0,t.default)(i)),a){let p=i[this.HASH_TAG];return p!==void 0?this.H[p].l:void 0}let c=this.g[i];return c?c.l:void 0}getElementByPos(i){if(i<0||i>this.i-1)throw new RangeError;let a=this.p;for(;i--;)a=a.B;return[a.u,a.l]}find(i,a){let c=this.I(i,a);return new s(c,this.h,this)}forEach(i){let a=0,c=this.p;for(;c!==this.h;)i([c.u,c.l],a++,this),c=c.B}[Symbol.iterator](){return(function*(){let i=this.p;for(;i!==this.h;)yield[i.u,i.l],i=i.B}).bind(this)()}},o=r;e.default=o}),$l=ye(e=>{se(),oe(),ne(),Object.defineProperty(e,"t",{value:!0}),Object.defineProperty(e,"Deque",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"HashMap",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"HashSet",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"LinkList",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"OrderedMap",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"OrderedSet",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"PriorityQueue",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"Queue",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"Stack",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"Vector",{enumerable:!0,get:function(){return h.default}});var n=p(Pl()),t=p(Bl()),l=p(xl()),h=p(Ml()),s=p(Ul()),r=p(Ll()),o=p(jl()),i=p(Dl()),a=p(Fl()),c=p(Wl());function p(g){return g&&g.t?g:{default:g}}}),ql=ye((e,n)=>{se(),oe(),ne();var t=$l().OrderedSet,l=Ct()("number-allocator:trace"),h=Ct()("number-allocator:error");function s(o,i){this.low=o,this.high=i}s.prototype.equals=function(o){return this.low===o.low&&this.high===o.high},s.prototype.compare=function(o){return this.low<o.low&&this.high<o.low?-1:o.low<this.low&&o.high<this.low?1:0};function r(o,i){if(!(this instanceof r))return new r(o,i);this.min=o,this.max=i,this.ss=new t([],(a,c)=>a.compare(c)),l("Create"),this.clear()}r.prototype.firstVacant=function(){return this.ss.size()===0?null:this.ss.front().low},r.prototype.alloc=function(){if(this.ss.size()===0)return l("alloc():empty"),null;let o=this.ss.begin(),i=o.pointer.low,a=o.pointer.high,c=i;return c+1<=a?this.ss.updateKeyByIterator(o,new s(i+1,a)):this.ss.eraseElementByPos(0),l("alloc():"+c),c},r.prototype.use=function(o){let i=new s(o,o),a=this.ss.lowerBound(i);if(!a.equals(this.ss.end())){let c=a.pointer.low,p=a.pointer.high;return a.pointer.equals(i)?(this.ss.eraseElementByIterator(a),l("use():"+o),!0):c>o?!1:c===o?(this.ss.updateKeyByIterator(a,new s(c+1,p)),l("use():"+o),!0):p===o?(this.ss.updateKeyByIterator(a,new s(c,p-1)),l("use():"+o),!0):(this.ss.updateKeyByIterator(a,new s(o+1,p)),this.ss.insert(new s(c,o-1)),l("use():"+o),!0)}return l("use():failed"),!1},r.prototype.free=function(o){if(o<this.min||o>this.max){h("free():"+o+" is out of range");return}let i=new s(o,o),a=this.ss.upperBound(i);if(a.equals(this.ss.end())){if(a.equals(this.ss.begin())){this.ss.insert(i);return}a.pre();let c=a.pointer.high;a.pointer.high+1===o?this.ss.updateKeyByIterator(a,new s(c,o)):this.ss.insert(i)}else if(a.equals(this.ss.begin()))if(o+1===a.pointer.low){let c=a.pointer.high;this.ss.updateKeyByIterator(a,new s(o,c))}else this.ss.insert(i);else{let c=a.pointer.low,p=a.pointer.high;a.pre();let g=a.pointer.low;a.pointer.high+1===o?o+1===c?(this.ss.eraseElementByIterator(a),this.ss.updateKeyByIterator(a,new s(g,p))):this.ss.updateKeyByIterator(a,new s(g,o)):o+1===c?(this.ss.eraseElementByIterator(a.next()),this.ss.insert(new s(o,p))):this.ss.insert(i)}l("free():"+o)},r.prototype.clear=function(){l("clear()"),this.ss.clear(),this.ss.insert(new s(this.min,this.max))},r.prototype.intervalCount=function(){return this.ss.size()},r.prototype.dump=function(){console.log("length:"+this.ss.size());for(let o of this.ss)console.log(o)},n.exports=r}),Ns=ye((e,n)=>{se(),oe(),ne();var t=ql();n.exports.NumberAllocator=t}),Vl=ye(e=>{se(),oe(),ne(),Object.defineProperty(e,"__esModule",{value:!0});var n=Rl(),t=Ns(),l=class{constructor(h){h>0&&(this.aliasToTopic=new n.LRUCache({max:h}),this.topicToAlias={},this.numberAllocator=new t.NumberAllocator(1,h),this.max=h,this.length=0)}put(h,s){if(s===0||s>this.max)return!1;let r=this.aliasToTopic.get(s);return r&&delete this.topicToAlias[r],this.aliasToTopic.set(s,h),this.topicToAlias[h]=s,this.numberAllocator.use(s),this.length=this.aliasToTopic.size,!0}getTopicByAlias(h){return this.aliasToTopic.get(h)}getAliasByTopic(h){let s=this.topicToAlias[h];return typeof s<"u"&&this.aliasToTopic.get(s),s}clear(){this.aliasToTopic.clear(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0}getLruAlias(){return this.numberAllocator.firstVacant()||[...this.aliasToTopic.keys()][this.aliasToTopic.size-1]}};e.default=l}),Hl=ye(e=>{se(),oe(),ne();var n=e&&e.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(e,"__esModule",{value:!0});var t=Vr(),l=n(Vl()),h=wr(),s=(r,o)=>{r.log("_handleConnack");let{options:i}=r,a=i.protocolVersion===5?o.reasonCode:o.returnCode;if(clearTimeout(r.connackTimer),delete r.topicAliasSend,o.properties){if(o.properties.topicAliasMaximum){if(o.properties.topicAliasMaximum>65535){r.emit("error",new Error("topicAliasMaximum from broker is out of range"));return}o.properties.topicAliasMaximum>0&&(r.topicAliasSend=new l.default(o.properties.topicAliasMaximum))}o.properties.serverKeepAlive&&i.keepalive&&(i.keepalive=o.properties.serverKeepAlive,r._shiftPingInterval()),o.properties.maximumPacketSize&&(i.properties||(i.properties={}),i.properties.maximumPacketSize=o.properties.maximumPacketSize)}if(a===0)r.reconnecting=!1,r._onConnect(o);else if(a>0){let c=new h.ErrorWithReasonCode(`Connection refused: ${t.ReasonCodes[a]}`,a);r.emit("error",c)}};e.default=s}),zl=ye(e=>{se(),oe(),ne(),Object.defineProperty(e,"__esModule",{value:!0});var n=(t,l,h)=>{t.log("handling pubrel packet");let s=typeof h<"u"?h:t.noop,{messageId:r}=l,o={cmd:"pubcomp",messageId:r};t.incomingStore.get(l,(i,a)=>{i?t._sendPacket(o,s):(t.emit("message",a.topic,a.payload,a),t.handleMessage(a,c=>{if(c)return s(c);t.incomingStore.del(a,t.noop),t._sendPacket(o,s)}))})};e.default=n}),Kl=ye(e=>{se(),oe(),ne();var n=e&&e.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(e,"__esModule",{value:!0});var t=n(Ol()),l=n(Cl()),h=n(Hl()),s=n(Vr()),r=n(zl()),o=(i,a,c)=>{let{options:p}=i;if(p.protocolVersion===5&&p.properties&&p.properties.maximumPacketSize&&p.properties.maximumPacketSize<a.length)return i.emit("error",new Error(`exceeding packets size ${a.cmd}`)),i.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),i;switch(i.log("_handlePacket :: emitting packetreceive"),i.emit("packetreceive",a),a.cmd){case"publish":(0,t.default)(i,a,c);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":(0,s.default)(i,a),c();break;case"pubrel":(0,r.default)(i,a,c);break;case"connack":(0,h.default)(i,a),c();break;case"auth":(0,l.default)(i,a),c();break;case"pingresp":i.pingResp=!0,c();break;case"disconnect":i.emit("disconnect",a),c();break;default:i.log("_handlePacket :: unknown command"),c();break}};e.default=o}),Gl=ye(e=>{se(),oe(),ne();var n=e&&e.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(e,"__esModule",{value:!0}),e.TypedEventEmitter=void 0;var t=n((lr(),Me(tr))),l=wr(),h=class{};e.TypedEventEmitter=h,(0,l.applyMixin)(h,t.default)}),Yl=ye((e,n)=>{se(),oe(),ne(),function(t,l){typeof e=="object"&&typeof n<"u"?l(e):typeof define=="function"&&define.amd?define(["exports"],l):(t=typeof globalThis<"u"?globalThis:t||self,l(t.fastUniqueNumbers={}))}(e,function(t){var l=function(b){return function(m){var y=b(m);return m.add(y),y}},h=function(b){return function(m,y){return b.set(m,y),y}},s=Number.MAX_SAFE_INTEGER===void 0?9007199254740991:Number.MAX_SAFE_INTEGER,r=536870912,o=r*2,i=function(b,m){return function(y){var T=m.get(y),L=T===void 0?y.size:T<o?T+1:0;if(!y.has(L))return b(y,L);if(y.size<r){for(;y.has(L);)L=Math.floor(Math.random()*o);return b(y,L)}if(y.size>s)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;y.has(L);)L=Math.floor(Math.random()*s);return b(y,L)}},a=new WeakMap,c=h(a),p=i(c,a),g=l(p);t.addUniqueNumber=g,t.generateUniqueNumber=p})}),Ql=ye((e,n)=>{se(),oe(),ne(),function(t,l){typeof e=="object"&&typeof n<"u"?l(e,Yl()):typeof define=="function"&&define.amd?define(["exports","fast-unique-numbers"],l):(t=typeof globalThis<"u"?globalThis:t||self,l(t.workerTimersBroker={},t.fastUniqueNumbers))}(e,function(t,l){var h=function(o){return o.method!==void 0&&o.method==="call"},s=function(o){return o.error===null&&typeof o.id=="number"},r=function(o){var i=new Map([[0,function(){}]]),a=new Map([[0,function(){}]]),c=new Map,p=new Worker(o);p.addEventListener("message",function(T){var L=T.data;if(h(L)){var C=L.params,k=C.timerId,U=C.timerType;if(U==="interval"){var v=i.get(k);if(typeof v=="number"){var P=c.get(v);if(P===void 0||P.timerId!==k||P.timerType!==U)throw new Error("The timer is in an undefined state.")}else if(typeof v<"u")v();else throw new Error("The timer is in an undefined state.")}else if(U==="timeout"){var M=a.get(k);if(typeof M=="number"){var F=c.get(M);if(F===void 0||F.timerId!==k||F.timerType!==U)throw new Error("The timer is in an undefined state.")}else if(typeof M<"u")M(),a.delete(k);else throw new Error("The timer is in an undefined state.")}}else if(s(L)){var W=L.id,Q=c.get(W);if(Q===void 0)throw new Error("The timer is in an undefined state.");var ae=Q.timerId,I=Q.timerType;c.delete(W),I==="interval"?i.delete(ae):a.delete(ae)}else{var $=L.error.message;throw new Error($)}});var g=function(T){var L=l.generateUniqueNumber(c);c.set(L,{timerId:T,timerType:"interval"}),i.set(T,L),p.postMessage({id:L,method:"clear",params:{timerId:T,timerType:"interval"}})},b=function(T){var L=l.generateUniqueNumber(c);c.set(L,{timerId:T,timerType:"timeout"}),a.set(T,L),p.postMessage({id:L,method:"clear",params:{timerId:T,timerType:"timeout"}})},m=function(T,L){var C=l.generateUniqueNumber(i);return i.set(C,function(){T(),typeof i.get(C)=="function"&&p.postMessage({id:null,method:"set",params:{delay:L,now:performance.now(),timerId:C,timerType:"interval"}})}),p.postMessage({id:null,method:"set",params:{delay:L,now:performance.now(),timerId:C,timerType:"interval"}}),C},y=function(T,L){var C=l.generateUniqueNumber(a);return a.set(C,T),p.postMessage({id:null,method:"set",params:{delay:L,now:performance.now(),timerId:C,timerType:"timeout"}}),C};return{clearInterval:g,clearTimeout:b,setInterval:m,setTimeout:y}};t.load=r})}),Jl=ye((e,n)=>{se(),oe(),ne(),function(t,l){typeof e=="object"&&typeof n<"u"?l(e,Ql()):typeof define=="function"&&define.amd?define(["exports","worker-timers-broker"],l):(t=typeof globalThis<"u"?globalThis:t||self,l(t.workerTimers={},t.workerTimersBroker))}(e,function(t,l){var h=function(p,g){var b=null;return function(){if(b!==null)return b;var m=new Blob([g],{type:"application/javascript; charset=utf-8"}),y=URL.createObjectURL(m);return b=p(y),setTimeout(function(){return URL.revokeObjectURL(y)}),b}},s=`(()=>{var e={67:(e,t,r)=>{var o,i;void 0===(i="function"==typeof(o=function(){"use strict";var e=new Map,t=new Map,r=function(t){var r=e.get(t);if(void 0===r)throw new Error('There is no interval scheduled with the given id "'.concat(t,'".'));clearTimeout(r),e.delete(t)},o=function(e){var r=t.get(e);if(void 0===r)throw new Error('There is no timeout scheduled with the given id "'.concat(e,'".'));clearTimeout(r),t.delete(e)},i=function(e,t){var r,o=performance.now();return{expected:o+(r=e-Math.max(0,o-t)),remainingDelay:r}},n=function e(t,r,o,i){var n=performance.now();n>o?postMessage({id:null,method:"call",params:{timerId:r,timerType:i}}):t.set(r,setTimeout(e,o-n,t,r,o,i))},a=function(t,r,o){var a=i(t,o),s=a.expected,d=a.remainingDelay;e.set(r,setTimeout(n,d,e,r,s,"interval"))},s=function(e,r,o){var a=i(e,o),s=a.expected,d=a.remainingDelay;t.set(r,setTimeout(n,d,t,r,s,"timeout"))};addEventListener("message",(function(e){var t=e.data;try{if("clear"===t.method){var i=t.id,n=t.params,d=n.timerId,c=n.timerType;if("interval"===c)r(d),postMessage({error:null,id:i});else{if("timeout"!==c)throw new Error('The given type "'.concat(c,'" is not supported'));o(d),postMessage({error:null,id:i})}}else{if("set"!==t.method)throw new Error('The given method "'.concat(t.method,'" is not supported'));var u=t.params,l=u.delay,p=u.now,m=u.timerId,v=u.timerType;if("interval"===v)a(l,m,p);else{if("timeout"!==v)throw new Error('The given type "'.concat(v,'" is not supported'));s(l,m,p)}}}catch(e){postMessage({error:{message:e.message},id:t.id,result:null})}}))})?o.call(t,r,t,e):o)||(e.exports=i)}},t={};function r(o){var i=t[o];if(void 0!==i)return i.exports;var n=t[o]={exports:{}};return e[o](n,n.exports,r),n.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";r(67)})()})();`,r=h(l.load,s),o=function(p){return r().clearInterval(p)},i=function(p){return r().clearTimeout(p)},a=function(p,g){return r().setInterval(p,g)},c=function(p,g){return r().setTimeout(p,g)};t.clearInterval=o,t.clearTimeout=i,t.setInterval=a,t.setTimeout=c})}),Dn=ye(e=>{se(),oe(),ne(),Object.defineProperty(e,"__esModule",{value:!0}),e.isWebWorker=void 0;var n=()=>typeof window<"u"&&typeof window.document<"u",t=()=>{var s,r;return!!(typeof self=="object"&&!((r=(s=self==null?void 0:self.constructor)===null||s===void 0?void 0:s.name)===null||r===void 0)&&r.includes("WorkerGlobalScope"))},l=()=>typeof at<"u"&&at.product==="ReactNative",h=n()||t()||l();e.isWebWorker=t(),e.default=h}),Xl=ye(e=>{se(),oe(),ne();var n=e&&e.__createBinding||(Object.create?function(o,i,a,c){c===void 0&&(c=a);var p=Object.getOwnPropertyDescriptor(i,a);(!p||("get"in p?!i.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(o,c,p)}:function(o,i,a,c){c===void 0&&(c=a),o[c]=i[a]}),t=e&&e.__setModuleDefault||(Object.create?function(o,i){Object.defineProperty(o,"default",{enumerable:!0,value:i})}:function(o,i){o.default=i}),l=e&&e.__importStar||function(o){if(o&&o.__esModule)return o;var i={};if(o!=null)for(var a in o)a!=="default"&&Object.prototype.hasOwnProperty.call(o,a)&&n(i,o,a);return t(i,o),i};Object.defineProperty(e,"__esModule",{value:!0});var h=Jl(),s=l(Dn()),r=class{constructor(o,i){this._setTimeout=s.default&&!s.isWebWorker?h.setTimeout:(a,c)=>setTimeout(a,c),this._clearTimeout=s.default&&!s.isWebWorker?h.clearTimeout:a=>clearTimeout(a),this.keepalive=o*1e3,this.checkPing=i,this.reschedule()}clear(){this.timer&&(this._clearTimeout(this.timer),this.timer=null)}reschedule(){this.clear(),this.timer=this._setTimeout(()=>{this.checkPing(),this.timer&&this.reschedule()},this.keepalive)}};e.default=r}),_n=ye(e=>{se(),oe(),ne();var n=e&&e.__createBinding||(Object.create?function(U,v,P,M){M===void 0&&(M=P);var F=Object.getOwnPropertyDescriptor(v,P);(!F||("get"in F?!v.__esModule:F.writable||F.configurable))&&(F={enumerable:!0,get:function(){return v[P]}}),Object.defineProperty(U,M,F)}:function(U,v,P,M){M===void 0&&(M=P),U[M]=v[P]}),t=e&&e.__setModuleDefault||(Object.create?function(U,v){Object.defineProperty(U,"default",{enumerable:!0,value:v})}:function(U,v){U.default=v}),l=e&&e.__importStar||function(U){if(U&&U.__esModule)return U;var v={};if(U!=null)for(var P in U)P!=="default"&&Object.prototype.hasOwnProperty.call(U,P)&&n(v,U,P);return t(v,U),v},h=e&&e.__importDefault||function(U){return U&&U.__esModule?U:{default:U}};Object.defineProperty(e,"__esModule",{value:!0});var s=h($a()),r=h(Al()),o=h(_s()),i=rr(),a=h(Tl()),c=l(kl()),p=h(Ct()),g=h(Es()),b=h(Kl()),m=wr(),y=Gl(),T=h(Xl()),L=globalThis.setImmediate||((...U)=>{let v=U.shift();(0,m.nextTick)(()=>{v(...U)})}),C={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:30*1e3,clean:!0,resubscribe:!0,writeCache:!0},k=class js extends y.TypedEventEmitter{static defaultId(){return`mqttjs_${Math.random().toString(16).substr(2,8)}`}constructor(v,P){super(),this.options=P||{};for(let M in C)typeof this.options[M]>"u"?this.options[M]=C[M]:this.options[M]=P[M];this.log=this.options.log||(0,p.default)("mqttjs:client"),this.noop=this._noop.bind(this),this.log("MqttClient :: options.protocol",P.protocol),this.log("MqttClient :: options.protocolVersion",P.protocolVersion),this.log("MqttClient :: options.username",P.username),this.log("MqttClient :: options.keepalive",P.keepalive),this.log("MqttClient :: options.reconnectPeriod",P.reconnectPeriod),this.log("MqttClient :: options.rejectUnauthorized",P.rejectUnauthorized),this.log("MqttClient :: options.properties.topicAliasMaximum",P.properties?P.properties.topicAliasMaximum:void 0),this.options.clientId=typeof P.clientId=="string"?P.clientId:js.defaultId(),this.log("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=P.protocolVersion===5&&P.customHandleAcks?P.customHandleAcks:(...M)=>{M[3](null,0)},this.options.writeCache||(r.default.writeToStream.cacheNumbers=!1),this.streamBuilder=v,this.messageIdProvider=typeof this.options.messageIdProvider>"u"?new o.default:this.options.messageIdProvider,this.outgoingStore=P.outgoingStore||new g.default,this.incomingStore=P.incomingStore||new g.default,this.queueQoSZero=P.queueQoSZero===void 0?!0:P.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.pingTimer=null,this.connected=!1,this.disconnecting=!1,this.reconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,P.properties&&P.properties.topicAliasMaximum>0&&(P.properties.topicAliasMaximum>65535?this.log("MqttClient :: options.properties.topicAliasMaximum is out of range"):this.topicAliasRecv=new s.default(P.properties.topicAliasMaximum)),this.on("connect",()=>{let{queue:M}=this,F=()=>{let W=M.shift();this.log("deliver :: entry %o",W);let Q=null;if(!W){this._resubscribe();return}Q=W.packet,this.log("deliver :: call _sendPacket for %o",Q);let ae=!0;Q.messageId&&Q.messageId!==0&&(this.messageIdProvider.register(Q.messageId)||(ae=!1)),ae?this._sendPacket(Q,I=>{W.cb&&W.cb(I),F()}):(this.log("messageId: %d has already used. The message is skipped and removed.",Q.messageId),F())};this.log("connect :: sending queued packets"),F()}),this.on("close",()=>{this.log("close :: connected set to `false`"),this.connected=!1,this.log("close :: clearing connackTimer"),clearTimeout(this.connackTimer),this.log("close :: clearing ping timer"),this.pingTimer&&(this.pingTimer.clear(),this.pingTimer=null),this.topicAliasRecv&&this.topicAliasRecv.clear(),this.log("close :: calling _setupReconnect"),this._setupReconnect()}),this.options.manualConnect||(this.log("MqttClient :: setting up stream"),this.connect())}handleAuth(v,P){P()}handleMessage(v,P){P()}_nextId(){return this.messageIdProvider.allocate()}getLastMessageId(){return this.messageIdProvider.getLastAllocated()}connect(){var v;let P=new i.Writable,M=r.default.parser(this.options),F=null,W=[];this.log("connect :: calling method to clear reconnect"),this._clearReconnect(),this.log("connect :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),M.on("packet",G=>{this.log("parser :: on packet push to packets array."),W.push(G)});let Q=()=>{this.log("work :: getting next packet in queue");let G=W.shift();if(G)this.log("work :: packet pulled from queue"),(0,b.default)(this,G,ae);else{this.log("work :: no packets in queue");let X=F;F=null,this.log("work :: done flag is %s",!!X),X&&X()}},ae=()=>{if(W.length)(0,m.nextTick)(Q);else{let G=F;F=null,G()}};P._write=(G,X,ge)=>{F=ge,this.log("writable stream :: parsing buffer"),M.parse(G),Q()};let I=G=>{this.log("streamErrorHandler :: error",G.message),G.code?(this.log("streamErrorHandler :: emitting error"),this.emit("error",G)):this.noop(G)};this.log("connect :: pipe stream to writable stream"),this.stream.pipe(P),this.stream.on("error",I),this.stream.on("close",()=>{this.log("(%s)stream :: on close",this.options.clientId),this._flushVolatile(),this.log("stream: emit close to MqttClient"),this.emit("close")}),this.log("connect: sending packet `connect`");let $={cmd:"connect",protocolId:this.options.protocolId,protocolVersion:this.options.protocolVersion,clean:this.options.clean,clientId:this.options.clientId,keepalive:this.options.keepalive,username:this.options.username,password:this.options.password,properties:this.options.properties};if(this.options.will&&($.will=Object.assign(Object.assign({},this.options.will),{payload:(v=this.options.will)===null||v===void 0?void 0:v.payload})),this.topicAliasRecv&&($.properties||($.properties={}),this.topicAliasRecv&&($.properties.topicAliasMaximum=this.topicAliasRecv.max)),this._writePacket($),M.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return this.end(()=>this.emit("error",new Error("Packet has no Authentication Method"))),this;if(this.options.properties.authenticationMethod&&this.options.authPacket&&typeof this.options.authPacket=="object"){let G=Object.assign({cmd:"auth",reasonCode:0},this.options.authPacket);this._writePacket(G)}}return this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(()=>{this.log("!!connectTimeout hit!! Calling _cleanUp with force `true`"),this.emit("error",new Error("connack timeout")),this._cleanUp(!0)},this.options.connectTimeout),this}publish(v,P,M,F){this.log("publish :: message `%s` to topic `%s`",P,v);let{options:W}=this;typeof M=="function"&&(F=M,M=null),M=M||{},M=Object.assign(Object.assign({},{qos:0,retain:!1,dup:!1}),M);let{qos:Q,retain:ae,dup:I,properties:$,cbStorePut:G}=M;if(this._checkDisconnecting(F))return this;let X=()=>{let ge=0;if((Q===1||Q===2)&&(ge=this._nextId(),ge===null))return this.log("No messageId left"),!1;let Z={cmd:"publish",topic:v,payload:P,qos:Q,retain:ae,messageId:ge,dup:I};switch(W.protocolVersion===5&&(Z.properties=$),this.log("publish :: qos",Q),Q){case 1:case 2:this.outgoing[Z.messageId]={volatile:!1,cb:F||this.noop},this.log("MqttClient:publish: packet cmd: %s",Z.cmd),this._sendPacket(Z,void 0,G);break;default:this.log("MqttClient:publish: packet cmd: %s",Z.cmd),this._sendPacket(Z,F,G);break}return!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!X())&&this._storeProcessingQueue.push({invoke:X,cbStorePut:M.cbStorePut,callback:F}),this}publishAsync(v,P,M){return new Promise((F,W)=>{this.publish(v,P,M,(Q,ae)=>{Q?W(Q):F(ae)})})}subscribe(v,P,M){let F=this.options.protocolVersion;typeof P=="function"&&(M=P),M=M||this.noop;let W=!1,Q=[];typeof v=="string"?(v=[v],Q=v):Array.isArray(v)?Q=v:typeof v=="object"&&(W=v.resubscribe,delete v.resubscribe,Q=Object.keys(v));let ae=c.validateTopics(Q);if(ae!==null)return L(M,new Error(`Invalid topic ${ae}`)),this;if(this._checkDisconnecting(M))return this.log("subscribe: discconecting true"),this;let I={qos:0};F===5&&(I.nl=!1,I.rap=!1,I.rh=0),P=Object.assign(Object.assign({},I),P);let $=P.properties,G=[],X=(Z,q)=>{if(q=q||P,!Object.prototype.hasOwnProperty.call(this._resubscribeTopics,Z)||this._resubscribeTopics[Z].qos<q.qos||W){let be={topic:Z,qos:q.qos};F===5&&(be.nl=q.nl,be.rap=q.rap,be.rh=q.rh,be.properties=$),this.log("subscribe: pushing topic `%s` and qos `%s` to subs list",be.topic,be.qos),G.push(be)}};if(Array.isArray(v)?v.forEach(Z=>{this.log("subscribe: array topic %s",Z),X(Z)}):Object.keys(v).forEach(Z=>{this.log("subscribe: object topic %s, %o",Z,v[Z]),X(Z,v[Z])}),!G.length)return M(null,[]),this;let ge=()=>{let Z=this._nextId();if(Z===null)return this.log("No messageId left"),!1;let q={cmd:"subscribe",subscriptions:G,messageId:Z};if($&&(q.properties=$),this.options.resubscribe){this.log("subscribe :: resubscribe true");let be=[];G.forEach(ie=>{if(this.options.reconnectPeriod>0){let ve={qos:ie.qos};F===5&&(ve.nl=ie.nl||!1,ve.rap=ie.rap||!1,ve.rh=ie.rh||0,ve.properties=ie.properties),this._resubscribeTopics[ie.topic]=ve,be.push(ie.topic)}}),this.messageIdToTopic[q.messageId]=be}return this.outgoing[q.messageId]={volatile:!0,cb(be,ie){if(!be){let{granted:ve}=ie;for(let S=0;S<ve.length;S+=1)G[S].qos=ve[S]}M(be,G)}},this.log("subscribe :: call _sendPacket"),this._sendPacket(q),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!ge())&&this._storeProcessingQueue.push({invoke:ge,callback:M}),this}subscribeAsync(v,P){return new Promise((M,F)=>{this.subscribe(v,P,(W,Q)=>{W?F(W):M(Q)})})}unsubscribe(v,P,M){typeof v=="string"&&(v=[v]),typeof P=="function"&&(M=P),M=M||this.noop;let F=c.validateTopics(v);if(F!==null)return L(M,new Error(`Invalid topic ${F}`)),this;if(this._checkDisconnecting(M))return this;let W=()=>{let Q=this._nextId();if(Q===null)return this.log("No messageId left"),!1;let ae={cmd:"unsubscribe",messageId:Q,unsubscriptions:[]};return typeof v=="string"?ae.unsubscriptions=[v]:Array.isArray(v)&&(ae.unsubscriptions=v),this.options.resubscribe&&ae.unsubscriptions.forEach(I=>{delete this._resubscribeTopics[I]}),typeof P=="object"&&P.properties&&(ae.properties=P.properties),this.outgoing[ae.messageId]={volatile:!0,cb:M},this.log("unsubscribe: call _sendPacket"),this._sendPacket(ae),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!W())&&this._storeProcessingQueue.push({invoke:W,callback:M}),this}unsubscribeAsync(v,P){return new Promise((M,F)=>{this.unsubscribe(v,P,(W,Q)=>{W?F(W):M(Q)})})}end(v,P,M){this.log("end :: (%s)",this.options.clientId),(v==null||typeof v!="boolean")&&(M=M||P,P=v,v=!1),typeof P!="object"&&(M=M||P,P=null),this.log("end :: cb? %s",!!M),(!M||typeof M!="function")&&(M=this.noop);let F=()=>{this.log("end :: closeStores: closing incoming and outgoing stores"),this.disconnected=!0,this.incomingStore.close(Q=>{this.outgoingStore.close(ae=>{if(this.log("end :: closeStores: emitting end"),this.emit("end"),M){let I=Q||ae;this.log("end :: closeStores: invoking callback with args"),M(I)}})}),this._deferredReconnect&&this._deferredReconnect()},W=()=>{this.log("end :: (%s) :: finish :: calling _cleanUp with force %s",this.options.clientId,v),this._cleanUp(v,()=>{this.log("end :: finish :: calling process.nextTick on closeStores"),(0,m.nextTick)(F)},P)};return this.disconnecting?(M(),this):(this._clearReconnect(),this.disconnecting=!0,!v&&Object.keys(this.outgoing).length>0?(this.log("end :: (%s) :: calling finish in 10ms once outgoing is empty",this.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,W,10))):(this.log("end :: (%s) :: immediately calling finish",this.options.clientId),W()),this)}endAsync(v,P){return new Promise((M,F)=>{this.end(v,P,W=>{W?F(W):M()})})}removeOutgoingMessage(v){if(this.outgoing[v]){let{cb:P}=this.outgoing[v];this._removeOutgoingAndStoreMessage(v,()=>{P(new Error("Message removed"))})}return this}reconnect(v){this.log("client reconnect");let P=()=>{v?(this.options.incomingStore=v.incomingStore,this.options.outgoingStore=v.outgoingStore):(this.options.incomingStore=null,this.options.outgoingStore=null),this.incomingStore=this.options.incomingStore||new g.default,this.outgoingStore=this.options.outgoingStore||new g.default,this.disconnecting=!1,this.disconnected=!1,this._deferredReconnect=null,this._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=P:P(),this}_flushVolatile(){this.outgoing&&(this.log("_flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(this.outgoing).forEach(v=>{this.outgoing[v].volatile&&typeof this.outgoing[v].cb=="function"&&(this.outgoing[v].cb(new Error("Connection closed")),delete this.outgoing[v])}))}_flush(){this.outgoing&&(this.log("_flush: queue exists? %b",!!this.outgoing),Object.keys(this.outgoing).forEach(v=>{typeof this.outgoing[v].cb=="function"&&(this.outgoing[v].cb(new Error("Connection closed")),delete this.outgoing[v])}))}_removeTopicAliasAndRecoverTopicName(v){let P;v.properties&&(P=v.properties.topicAlias);let M=v.topic.toString();if(this.log("_removeTopicAliasAndRecoverTopicName :: alias %d, topic %o",P,M),M.length===0){if(typeof P>"u")return new Error("Unregistered Topic Alias");if(M=this.topicAliasSend.getTopicByAlias(P),typeof M>"u")return new Error("Unregistered Topic Alias");v.topic=M}P&&delete v.properties.topicAlias}_checkDisconnecting(v){return this.disconnecting&&(v&&v!==this.noop?v(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting}_reconnect(){this.log("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end(()=>{this.connect()}),this.log("client already connected. disconnecting first.")):(this.log("_reconnect: calling connect"),this.connect())}_setupReconnect(){!this.disconnecting&&!this.reconnectTimer&&this.options.reconnectPeriod>0?(this.reconnecting||(this.log("_setupReconnect :: emit `offline` state"),this.emit("offline"),this.log("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),this.log("_setupReconnect :: setting reconnectTimer for %d ms",this.options.reconnectPeriod),this.reconnectTimer=setInterval(()=>{this.log("reconnectTimer :: reconnect triggered!"),this._reconnect()},this.options.reconnectPeriod)):this.log("_setupReconnect :: doing nothing...")}_clearReconnect(){this.log("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)}_cleanUp(v,P,M={}){if(P&&(this.log("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",P)),this.log("_cleanUp :: forced? %s",v),v)this.options.reconnectPeriod===0&&this.options.clean&&this._flush(),this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else{let F=Object.assign({cmd:"disconnect"},M);this.log("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket(F,()=>{this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),L(()=>{this.stream.end(()=>{this.log("_cleanUp :: (%s) :: stream destroyed",this.options.clientId)})})})}!this.disconnecting&&!this.reconnecting&&(this.log("_cleanUp :: client not disconnecting/reconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),this.pingTimer&&(this.log("_cleanUp :: clearing pingTimer"),this.pingTimer.clear(),this.pingTimer=null),P&&!this.connected&&(this.log("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",P),P())}_storeAndSend(v,P,M){this.log("storeAndSend :: store packet with cmd %s to outgoingStore",v.cmd);let F=v,W;if(F.cmd==="publish"&&(F=(0,a.default)(v),W=this._removeTopicAliasAndRecoverTopicName(F),W))return P&&P(W);this.outgoingStore.put(F,Q=>{if(Q)return P&&P(Q);M(),this._writePacket(v,P)})}_applyTopicAlias(v){if(this.options.protocolVersion===5&&v.cmd==="publish"){let P;v.properties&&(P=v.properties.topicAlias);let M=v.topic.toString();if(this.topicAliasSend)if(P){if(M.length!==0&&(this.log("applyTopicAlias :: register topic: %s - alias: %d",M,P),!this.topicAliasSend.put(M,P)))return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",M,P),new Error("Sending Topic Alias out of range")}else M.length!==0&&(this.options.autoAssignTopicAlias?(P=this.topicAliasSend.getAliasByTopic(M),P?(v.topic="",v.properties=Object.assign(Object.assign({},v.properties),{topicAlias:P}),this.log("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",M,P)):(P=this.topicAliasSend.getLruAlias(),this.topicAliasSend.put(M,P),v.properties=Object.assign(Object.assign({},v.properties),{topicAlias:P}),this.log("applyTopicAlias :: auto assign topic: %s - alias: %d",M,P))):this.options.autoUseTopicAlias&&(P=this.topicAliasSend.getAliasByTopic(M),P&&(v.topic="",v.properties=Object.assign(Object.assign({},v.properties),{topicAlias:P}),this.log("applyTopicAlias :: auto use topic: %s - alias: %d",M,P))));else if(P)return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",M,P),new Error("Sending Topic Alias out of range")}}_noop(v){this.log("noop ::",v)}_writePacket(v,P){this.log("_writePacket :: packet: %O",v),this.log("_writePacket :: emitting `packetsend`"),this.emit("packetsend",v),this._shiftPingInterval(),this.log("_writePacket :: writing to stream");let M=r.default.writeToStream(v,this.stream,this.options);this.log("_writePacket :: writeToStream result %s",M),!M&&P&&P!==this.noop?(this.log("_writePacket :: handle events on `drain` once through callback."),this.stream.once("drain",P)):P&&(this.log("_writePacket :: invoking cb"),P())}_sendPacket(v,P,M,F){this.log("_sendPacket :: (%s) ::  start",this.options.clientId),M=M||this.noop,P=P||this.noop;let W=this._applyTopicAlias(v);if(W){P(W);return}if(!this.connected){if(v.cmd==="auth"){this._writePacket(v,P);return}this.log("_sendPacket :: client not connected. Storing packet offline."),this._storePacket(v,P,M);return}if(F){this._writePacket(v,P);return}switch(v.cmd){case"publish":break;case"pubrel":this._storeAndSend(v,P,M);return;default:this._writePacket(v,P);return}switch(v.qos){case 2:case 1:this._storeAndSend(v,P,M);break;case 0:default:this._writePacket(v,P);break}this.log("_sendPacket :: (%s) ::  end",this.options.clientId)}_storePacket(v,P,M){this.log("_storePacket :: packet: %o",v),this.log("_storePacket :: cb? %s",!!P),M=M||this.noop;let F=v;if(F.cmd==="publish"){F=(0,a.default)(v);let Q=this._removeTopicAliasAndRecoverTopicName(F);if(Q)return P&&P(Q)}let W=F.qos||0;W===0&&this.queueQoSZero||F.cmd!=="publish"?this.queue.push({packet:F,cb:P}):W>0?(P=this.outgoing[F.messageId]?this.outgoing[F.messageId].cb:null,this.outgoingStore.put(F,Q=>{if(Q)return P&&P(Q);M()})):P&&P(new Error("No connection to broker"))}_setupPingTimer(){this.log("_setupPingTimer :: keepalive %d (seconds)",this.options.keepalive),!this.pingTimer&&this.options.keepalive&&(this.pingResp=!0,this.pingTimer=new T.default(this.options.keepalive,()=>{this._checkPing()}))}_shiftPingInterval(){this.pingTimer&&this.options.keepalive&&this.options.reschedulePings&&this.pingTimer.reschedule()}_checkPing(){this.log("_checkPing :: checking ping..."),this.pingResp?(this.log("_checkPing :: ping response received. Clearing flag and sending `pingreq`"),this.pingResp=!1,this._sendPacket({cmd:"pingreq"})):(this.log("_checkPing :: calling _cleanUp with force true"),this._cleanUp(!0))}_resubscribe(){this.log("_resubscribe");let v=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||this.options.protocolVersion>=4&&!this.connackPacket.sessionPresent)&&v.length>0)if(this.options.resubscribe)if(this.options.protocolVersion===5){this.log("_resubscribe: protocolVersion 5");for(let P=0;P<v.length;P++){let M={};M[v[P]]=this._resubscribeTopics[v[P]],M.resubscribe=!0,this.subscribe(M,{properties:M[v[P]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1}_onConnect(v){if(this.disconnected){this.emit("connect",v);return}this.connackPacket=v,this.messageIdProvider.clear(),this._setupPingTimer(),this.connected=!0;let P=()=>{let M=this.outgoingStore.createStream(),F=()=>{M.destroy(),M=null,this._flushStoreProcessingQueue(),W()},W=()=>{this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={}};this.once("close",F),M.on("error",ae=>{W(),this._flushStoreProcessingQueue(),this.removeListener("close",F),this.emit("error",ae)});let Q=()=>{if(!M)return;let ae=M.read(1),I;if(!ae){M.once("readable",Q);return}if(this._storeProcessing=!0,this._packetIdsDuringStoreProcessing[ae.messageId]){Q();return}!this.disconnecting&&!this.reconnectTimer?(I=this.outgoing[ae.messageId]?this.outgoing[ae.messageId].cb:null,this.outgoing[ae.messageId]={volatile:!1,cb($,G){I&&I($,G),Q()}},this._packetIdsDuringStoreProcessing[ae.messageId]=!0,this.messageIdProvider.register(ae.messageId)?this._sendPacket(ae,void 0,void 0,!0):this.log("messageId: %d has already used.",ae.messageId)):M.destroy&&M.destroy()};M.on("end",()=>{let ae=!0;for(let I in this._packetIdsDuringStoreProcessing)if(!this._packetIdsDuringStoreProcessing[I]){ae=!1;break}this.removeListener("close",F),ae?(W(),this._invokeAllStoreProcessingQueue(),this.emit("connect",v)):P()}),Q()};P()}_invokeStoreProcessingQueue(){if(!this._storeProcessing&&this._storeProcessingQueue.length>0){let v=this._storeProcessingQueue[0];if(v&&v.invoke())return this._storeProcessingQueue.shift(),!0}return!1}_invokeAllStoreProcessingQueue(){for(;this._invokeStoreProcessingQueue(););}_flushStoreProcessingQueue(){for(let v of this._storeProcessingQueue)v.cbStorePut&&v.cbStorePut(new Error("Connection closed")),v.callback&&v.callback(new Error("Connection closed"));this._storeProcessingQueue.splice(0)}_removeOutgoingAndStoreMessage(v,P){delete this.outgoing[v],this.outgoingStore.del({messageId:v},(M,F)=>{P(M,F),this.messageIdProvider.deallocate(v),this._invokeStoreProcessingQueue()})}};e.default=k}),Zl=ye(e=>{se(),oe(),ne(),Object.defineProperty(e,"__esModule",{value:!0});var n=Ns(),t=class{constructor(){this.numberAllocator=new n.NumberAllocator(1,65535)}allocate(){return this.lastId=this.numberAllocator.alloc(),this.lastId}getLastAllocated(){return this.lastId}register(l){return this.numberAllocator.use(l)}deallocate(l){this.numberAllocator.free(l)}clear(){this.numberAllocator.clear()}};e.default=t});function Vt(e){throw new RangeError(Fs[e])}function ho(e,n){let t=e.split("@"),l="";t.length>1&&(l=t[0]+"@",e=t[1]);let h=function(s,r){let o=[],i=s.length;for(;i--;)o[i]=r(s[i]);return o}((e=e.replace(Ds,".")).split("."),n).join(".");return l+h}function co(e){let n=[],t=0,l=e.length;for(;t<l;){let h=e.charCodeAt(t++);if(h>=55296&&h<=56319&&t<l){let s=e.charCodeAt(t++);(64512&s)==56320?n.push(((1023&h)<<10)+(1023&s)+65536):(n.push(h),t--)}else n.push(h)}return n}var fo,po,Ds,Fs,ct,Ar,ei,ti,ri,ii,Nt,eu=Qe(()=>{se(),oe(),ne(),fo=/^xn--/,po=/[^\0-\x7E]/,Ds=/[\x2E\u3002\uFF0E\uFF61]/g,Fs={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ct=Math.floor,Ar=String.fromCharCode,ei=function(e,n){return e+22+75*(e<26)-((n!=0)<<5)},ti=function(e,n,t){let l=0;for(e=t?ct(e/700):e>>1,e+=ct(e/n);e>455;l+=36)e=ct(e/35);return ct(l+36*e/(e+38))},ri=function(e){let n=[],t=e.length,l=0,h=128,s=72,r=e.lastIndexOf("-");r<0&&(r=0);for(let i=0;i<r;++i)e.charCodeAt(i)>=128&&Vt("not-basic"),n.push(e.charCodeAt(i));for(let i=r>0?r+1:0;i<t;){let a=l;for(let p=1,g=36;;g+=36){i>=t&&Vt("invalid-input");let b=(o=e.charCodeAt(i++))-48<10?o-22:o-65<26?o-65:o-97<26?o-97:36;(b>=36||b>ct((2147483647-l)/p))&&Vt("overflow"),l+=b*p;let m=g<=s?1:g>=s+26?26:g-s;if(b<m)break;let y=36-m;p>ct(2147483647/y)&&Vt("overflow"),p*=y}let c=n.length+1;s=ti(l-a,c,a==0),ct(l/c)>2147483647-h&&Vt("overflow"),h+=ct(l/c),l%=c,n.splice(l++,0,h)}var o;return String.fromCodePoint(...n)},ii=function(e){let n=[],t=(e=co(e)).length,l=128,h=0,s=72;for(let i of e)i<128&&n.push(Ar(i));let r=n.length,o=r;for(r&&n.push("-");o<t;){let i=2147483647;for(let c of e)c>=l&&c<i&&(i=c);let a=o+1;i-l>ct((2147483647-h)/a)&&Vt("overflow"),h+=(i-l)*a,l=i;for(let c of e)if(c<l&&++h>2147483647&&Vt("overflow"),c==l){let p=h;for(let g=36;;g+=36){let b=g<=s?1:g>=s+26?26:g-s;if(p<b)break;let m=p-b,y=36-b;n.push(Ar(ei(b+m%y,0))),p=ct(m/y)}n.push(Ar(ei(p,0))),s=ti(h,a,o==r),h=0,++o}++h,++l}return n.join("")},Nt={version:"2.1.0",ucs2:{decode:co,encode:e=>String.fromCodePoint(...e)},decode:ri,encode:ii,toASCII:function(e){return ho(e,function(n){return po.test(n)?"xn--"+ii(n):n})},toUnicode:function(e){return ho(e,function(n){return fo.test(n)?ri(n.slice(4).toLowerCase()):n})}},Nt.decode,Nt.encode,Nt.toASCII,Nt.toUnicode,Nt.ucs2,Nt.version});function tu(e,n){return Object.prototype.hasOwnProperty.call(e,n)}var go,ir,bo,bt,ru=Qe(()=>{se(),oe(),ne(),go=function(e,n,t,l){n=n||"&",t=t||"=";var h={};if(typeof e!="string"||e.length===0)return h;var s=/\+/g;e=e.split(n);var r=1e3;l&&typeof l.maxKeys=="number"&&(r=l.maxKeys);var o=e.length;r>0&&o>r&&(o=r);for(var i=0;i<o;++i){var a,c,p,g,b=e[i].replace(s,"%20"),m=b.indexOf(t);m>=0?(a=b.substr(0,m),c=b.substr(m+1)):(a=b,c=""),p=decodeURIComponent(a),g=decodeURIComponent(c),tu(h,p)?Array.isArray(h[p])?h[p].push(g):h[p]=[h[p],g]:h[p]=g}return h},ir=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},bo=function(e,n,t,l){return n=n||"&",t=t||"=",e===null&&(e=void 0),typeof e=="object"?Object.keys(e).map(function(h){var s=encodeURIComponent(ir(h))+t;return Array.isArray(e[h])?e[h].map(function(r){return s+encodeURIComponent(ir(r))}).join(n):s+encodeURIComponent(ir(e[h]))}).join(n):l?encodeURIComponent(ir(l))+t+encodeURIComponent(ir(e)):""},bt={},bt.decode=bt.parse=go,bt.encode=bt.stringify=bo,bt.decode,bt.encode,bt.parse,bt.stringify});function En(){throw new Error("setTimeout has not been defined")}function Sn(){throw new Error("clearTimeout has not been defined")}function Ws(e){if(Et===setTimeout)return setTimeout(e,0);if((Et===En||!Et)&&setTimeout)return Et=setTimeout,setTimeout(e,0);try{return Et(e,0)}catch{try{return Et.call(null,e,0)}catch{return Et.call(this||Jt,e,0)}}}function iu(){Xt&&Yt&&(Xt=!1,Yt.length?yt=Yt.concat(yt):yr=-1,yt.length&&$s())}function $s(){if(!Xt){var e=Ws(iu);Xt=!0;for(var n=yt.length;n;){for(Yt=yt,yt=[];++yr<n;)Yt&&Yt[yr].run();yr=-1,n=yt.length}Yt=null,Xt=!1,function(t){if(St===clearTimeout)return clearTimeout(t);if((St===Sn||!St)&&clearTimeout)return St=clearTimeout,clearTimeout(t);try{St(t)}catch{try{return St.call(null,t)}catch{return St.call(this||Jt,t)}}}(e)}}function mo(e,n){(this||Jt).fun=e,(this||Jt).array=n}function wt(){}var yo,Et,St,Jt,We,Yt,yt,Xt,yr,De,nu=Qe(()=>{se(),oe(),ne(),Jt=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,We=yo={},function(){try{Et=typeof setTimeout=="function"?setTimeout:En}catch{Et=En}try{St=typeof clearTimeout=="function"?clearTimeout:Sn}catch{St=Sn}}(),yt=[],Xt=!1,yr=-1,We.nextTick=function(e){var n=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)n[t-1]=arguments[t];yt.push(new mo(e,n)),yt.length!==1||Xt||Ws($s)},mo.prototype.run=function(){(this||Jt).fun.apply(null,(this||Jt).array)},We.title="browser",We.browser=!0,We.env={},We.argv=[],We.version="",We.versions={},We.on=wt,We.addListener=wt,We.once=wt,We.off=wt,We.removeListener=wt,We.removeAllListeners=wt,We.emit=wt,We.prependListener=wt,We.prependOnceListener=wt,We.listeners=function(e){return[]},We.binding=function(e){throw new Error("process.binding is not supported")},We.cwd=function(){return"/"},We.chdir=function(e){throw new Error("process.chdir is not supported")},We.umask=function(){return 0},De=yo,De.addListener,De.argv,De.binding,De.browser,De.chdir,De.cwd,De.emit,De.env,De.listeners,De.nextTick,De.off,De.on,De.once,De.prependListener,De.prependOnceListener,De.removeAllListeners,De.removeListener,De.title,De.umask,De.version,De.versions});function ou(){if(An)return xr;An=!0;var e=xr={},n,t;function l(){throw new Error("setTimeout has not been defined")}function h(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?n=setTimeout:n=l}catch{n=l}try{typeof clearTimeout=="function"?t=clearTimeout:t=h}catch{t=h}})();function s(y){if(n===setTimeout)return setTimeout(y,0);if((n===l||!n)&&setTimeout)return n=setTimeout,setTimeout(y,0);try{return n(y,0)}catch{try{return n.call(null,y,0)}catch{return n.call(this||zt,y,0)}}}function r(y){if(t===clearTimeout)return clearTimeout(y);if((t===h||!t)&&clearTimeout)return t=clearTimeout,clearTimeout(y);try{return t(y)}catch{try{return t.call(null,y)}catch{return t.call(this||zt,y)}}}var o=[],i=!1,a,c=-1;function p(){!i||!a||(i=!1,a.length?o=a.concat(o):c=-1,o.length&&g())}function g(){if(!i){var y=s(p);i=!0;for(var T=o.length;T;){for(a=o,o=[];++c<T;)a&&a[c].run();c=-1,T=o.length}a=null,i=!1,r(y)}}e.nextTick=function(y){var T=new Array(arguments.length-1);if(arguments.length>1)for(var L=1;L<arguments.length;L++)T[L-1]=arguments[L];o.push(new b(y,T)),o.length===1&&!i&&s(g)};function b(y,T){(this||zt).fun=y,(this||zt).array=T}b.prototype.run=function(){(this||zt).fun.apply(null,(this||zt).array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={};function m(){}return e.on=m,e.addListener=m,e.once=m,e.off=m,e.removeListener=m,e.removeAllListeners=m,e.emit=m,e.prependListener=m,e.prependOnceListener=m,e.listeners=function(y){return[]},e.binding=function(y){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(y){throw new Error("process.chdir is not supported")},e.umask=function(){return 0},xr}var xr,An,zt,Le,qs=Qe(()=>{se(),oe(),ne(),xr={},An=!1,zt=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Le=ou(),Le.platform="browser",Le.addListener,Le.argv,Le.binding,Le.browser,Le.chdir,Le.cwd,Le.emit,Le.env,Le.listeners,Le.nextTick,Le.off,Le.on,Le.once,Le.prependListener,Le.prependOnceListener,Le.removeAllListeners,Le.removeListener,Le.title,Le.umask,Le.version,Le.versions});function su(){if(In)return Mr;In=!0;var e=Le;function n(s){if(typeof s!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(s))}function t(s,r){for(var o="",i=0,a=-1,c=0,p,g=0;g<=s.length;++g){if(g<s.length)p=s.charCodeAt(g);else{if(p===47)break;p=47}if(p===47){if(!(a===g-1||c===1))if(a!==g-1&&c===2){if(o.length<2||i!==2||o.charCodeAt(o.length-1)!==46||o.charCodeAt(o.length-2)!==46){if(o.length>2){var b=o.lastIndexOf("/");if(b!==o.length-1){b===-1?(o="",i=0):(o=o.slice(0,b),i=o.length-1-o.lastIndexOf("/")),a=g,c=0;continue}}else if(o.length===2||o.length===1){o="",i=0,a=g,c=0;continue}}r&&(o.length>0?o+="/..":o="..",i=2)}else o.length>0?o+="/"+s.slice(a+1,g):o=s.slice(a+1,g),i=g-a-1;a=g,c=0}else p===46&&c!==-1?++c:c=-1}return o}function l(s,r){var o=r.dir||r.root,i=r.base||(r.name||"")+(r.ext||"");return o?o===r.root?o+i:o+s+i:i}var h={resolve:function(){for(var s="",r=!1,o,i=arguments.length-1;i>=-1&&!r;i--){var a;i>=0?a=arguments[i]:(o===void 0&&(o=e.cwd()),a=o),n(a),a.length!==0&&(s=a+"/"+s,r=a.charCodeAt(0)===47)}return s=t(s,!r),r?s.length>0?"/"+s:"/":s.length>0?s:"."},normalize:function(s){if(n(s),s.length===0)return".";var r=s.charCodeAt(0)===47,o=s.charCodeAt(s.length-1)===47;return s=t(s,!r),s.length===0&&!r&&(s="."),s.length>0&&o&&(s+="/"),r?"/"+s:s},isAbsolute:function(s){return n(s),s.length>0&&s.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var s,r=0;r<arguments.length;++r){var o=arguments[r];n(o),o.length>0&&(s===void 0?s=o:s+="/"+o)}return s===void 0?".":h.normalize(s)},relative:function(s,r){if(n(s),n(r),s===r||(s=h.resolve(s),r=h.resolve(r),s===r))return"";for(var o=1;o<s.length&&s.charCodeAt(o)===47;++o);for(var i=s.length,a=i-o,c=1;c<r.length&&r.charCodeAt(c)===47;++c);for(var p=r.length,g=p-c,b=a<g?a:g,m=-1,y=0;y<=b;++y){if(y===b){if(g>b){if(r.charCodeAt(c+y)===47)return r.slice(c+y+1);if(y===0)return r.slice(c+y)}else a>b&&(s.charCodeAt(o+y)===47?m=y:y===0&&(m=0));break}var T=s.charCodeAt(o+y),L=r.charCodeAt(c+y);if(T!==L)break;T===47&&(m=y)}var C="";for(y=o+m+1;y<=i;++y)(y===i||s.charCodeAt(y)===47)&&(C.length===0?C+="..":C+="/..");return C.length>0?C+r.slice(c+m):(c+=m,r.charCodeAt(c)===47&&++c,r.slice(c))},_makeLong:function(s){return s},dirname:function(s){if(n(s),s.length===0)return".";for(var r=s.charCodeAt(0),o=r===47,i=-1,a=!0,c=s.length-1;c>=1;--c)if(r=s.charCodeAt(c),r===47){if(!a){i=c;break}}else a=!1;return i===-1?o?"/":".":o&&i===1?"//":s.slice(0,i)},basename:function(s,r){if(r!==void 0&&typeof r!="string")throw new TypeError('"ext" argument must be a string');n(s);var o=0,i=-1,a=!0,c;if(r!==void 0&&r.length>0&&r.length<=s.length){if(r.length===s.length&&r===s)return"";var p=r.length-1,g=-1;for(c=s.length-1;c>=0;--c){var b=s.charCodeAt(c);if(b===47){if(!a){o=c+1;break}}else g===-1&&(a=!1,g=c+1),p>=0&&(b===r.charCodeAt(p)?--p===-1&&(i=c):(p=-1,i=g))}return o===i?i=g:i===-1&&(i=s.length),s.slice(o,i)}else{for(c=s.length-1;c>=0;--c)if(s.charCodeAt(c)===47){if(!a){o=c+1;break}}else i===-1&&(a=!1,i=c+1);return i===-1?"":s.slice(o,i)}},extname:function(s){n(s);for(var r=-1,o=0,i=-1,a=!0,c=0,p=s.length-1;p>=0;--p){var g=s.charCodeAt(p);if(g===47){if(!a){o=p+1;break}continue}i===-1&&(a=!1,i=p+1),g===46?r===-1?r=p:c!==1&&(c=1):r!==-1&&(c=-1)}return r===-1||i===-1||c===0||c===1&&r===i-1&&r===o+1?"":s.slice(r,i)},format:function(s){if(s===null||typeof s!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof s);return l("/",s)},parse:function(s){n(s);var r={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return r;var o=s.charCodeAt(0),i=o===47,a;i?(r.root="/",a=1):a=0;for(var c=-1,p=0,g=-1,b=!0,m=s.length-1,y=0;m>=a;--m){if(o=s.charCodeAt(m),o===47){if(!b){p=m+1;break}continue}g===-1&&(b=!1,g=m+1),o===46?c===-1?c=m:y!==1&&(y=1):c!==-1&&(y=-1)}return c===-1||g===-1||y===0||y===1&&c===g-1&&c===p+1?g!==-1&&(p===0&&i?r.base=r.name=s.slice(1,g):r.base=r.name=s.slice(p,g)):(p===0&&i?(r.name=s.slice(1,c),r.base=s.slice(1,g)):(r.name=s.slice(p,c),r.base=s.slice(p,g)),r.ext=s.slice(c,g)),p>0?r.dir=s.slice(0,p-1):i&&(r.dir="/"),r},sep:"/",delimiter:":",win32:null,posix:null};return h.posix=h,Mr=h,Mr}var Mr,In,Tn,au=Qe(()=>{se(),oe(),ne(),qs(),Mr={},In=!1,Tn=su()}),Vs={};Zt(Vs,{URL:()=>la,Url:()=>ia,default:()=>Pe,fileURLToPath:()=>Hs,format:()=>na,parse:()=>aa,pathToFileURL:()=>zs,resolve:()=>oa,resolveObject:()=>sa});function ut(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function dr(e,n,t){if(e&&dt.isObject(e)&&e instanceof ut)return e;var l=new ut;return l.parse(e,n,t),l}function lu(){if(kn)return Ur;kn=!0;var e=De;function n(s){if(typeof s!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(s))}function t(s,r){for(var o="",i=0,a=-1,c=0,p,g=0;g<=s.length;++g){if(g<s.length)p=s.charCodeAt(g);else{if(p===47)break;p=47}if(p===47){if(!(a===g-1||c===1))if(a!==g-1&&c===2){if(o.length<2||i!==2||o.charCodeAt(o.length-1)!==46||o.charCodeAt(o.length-2)!==46){if(o.length>2){var b=o.lastIndexOf("/");if(b!==o.length-1){b===-1?(o="",i=0):(o=o.slice(0,b),i=o.length-1-o.lastIndexOf("/")),a=g,c=0;continue}}else if(o.length===2||o.length===1){o="",i=0,a=g,c=0;continue}}r&&(o.length>0?o+="/..":o="..",i=2)}else o.length>0?o+="/"+s.slice(a+1,g):o=s.slice(a+1,g),i=g-a-1;a=g,c=0}else p===46&&c!==-1?++c:c=-1}return o}function l(s,r){var o=r.dir||r.root,i=r.base||(r.name||"")+(r.ext||"");return o?o===r.root?o+i:o+s+i:i}var h={resolve:function(){for(var s="",r=!1,o,i=arguments.length-1;i>=-1&&!r;i--){var a;i>=0?a=arguments[i]:(o===void 0&&(o=e.cwd()),a=o),n(a),a.length!==0&&(s=a+"/"+s,r=a.charCodeAt(0)===47)}return s=t(s,!r),r?s.length>0?"/"+s:"/":s.length>0?s:"."},normalize:function(s){if(n(s),s.length===0)return".";var r=s.charCodeAt(0)===47,o=s.charCodeAt(s.length-1)===47;return s=t(s,!r),s.length===0&&!r&&(s="."),s.length>0&&o&&(s+="/"),r?"/"+s:s},isAbsolute:function(s){return n(s),s.length>0&&s.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var s,r=0;r<arguments.length;++r){var o=arguments[r];n(o),o.length>0&&(s===void 0?s=o:s+="/"+o)}return s===void 0?".":h.normalize(s)},relative:function(s,r){if(n(s),n(r),s===r||(s=h.resolve(s),r=h.resolve(r),s===r))return"";for(var o=1;o<s.length&&s.charCodeAt(o)===47;++o);for(var i=s.length,a=i-o,c=1;c<r.length&&r.charCodeAt(c)===47;++c);for(var p=r.length,g=p-c,b=a<g?a:g,m=-1,y=0;y<=b;++y){if(y===b){if(g>b){if(r.charCodeAt(c+y)===47)return r.slice(c+y+1);if(y===0)return r.slice(c+y)}else a>b&&(s.charCodeAt(o+y)===47?m=y:y===0&&(m=0));break}var T=s.charCodeAt(o+y),L=r.charCodeAt(c+y);if(T!==L)break;T===47&&(m=y)}var C="";for(y=o+m+1;y<=i;++y)(y===i||s.charCodeAt(y)===47)&&(C.length===0?C+="..":C+="/..");return C.length>0?C+r.slice(c+m):(c+=m,r.charCodeAt(c)===47&&++c,r.slice(c))},_makeLong:function(s){return s},dirname:function(s){if(n(s),s.length===0)return".";for(var r=s.charCodeAt(0),o=r===47,i=-1,a=!0,c=s.length-1;c>=1;--c)if(r=s.charCodeAt(c),r===47){if(!a){i=c;break}}else a=!1;return i===-1?o?"/":".":o&&i===1?"//":s.slice(0,i)},basename:function(s,r){if(r!==void 0&&typeof r!="string")throw new TypeError('"ext" argument must be a string');n(s);var o=0,i=-1,a=!0,c;if(r!==void 0&&r.length>0&&r.length<=s.length){if(r.length===s.length&&r===s)return"";var p=r.length-1,g=-1;for(c=s.length-1;c>=0;--c){var b=s.charCodeAt(c);if(b===47){if(!a){o=c+1;break}}else g===-1&&(a=!1,g=c+1),p>=0&&(b===r.charCodeAt(p)?--p===-1&&(i=c):(p=-1,i=g))}return o===i?i=g:i===-1&&(i=s.length),s.slice(o,i)}else{for(c=s.length-1;c>=0;--c)if(s.charCodeAt(c)===47){if(!a){o=c+1;break}}else i===-1&&(a=!1,i=c+1);return i===-1?"":s.slice(o,i)}},extname:function(s){n(s);for(var r=-1,o=0,i=-1,a=!0,c=0,p=s.length-1;p>=0;--p){var g=s.charCodeAt(p);if(g===47){if(!a){o=p+1;break}continue}i===-1&&(a=!1,i=p+1),g===46?r===-1?r=p:c!==1&&(c=1):r!==-1&&(c=-1)}return r===-1||i===-1||c===0||c===1&&r===i-1&&r===o+1?"":s.slice(r,i)},format:function(s){if(s===null||typeof s!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof s);return l("/",s)},parse:function(s){n(s);var r={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return r;var o=s.charCodeAt(0),i=o===47,a;i?(r.root="/",a=1):a=0;for(var c=-1,p=0,g=-1,b=!0,m=s.length-1,y=0;m>=a;--m){if(o=s.charCodeAt(m),o===47){if(!b){p=m+1;break}continue}g===-1&&(b=!1,g=m+1),o===46?c===-1?c=m:y!==1&&(y=1):c!==-1&&(y=-1)}return c===-1||g===-1||y===0||y===1&&c===g-1&&c===p+1?g!==-1&&(p===0&&i?r.base=r.name=s.slice(1,g):r.base=r.name=s.slice(p,g)):(p===0&&i?(r.name=s.slice(1,c),r.base=s.slice(1,g)):(r.name=s.slice(p,c),r.base=s.slice(p,g)),r.ext=s.slice(c,g)),p>0?r.dir=s.slice(0,p-1):i&&(r.dir="/"),r},sep:"/",delimiter:":",win32:null,posix:null};return h.posix=h,Ur=h,Ur}function uu(e){if(typeof e=="string")e=new URL(e);else if(!(e instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(e.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return jr?hu(e):cu(e)}function hu(e){let n=e.hostname,t=e.pathname;for(let l=0;l<t.length;l++)if(t[l]==="%"){let h=t.codePointAt(l+2)||32;if(t[l+1]==="2"&&h===102||t[l+1]==="5"&&h===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(t=t.replace(Js,"\\"),t=decodeURIComponent(t),n!=="")return`\\\\${n}${t}`;{let l=t.codePointAt(1)|32,h=t[2];if(l<Ys||l>Qs||h!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return t.slice(1)}}function cu(e){if(e.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let n=e.pathname;for(let t=0;t<n.length;t++)if(n[t]==="%"){let l=n.codePointAt(t+2)||32;if(n[t+1]==="2"&&l===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(n)}function fu(e){let n=On.resolve(e),t=e.charCodeAt(e.length-1);(t===Gs||jr&&t===Ks)&&n[n.length-1]!==On.sep&&(n+="/");let l=new URL("file://");return n.includes("%")&&(n=n.replace(Xs,"%25")),!jr&&n.includes("\\")&&(n=n.replace(Zs,"%5C")),n.includes(`
`)&&(n=n.replace(ea,"%0A")),n.includes("\r")&&(n=n.replace(ta,"%0D")),n.includes("	")&&(n=n.replace(ra,"%09")),l.pathname=n,l}function Hs(e){if(typeof e=="string")e=new URL(e);else if(!(e instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(e.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return Dr?du(e):pu(e)}function du(e){let n=e.hostname,t=e.pathname;for(let l=0;l<t.length;l++)if(t[l]==="%"){let h=t.codePointAt(l+2)||32;if(t[l+1]==="2"&&h===102||t[l+1]==="5"&&h===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(t=t.replace(da,"\\"),t=decodeURIComponent(t),n!=="")return`\\\\${n}${t}`;{let l=t.codePointAt(1)|32,h=t[2];if(l<ca||l>fa||h!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return t.slice(1)}}function pu(e){if(e.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let n=e.pathname;for(let t=0;t<n.length;t++)if(n[t]==="%"){let l=n.codePointAt(t+2)||32;if(n[t+1]==="2"&&l===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(n)}function zs(e){let n=Tn.resolve(e),t=e.charCodeAt(e.length-1);(t===ha||Dr&&t===ua)&&n[n.length-1]!==Tn.sep&&(n+="/");let l=new URL("file://");return n.includes("%")&&(n=n.replace(pa,"%25")),!Dr&&n.includes("\\")&&(n=n.replace(ga,"%5C")),n.includes(`
`)&&(n=n.replace(ba,"%0A")),n.includes("\r")&&(n=n.replace(ma,"%0D")),n.includes("	")&&(n=n.replace(ya,"%09")),l.pathname=n,l}var Pe,wo,dt,vo,_o,Eo,So,Ir,ni,oi,si,Ao,Io,Tr,Ht,kr,Ur,kn,On,To,Ks,Gs,Ys,Qs,jr,Js,Xs,Zs,ea,ta,ra,ko,ia,na,oa,sa,aa,la,ua,ha,ca,fa,Dr,da,pa,ga,ba,ma,ya,gu=Qe(()=>{se(),oe(),ne(),eu(),ru(),nu(),au(),qs(),Pe={},wo=Nt,dt={isString:function(e){return typeof e=="string"},isObject:function(e){return typeof e=="object"&&e!==null},isNull:function(e){return e===null},isNullOrUndefined:function(e){return e==null}},Pe.parse=dr,Pe.resolve=function(e,n){return dr(e,!1,!0).resolve(n)},Pe.resolveObject=function(e,n){return e?dr(e,!1,!0).resolveObject(n):n},Pe.format=function(e){return dt.isString(e)&&(e=dr(e)),e instanceof ut?e.format():ut.prototype.format.call(e)},Pe.Url=ut,vo=/^([a-z0-9.+-]+:)/i,_o=/:[0-9]*$/,Eo=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,So=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),Ir=["'"].concat(So),ni=["%","/","?",";","#"].concat(Ir),oi=["/","?","#"],si=/^[+a-z0-9A-Z_-]{0,63}$/,Ao=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Io={javascript:!0,"javascript:":!0},Tr={javascript:!0,"javascript:":!0},Ht={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},kr=bt,ut.prototype.parse=function(e,n,t){if(!dt.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var l=e.indexOf("?"),h=l!==-1&&l<e.indexOf("#")?"?":"#",s=e.split(h);s[0]=s[0].replace(/\\/g,"/");var r=e=s.join(h);if(r=r.trim(),!t&&e.split("#").length===1){var o=Eo.exec(r);if(o)return this.path=r,this.href=r,this.pathname=o[1],o[2]?(this.search=o[2],this.query=n?kr.parse(this.search.substr(1)):this.search.substr(1)):n&&(this.search="",this.query={}),this}var i=vo.exec(r);if(i){var a=(i=i[0]).toLowerCase();this.protocol=a,r=r.substr(i.length)}if(t||i||r.match(/^\/\/[^@\/]+@[^@\/]+/)){var c=r.substr(0,2)==="//";!c||i&&Tr[i]||(r=r.substr(2),this.slashes=!0)}if(!Tr[i]&&(c||i&&!Ht[i])){for(var p,g,b=-1,m=0;m<oi.length;m++)(y=r.indexOf(oi[m]))!==-1&&(b===-1||y<b)&&(b=y);for((g=b===-1?r.lastIndexOf("@"):r.lastIndexOf("@",b))!==-1&&(p=r.slice(0,g),r=r.slice(g+1),this.auth=decodeURIComponent(p)),b=-1,m=0;m<ni.length;m++){var y;(y=r.indexOf(ni[m]))!==-1&&(b===-1||y<b)&&(b=y)}b===-1&&(b=r.length),this.host=r.slice(0,b),r=r.slice(b),this.parseHost(),this.hostname=this.hostname||"";var T=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!T)for(var L=this.hostname.split(/\./),C=(m=0,L.length);m<C;m++){var k=L[m];if(k&&!k.match(si)){for(var U="",v=0,P=k.length;v<P;v++)k.charCodeAt(v)>127?U+="x":U+=k[v];if(!U.match(si)){var M=L.slice(0,m),F=L.slice(m+1),W=k.match(Ao);W&&(M.push(W[1]),F.unshift(W[2])),F.length&&(r="/"+F.join(".")+r),this.hostname=M.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),T||(this.hostname=wo.toASCII(this.hostname));var Q=this.port?":"+this.port:"",ae=this.hostname||"";this.host=ae+Q,this.href+=this.host,T&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),r[0]!=="/"&&(r="/"+r))}if(!Io[a])for(m=0,C=Ir.length;m<C;m++){var I=Ir[m];if(r.indexOf(I)!==-1){var $=encodeURIComponent(I);$===I&&($=escape(I)),r=r.split(I).join($)}}var G=r.indexOf("#");G!==-1&&(this.hash=r.substr(G),r=r.slice(0,G));var X=r.indexOf("?");if(X!==-1?(this.search=r.substr(X),this.query=r.substr(X+1),n&&(this.query=kr.parse(this.query)),r=r.slice(0,X)):n&&(this.search="",this.query={}),r&&(this.pathname=r),Ht[a]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){Q=this.pathname||"";var ge=this.search||"";this.path=Q+ge}return this.href=this.format(),this},ut.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var n=this.protocol||"",t=this.pathname||"",l=this.hash||"",h=!1,s="";this.host?h=e+this.host:this.hostname&&(h=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(h+=":"+this.port)),this.query&&dt.isObject(this.query)&&Object.keys(this.query).length&&(s=kr.stringify(this.query));var r=this.search||s&&"?"+s||"";return n&&n.substr(-1)!==":"&&(n+=":"),this.slashes||(!n||Ht[n])&&h!==!1?(h="//"+(h||""),t&&t.charAt(0)!=="/"&&(t="/"+t)):h||(h=""),l&&l.charAt(0)!=="#"&&(l="#"+l),r&&r.charAt(0)!=="?"&&(r="?"+r),n+h+(t=t.replace(/[?#]/g,function(o){return encodeURIComponent(o)}))+(r=r.replace("#","%23"))+l},ut.prototype.resolve=function(e){return this.resolveObject(dr(e,!1,!0)).format()},ut.prototype.resolveObject=function(e){if(dt.isString(e)){var n=new ut;n.parse(e,!1,!0),e=n}for(var t=new ut,l=Object.keys(this),h=0;h<l.length;h++){var s=l[h];t[s]=this[s]}if(t.hash=e.hash,e.href==="")return t.href=t.format(),t;if(e.slashes&&!e.protocol){for(var r=Object.keys(e),o=0;o<r.length;o++){var i=r[o];i!=="protocol"&&(t[i]=e[i])}return Ht[t.protocol]&&t.hostname&&!t.pathname&&(t.path=t.pathname="/"),t.href=t.format(),t}if(e.protocol&&e.protocol!==t.protocol){if(!Ht[e.protocol]){for(var a=Object.keys(e),c=0;c<a.length;c++){var p=a[c];t[p]=e[p]}return t.href=t.format(),t}if(t.protocol=e.protocol,e.host||Tr[e.protocol])t.pathname=e.pathname;else{for(var g=(e.pathname||"").split("/");g.length&&!(e.host=g.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),g[0]!==""&&g.unshift(""),g.length<2&&g.unshift(""),t.pathname=g.join("/")}if(t.search=e.search,t.query=e.query,t.host=e.host||"",t.auth=e.auth,t.hostname=e.hostname||e.host,t.port=e.port,t.pathname||t.search){var b=t.pathname||"",m=t.search||"";t.path=b+m}return t.slashes=t.slashes||e.slashes,t.href=t.format(),t}var y=t.pathname&&t.pathname.charAt(0)==="/",T=e.host||e.pathname&&e.pathname.charAt(0)==="/",L=T||y||t.host&&e.pathname,C=L,k=t.pathname&&t.pathname.split("/")||[],U=(g=e.pathname&&e.pathname.split("/")||[],t.protocol&&!Ht[t.protocol]);if(U&&(t.hostname="",t.port=null,t.host&&(k[0]===""?k[0]=t.host:k.unshift(t.host)),t.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(g[0]===""?g[0]=e.host:g.unshift(e.host)),e.host=null),L=L&&(g[0]===""||k[0]==="")),T)t.host=e.host||e.host===""?e.host:t.host,t.hostname=e.hostname||e.hostname===""?e.hostname:t.hostname,t.search=e.search,t.query=e.query,k=g;else if(g.length)k||(k=[]),k.pop(),k=k.concat(g),t.search=e.search,t.query=e.query;else if(!dt.isNullOrUndefined(e.search))return U&&(t.hostname=t.host=k.shift(),(W=!!(t.host&&t.host.indexOf("@")>0)&&t.host.split("@"))&&(t.auth=W.shift(),t.host=t.hostname=W.shift())),t.search=e.search,t.query=e.query,dt.isNull(t.pathname)&&dt.isNull(t.search)||(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.href=t.format(),t;if(!k.length)return t.pathname=null,t.search?t.path="/"+t.search:t.path=null,t.href=t.format(),t;for(var v=k.slice(-1)[0],P=(t.host||e.host||k.length>1)&&(v==="."||v==="..")||v==="",M=0,F=k.length;F>=0;F--)(v=k[F])==="."?k.splice(F,1):v===".."?(k.splice(F,1),M++):M&&(k.splice(F,1),M--);if(!L&&!C)for(;M--;M)k.unshift("..");!L||k[0]===""||k[0]&&k[0].charAt(0)==="/"||k.unshift(""),P&&k.join("/").substr(-1)!=="/"&&k.push("");var W,Q=k[0]===""||k[0]&&k[0].charAt(0)==="/";return U&&(t.hostname=t.host=Q?"":k.length?k.shift():"",(W=!!(t.host&&t.host.indexOf("@")>0)&&t.host.split("@"))&&(t.auth=W.shift(),t.host=t.hostname=W.shift())),(L=L||t.host&&k.length)&&!Q&&k.unshift(""),k.length?t.pathname=k.join("/"):(t.pathname=null,t.path=null),dt.isNull(t.pathname)&&dt.isNull(t.search)||(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.auth=e.auth||t.auth,t.slashes=t.slashes||e.slashes,t.href=t.format(),t},ut.prototype.parseHost=function(){var e=this.host,n=_o.exec(e);n&&((n=n[0])!==":"&&(this.port=n.substr(1)),e=e.substr(0,e.length-n.length)),e&&(this.hostname=e)},Pe.Url,Pe.format,Pe.resolve,Pe.resolveObject,Ur={},kn=!1,On=lu(),To=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,Pe.URL=typeof URL<"u"?URL:null,Pe.pathToFileURL=fu,Pe.fileURLToPath=uu,Pe.Url,Pe.format,Pe.resolve,Pe.resolveObject,Pe.URL,Ks=92,Gs=47,Ys=97,Qs=122,jr=To==="win32",Js=/\//g,Xs=/%/g,Zs=/\\/g,ea=/\n/g,ta=/\r/g,ra=/\t/g,ko=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,Pe.URL=typeof URL<"u"?URL:null,Pe.pathToFileURL=zs,Pe.fileURLToPath=Hs,ia=Pe.Url,na=Pe.format,oa=Pe.resolve,sa=Pe.resolveObject,aa=Pe.parse,la=Pe.URL,ua=92,ha=47,ca=97,fa=122,Dr=ko==="win32",da=/\//g,pa=/%/g,ga=/\\/g,ba=/\n/g,ma=/\r/g,ya=/\t/g}),Fn={};Zt(Fn,{Server:()=>Ne,Socket:()=>Ne,Stream:()=>Ne,_createServerHandle:()=>Ne,_normalizeArgs:()=>Ne,_setSimultaneousAccepts:()=>Ne,connect:()=>Ne,createConnection:()=>Ne,createServer:()=>Ne,default:()=>wa,isIP:()=>Ne,isIPv4:()=>Ne,isIPv6:()=>Ne});function Ne(){throw new Error("Node.js net module is not supported by JSPM core outside of Node.js")}var wa,va=Qe(()=>{se(),oe(),ne(),wa={_createServerHandle:Ne,_normalizeArgs:Ne,_setSimultaneousAccepts:Ne,connect:Ne,createConnection:Ne,createServer:Ne,isIP:Ne,isIPv4:Ne,isIPv6:Ne,Server:Ne,Socket:Ne,Stream:Ne}}),Oo=ye(e=>{se(),oe(),ne();var n=e&&e.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(e,"__esModule",{value:!0});var t=n((va(),Me(Fn))),l=n(Ct()),h=(0,l.default)("mqttjs:tcp"),s=(r,o)=>{o.port=o.port||1883,o.hostname=o.hostname||o.host||"localhost";let{port:i}=o,a=o.hostname;return h("port %d and host %s",i,a),t.default.createConnection(i,a)};e.default=s}),_a={};Zt(_a,{default:()=>Ea});var Ea,bu=Qe(()=>{se(),oe(),ne(),Ea={}}),Co=ye(e=>{se(),oe(),ne();var n=e&&e.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0});var t=n((bu(),Me(_a))),l=n((va(),Me(Fn))),h=n(Ct()),s=(0,h.default)("mqttjs:tls"),r=(o,i)=>{i.port=i.port||8883,i.host=i.hostname||i.host||"localhost",l.default.isIP(i.host)===0&&(i.servername=i.host),i.rejectUnauthorized=i.rejectUnauthorized!==!1,delete i.path,s("port %d host %s rejectUnauthorized %b",i.port,i.host,i.rejectUnauthorized);let a=t.default.connect(i);a.on("secureConnect",()=>{i.rejectUnauthorized&&!a.authorized?a.emit("error",new Error("TLS not authorized")):a.removeListener("error",c)});function c(p){i.rejectUnauthorized&&o.emit("error",p),a.end()}return a.on("error",c),a};e.default=r}),Wn=ye(e=>{se(),oe(),ne(),Object.defineProperty(e,"__esModule",{value:!0}),e.BufferedDuplex=e.writev=void 0;var n=rr();function t(h,s){let r=new Array(h.length);for(let o=0;o<h.length;o++)typeof h[o].chunk=="string"?r[o]=sr.from(h[o].chunk,"utf8"):r[o]=h[o].chunk;this._write(sr.concat(r),"binary",s)}e.writev=t;var l=class extends n.Duplex{constructor(h,s,r){super({objectMode:!0}),this.proxy=s,this.socket=r,this.writeQueue=[],h.objectMode||(this._writev=t.bind(this)),this.isSocketOpen=!1,this.proxy.on("data",o=>{this.push(o)})}_read(h){this.proxy.read(h)}_write(h,s,r){this.isSocketOpen?this.writeToProxy(h,s,r):this.writeQueue.push({chunk:h,encoding:s,cb:r})}_final(h){this.writeQueue=[],this.proxy.end(h)}socketReady(){this.emit("connect"),this.isSocketOpen=!0,this.processWriteQueue()}writeToProxy(h,s,r){this.proxy.write(h,s)===!1?this.proxy.once("drain",r):r()}processWriteQueue(){for(;this.writeQueue.length>0;){let{chunk:h,encoding:s,cb:r}=this.writeQueue.shift();this.writeToProxy(h,s,r)}}};e.BufferedDuplex=l}),Ro=ye(e=>{se(),oe(),ne(),Object.defineProperty(e,"__esModule",{value:!0});var n=(et(),Me(Ze)),t=rr(),l=Wn(),h,s,r;function o(){let g=new t.Transform;return g._write=(b,m,y)=>{h.send({data:b.buffer,success(){y()},fail(T){y(new Error(T))}})},g._flush=b=>{h.close({success(){b()}})},g}function i(g){g.hostname||(g.hostname="localhost"),g.path||(g.path="/"),g.wsOptions||(g.wsOptions={})}function a(g,b){let m=g.protocol==="wxs"?"wss":"ws",y=`${m}://${g.hostname}${g.path}`;return g.port&&g.port!==80&&g.port!==443&&(y=`${m}://${g.hostname}:${g.port}${g.path}`),typeof g.transformWsUrl=="function"&&(y=g.transformWsUrl(y,g,b)),y}function c(){h.onOpen(()=>{r.socketReady()}),h.onMessage(g=>{let{data:b}=g;b instanceof ArrayBuffer?b=n.Buffer.from(b):b=n.Buffer.from(b,"utf8"),s.push(b)}),h.onClose(()=>{r.emit("close"),r.end(),r.destroy()}),h.onError(g=>{let b=new Error(g.errMsg);r.destroy(b)})}var p=(g,b)=>{if(b.hostname=b.hostname||b.host,!b.hostname)throw new Error("Could not determine host. Specify host manually.");let m=b.protocolId==="MQIsdp"&&b.protocolVersion===3?"mqttv3.1":"mqtt";i(b);let y=a(b,g);h=wx.connectSocket({url:y,protocols:[m]}),s=o(),r=new l.BufferedDuplex(b,s,h),r._destroy=(L,C)=>{h.close({success(){C&&C(L)}})};let T=r.destroy;return r.destroy=(L,C)=>(r.destroy=T,setTimeout(()=>{h.close({fail(){r._destroy(L,C)}})},0),r),c(),r};e.default=p}),Po=ye(e=>{se(),oe(),ne(),Object.defineProperty(e,"__esModule",{value:!0});var n=(et(),Me(Ze)),t=rr(),l=Wn(),h,s,r,o=!1;function i(){let b=new t.Transform;return b._write=(m,y,T)=>{h.sendSocketMessage({data:m.buffer,success(){T()},fail(){T(new Error)}})},b._flush=m=>{h.closeSocket({success(){m()}})},b}function a(b){b.hostname||(b.hostname="localhost"),b.path||(b.path="/"),b.wsOptions||(b.wsOptions={})}function c(b,m){let y=b.protocol==="alis"?"wss":"ws",T=`${y}://${b.hostname}${b.path}`;return b.port&&b.port!==80&&b.port!==443&&(T=`${y}://${b.hostname}:${b.port}${b.path}`),typeof b.transformWsUrl=="function"&&(T=b.transformWsUrl(T,b,m)),T}function p(){o||(o=!0,h.onSocketOpen(()=>{r.socketReady()}),h.onSocketMessage(b=>{if(typeof b.data=="string"){let m=n.Buffer.from(b.data,"base64");s.push(m)}else{let m=new FileReader;m.addEventListener("load",()=>{let y=m.result;y instanceof ArrayBuffer?y=n.Buffer.from(y):y=n.Buffer.from(y,"utf8"),s.push(y)}),m.readAsArrayBuffer(b.data)}}),h.onSocketClose(()=>{r.end(),r.destroy()}),h.onSocketError(b=>{r.destroy(b)}))}var g=(b,m)=>{if(m.hostname=m.hostname||m.host,!m.hostname)throw new Error("Could not determine host. Specify host manually.");let y=m.protocolId==="MQIsdp"&&m.protocolVersion===3?"mqttv3.1":"mqtt";a(m);let T=c(m,b);return h=m.my,h.connectSocket({url:T,protocols:y}),s=i(),r=new l.BufferedDuplex(m,s,h),p(),r};e.default=g}),mu=ye((e,n)=>{se(),oe(),ne(),n.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}}),Bo=ye(e=>{se(),oe(),ne();var n=e&&e.__importDefault||function(L){return L&&L.__esModule?L:{default:L}};Object.defineProperty(e,"__esModule",{value:!0});var t=(et(),Me(Ze)),l=n(mu()),h=n(Ct()),s=rr(),r=n(Dn()),o=Wn(),i=(0,h.default)("mqttjs:ws"),a=["rejectUnauthorized","ca","cert","key","pfx","passphrase"];function c(L,C){let k=`${L.protocol}://${L.hostname}:${L.port}${L.path}`;return typeof L.transformWsUrl=="function"&&(k=L.transformWsUrl(k,L,C)),k}function p(L){let C=L;return L.hostname||(C.hostname="localhost"),L.port||(L.protocol==="wss"?C.port=443:C.port=80),L.path||(C.path="/"),L.wsOptions||(C.wsOptions={}),!r.default&&L.protocol==="wss"&&a.forEach(k=>{Object.prototype.hasOwnProperty.call(L,k)&&!Object.prototype.hasOwnProperty.call(L.wsOptions,k)&&(C.wsOptions[k]=L[k])}),C}function g(L){let C=p(L);if(C.hostname||(C.hostname=C.host),!C.hostname){if(typeof document>"u")throw new Error("Could not determine host. Specify host manually.");let k=new URL(document.URL);C.hostname=k.hostname,C.port||(C.port=Number(k.port))}return C.objectMode===void 0&&(C.objectMode=!(C.binary===!0||C.binary===void 0)),C}function b(L,C,k){i("createWebSocket"),i(`protocol: ${k.protocolId} ${k.protocolVersion}`);let U=k.protocolId==="MQIsdp"&&k.protocolVersion===3?"mqttv3.1":"mqtt";i(`creating new Websocket for url: ${C} and protocol: ${U}`);let v;return k.createWebsocket?v=k.createWebsocket(C,[U],k):v=new l.default(C,[U],k.wsOptions),v}function m(L,C){let k=C.protocolId==="MQIsdp"&&C.protocolVersion===3?"mqttv3.1":"mqtt",U=c(C,L),v;return C.createWebsocket?v=C.createWebsocket(U,[k],C):v=new WebSocket(U,[k]),v.binaryType="arraybuffer",v}var y=(L,C)=>{i("streamBuilder");let k=p(C),U=c(k,L),v=b(L,U,k),P=l.default.createWebSocketStream(v,k.wsOptions);return P.url=U,v.on("close",()=>{P.destroy()}),P},T=(L,C)=>{i("browserStreamBuilder");let k,U=g(C).browserBufferSize||1024*512,v=C.browserBufferTimeout||1e3,P=!C.objectMode,M=m(L,C),F=Q(C,X,ge);C.objectMode||(F._writev=o.writev.bind(F)),F.on("close",()=>{M.close()});let W=typeof M.addEventListener<"u";M.readyState===M.OPEN?(k=F,k.socket=M):(k=new o.BufferedDuplex(C,F,M),W?M.addEventListener("open",ae):M.onopen=ae),W?(M.addEventListener("close",I),M.addEventListener("error",$),M.addEventListener("message",G)):(M.onclose=I,M.onerror=$,M.onmessage=G);function Q(Z,q,be){let ie=new s.Transform({objectMode:Z.objectMode});return ie._write=q,ie._flush=be,ie}function ae(){i("WebSocket onOpen"),k instanceof o.BufferedDuplex&&k.socketReady()}function I(Z){i("WebSocket onClose",Z),k.end(),k.destroy()}function $(Z){i("WebSocket onError",Z);let q=new Error("WebSocket error");q.event=Z,k.destroy(q)}function G(Z){let{data:q}=Z;q instanceof ArrayBuffer?q=t.Buffer.from(q):q=t.Buffer.from(q,"utf8"),F.push(q)}function X(Z,q,be){if(M.bufferedAmount>U){setTimeout(X,v,Z,q,be);return}P&&typeof Z=="string"&&(Z=t.Buffer.from(Z,"utf8"));try{M.send(Z)}catch(ie){return be(ie)}be()}function ge(Z){M.close(),Z()}return k};e.default=r.default?T:y}),yu=ye(e=>{se(),oe(),ne();var n=e&&e.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(e,"__esModule",{value:!0}),e.connectAsync=void 0;var t=n(Ct()),l=n((gu(),Me(Vs))),h=n(_n()),s=n(Dn()),r=(0,t.default)("mqttjs"),o={};s.default?(o.wx=Ro().default,o.wxs=Ro().default,o.ali=Po().default,o.alis=Po().default):(o.mqtt=Oo().default,o.tcp=Oo().default,o.ssl=Co().default,o.tls=o.ssl,o.mqtts=Co().default),o.ws=Bo().default,o.wss=Bo().default;function i(p){let g;p.auth&&(g=p.auth.match(/^(.+):(.+)$/),g?(p.username=g[1],p.password=g[2]):p.username=p.auth)}function a(p,g){if(r("connecting to an MQTT broker..."),typeof p=="object"&&!g&&(g=p,p=""),g=g||{},p&&typeof p=="string"){let y=l.default.parse(p,!0);if(y.port!=null&&(y.port=Number(y.port)),g=Object.assign(Object.assign({},y),g),g.protocol===null)throw new Error("Missing protocol");g.protocol=g.protocol.replace(/:$/,"")}if(i(g),g.query&&typeof g.query.clientId=="string"&&(g.clientId=g.query.clientId),g.cert&&g.key)if(g.protocol){if(["mqtts","wss","wxs","alis"].indexOf(g.protocol)===-1)switch(g.protocol){case"mqtt":g.protocol="mqtts";break;case"ws":g.protocol="wss";break;case"wx":g.protocol="wxs";break;case"ali":g.protocol="alis";break;default:throw new Error(`Unknown protocol for secure connection: "${g.protocol}"!`)}}else throw new Error("Missing secure protocol key");if(!o[g.protocol]){let y=["mqtts","wss"].indexOf(g.protocol)!==-1;g.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter((T,L)=>y&&L%2===0?!1:typeof o[T]=="function")[0]}if(g.clean===!1&&!g.clientId)throw new Error("Missing clientId for unclean clients");g.protocol&&(g.defaultProtocol=g.protocol);function b(y){return g.servers&&((!y._reconnectCount||y._reconnectCount===g.servers.length)&&(y._reconnectCount=0),g.host=g.servers[y._reconnectCount].host,g.port=g.servers[y._reconnectCount].port,g.protocol=g.servers[y._reconnectCount].protocol?g.servers[y._reconnectCount].protocol:g.defaultProtocol,g.hostname=g.host,y._reconnectCount++),r("calling streambuilder for",g.protocol),o[g.protocol](y,g)}let m=new h.default(b,g);return m.on("error",()=>{}),m}function c(p,g,b=!0){return new Promise((m,y)=>{let T=a(p,g),L={connect:k=>{C(),m(T)},end:()=>{C(),m(T)},error:k=>{C(),T.end(),y(k)}};b===!1&&(L.close=()=>{L.error(new Error("Couldn't connect to server"))});function C(){Object.keys(L).forEach(k=>{T.off(k,L[k])})}Object.keys(L).forEach(k=>{T.on(k,L[k])})})}e.connectAsync=c,e.default=a}),xo=ye(e=>{se(),oe(),ne();var n=e&&e.__createBinding||(Object.create?function(g,b,m,y){y===void 0&&(y=m);var T=Object.getOwnPropertyDescriptor(b,m);(!T||("get"in T?!b.__esModule:T.writable||T.configurable))&&(T={enumerable:!0,get:function(){return b[m]}}),Object.defineProperty(g,y,T)}:function(g,b,m,y){y===void 0&&(y=m),g[y]=b[m]}),t=e&&e.__setModuleDefault||(Object.create?function(g,b){Object.defineProperty(g,"default",{enumerable:!0,value:b})}:function(g,b){g.default=b}),l=e&&e.__importStar||function(g){if(g&&g.__esModule)return g;var b={};if(g!=null)for(var m in g)m!=="default"&&Object.prototype.hasOwnProperty.call(g,m)&&n(b,g,m);return t(b,g),b},h=e&&e.__exportStar||function(g,b){for(var m in g)m!=="default"&&!Object.prototype.hasOwnProperty.call(b,m)&&n(b,g,m)},s=e&&e.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(e,"__esModule",{value:!0}),e.ReasonCodes=e.UniqueMessageIdProvider=e.DefaultMessageIdProvider=e.Store=e.MqttClient=e.connectAsync=e.connect=e.Client=void 0;var r=s(_n());e.MqttClient=r.default;var o=s(_s());e.DefaultMessageIdProvider=o.default;var i=s(Zl());e.UniqueMessageIdProvider=i.default;var a=s(Es());e.Store=a.default;var c=l(yu());e.connect=c.default,Object.defineProperty(e,"connectAsync",{enumerable:!0,get:function(){return c.connectAsync}}),e.Client=r.default,h(_n(),e),h(wr(),e);var p=Vr();Object.defineProperty(e,"ReasonCodes",{enumerable:!0,get:function(){return p.ReasonCodes}})}),wu=ye(e=>{se(),oe(),ne();var n=e&&e.__createBinding||(Object.create?function(r,o,i,a){a===void 0&&(a=i);var c=Object.getOwnPropertyDescriptor(o,i);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[i]}}),Object.defineProperty(r,a,c)}:function(r,o,i,a){a===void 0&&(a=i),r[a]=o[i]}),t=e&&e.__setModuleDefault||(Object.create?function(r,o){Object.defineProperty(r,"default",{enumerable:!0,value:o})}:function(r,o){r.default=o}),l=e&&e.__importStar||function(r){if(r&&r.__esModule)return r;var o={};if(r!=null)for(var i in r)i!=="default"&&Object.prototype.hasOwnProperty.call(r,i)&&n(o,r,i);return t(o,r),o},h=e&&e.__exportStar||function(r,o){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(o,i)&&n(o,r,i)};Object.defineProperty(e,"__esModule",{value:!0});var s=l(xo());e.default=s,h(xo(),e)});const vu=wu();/*! Bundled license information:

@jspm/core/nodelibs/browser/buffer.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)
*/const Au=Ta({__name:"control",setup(e){const n="emqx_vue3_"+Math.random().toString(16).substring(2,8),{username:t,password:l}=Ia(),h=vu.connect("wss://seab0915.ala.cn-hangzhou.emqxsl.cn:8084/mqtt",{clientId:n,username:t,password:l});h.on("connect",()=>{h.subscribe("esp8266/will",i=>{i&&console.log(i)}),h.subscribe("led/status",i=>{i&&console.log(i)})}),h.on("message",(i,a)=>{const c=a.toString();switch(console.log(i,c),i){case"esp8266/will":r.value=c=="online";break;case"led/status":s.value=JSON.parse(c).status}});const s=Vn(!1),r=Vn(!1),o=i=>{h.publish("led/ctl",i?"open":"close")};return ka(()=>{console.log(""),h.end()}),(i,a)=>{const c=_r("a-typography-text"),p=_r("a-col"),g=_r("a-switch"),b=_r("a-row");return Oa(),Ca(Ba,null,[Ra("div",null,[zr("  "),ur(c,{type:r.value?"success":"danger"},{default:Er(()=>[zr(Pa(r.value?"":""),1)]),_:1},8,["type"])]),ur(b,{gutter:16},{default:Er(()=>[ur(p,null,{default:Er(()=>[zr(" LED ")]),_:1}),ur(p,null,{default:Er(()=>[ur(g,{checked:s.value,"onUpdate:checked":a[0]||(a[0]=m=>s.value=m),onClick:o,disabled:!r.value},null,8,["checked","disabled"])]),_:1})]),_:1})],64)}}});export{Au as default};
